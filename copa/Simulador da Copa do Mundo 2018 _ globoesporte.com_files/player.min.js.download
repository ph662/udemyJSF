!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.WP3=e():t.WP3=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="<%=baseUrl%>/",e(e.s=108)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(109),a=n(r),o=i(11),s=n(o),l=i(8),u=n(l),c=i(13),d=n(c),h=i(44),p=n(h),f=i(35),y=n(f),g=i(45),v=n(g),m=i(43),b=n(m),_=i(21),E=n(_),A=i(27),k=n(A),T=i(18),w=n(T),C=i(85),S=n(C),L=i(84),P=n(L),O=i(89),R=n(O),I=i(30),x=n(I),D=i(86),M=n(D),N=i(41),B=n(N),F=i(65),U=n(F),j=i(92),G=n(j),V=i(94),H=n(V),Y=i(95),K=n(Y),$=i(93),z=n($),W=i(42),q=n(W),X=i(97),Z=n(X),Q=i(98),J=n(Q),tt=i(99),et=n(tt),it=i(63),nt=n(it),rt=i(247),at=n(rt),ot=i(40),st=n(ot),lt=i(12),ut=n(lt),ct=i(7),dt=n(ct);e.default={Player:a.default,Mediator:x.default,Events:u.default,Browser:w.default,PlayerInfo:B.default,MediaControl:M.default,ContainerPlugin:p.default,UIContainerPlugin:b.default,CorePlugin:y.default,UICorePlugin:v.default,Playback:d.default,Container:S.default,Core:P.default,Loader:R.default,BaseObject:E.default,UIObject:k.default,Utils:s.default,BaseFlashPlayback:U.default,Flash:G.default,FlasHLS:H.default,HLS:K.default,HTML5Audio:z.default,HTML5Video:q.default,HTMLImg:Z.default,NoOp:J.default,Poster:et.default,Log:nt.default,Styler:at.default,Vendor:st.default,version:"0.2.79",template:ut.default,$:dt.default},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(){n(this,t)};e.default=r,r.WM_PLAY_REQUESTED="wm:play:requested",r.WM_PLAY_REQUESTED_READY="wm:play:requested:ready",r.DFP_MANAGER_LOADED="dfp:manager:loaded",r.DFP_ENABLE="dfp:enable",r.DFP_DISABLE="dfp:disable",r.DFP_AD_LOADED="dfp:ad:loaded",r.DFP_AD_CLOSED="dfp:ad:closed",r.DFP_AD_STARTED="dfp:ad:started",r.DFP_AD_RESUME="dfp:playback:resume",r.DFP_AD_PAUSE="dfp:playback:pause",r.DFP_AD_CLICKED="dfp:ad:clicked",r.DFP_AD_COMPLETED="dfp:ad:completed",r.DFP_AD_SKIPPED="dfp:ad:skipped",r.DFP_AD_NOTSERVED="dfp:ad:notserved",r.DFP_AD_ERROR="dfp:ad:error",r.DFP_AD_METADATA="dfp:metadata",r.DFP_ALL_ADS_COMPLETED="dfp:allads:completed",r.DFP_CONTENT_PAUSE="dfp:content:pause",r.DFP_CONTENT_RESUME="dfp:content:resume",r.DFP_CONTENT_STARTED="dfp:content:started",r.DFP_CONTENT_ENDED="dfp:content:ended",r.DFP_FINISHED="dfp:finished",r.YOUBORA_TIMEMARK="youbora:timemark",r.WM_VIDEO_METADATALOADED="wm:videometadata:loaded",r.WM_PLAYLIST_LOADED="wm:playlist:loaded",r.WM_HASH_LOADED="wm:hash:loaded",r.WM_RESOURCE_SELECTED="wm:resource:selected",r.WM_SETTINGS_SHOW="wm:settings:show",r.WM_VOLUME_SHOW="wm:volume:show",r.WM_VOLUME_HIDE="wm:volume:hide",r.WM_MUTED="wm:muted",r.WM_UNMUTED="wm:unmuted",r.WM_SHARE_SHOW="wm:share:show",r.WM_SHARE_HIDE="wm:share:hide",r.WM_SETTINGS_HIDE="wm:settings:hide",r.WM_SETTINGS_OPTIONS_CHANGED="wm:settings:options:changed",r.WM_SETTINGS_LEVEL_SELECTED="wm:settings:level:selected",r.WM_LEVELSELECTOR_READY="wm:levelselector:ready",r.WM_AUDIOSELECTOR_READY="wm:audioselector:ready",r.STREAMSENSE_READY="streamsense:ready",r.WM_SUBTITLE_CHANGED="wm:subtitle:changed",r.WM_SUBTITLE_AVAILABLE="wm:subtitle:available",r.WM_AUDIO_CHANGED="wm:audio:changed",r.WM_WROOM_AUTHORIZE="wm:authorize:wroom",r.WM_WROOM_AUTHORIZED="wm:authorized:wroom",r.WM_PLAYBACK_BUILT="wm:playback:built",r.WM_PIP_ADDED="wm:pip:added",r.WM_PIP_DISCARDED="wm:pip:discarded",r.WM_MASTER_ADDED="wm:master:added",r.WM_MASTER_CHANGED="wm:master:changed",r.WM_PIPTOMASTER="wm:piptomaster",r.WM_MASTERTOPIP="wm:mastertopip",r.WM_STATS_REPORTED="wm:stats:reported",r.PLAYER_PIP_ADDED="player:pip:added",r.PLAYER_PIP_DISCARDED="player:pip:discarded",r.PLAYER_MASTER_ADDED="player:master:added",r.PLAYER_MASTER_CHANGED="player:master:changed",r.PLAYER_PIPTOMASTER="player:piptomaster",r.MEDIACONTROL_MODAL_SHOW="mediacontrol:showmodal",r.MEDIACONTROL_MODAL_HIDE="mediacontrol:hidemodal",r.MEDIACONTROL_KEEPVISIBLE="mediacontrol:keepvisible",r.MEDIACONTROL_ITEMCLICKED="mediacontrol:itemclicked",r.PLAYER_MEDIACONTROL_SHOW="player:mediacontrol:show",r.PLAYER_MEDIACONTROL_HIDE="player:mediacontrol:hide",t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=i(39),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==(void 0===e?"undefined":(0,r.default)(e))&&"function"!=typeof e?t:e}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(139),a=n(r),o=i(83),s=n(o),l=i(39),u=n(l);e.default=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,u.default)(e)));t.prototype=(0,s.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(a.default?(0,a.default)(t,e):t.__proto__=e)}},function(t,e,i){"use strict";function n(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var a=r(n);return[i].concat(n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"})).concat([a]).join("\n")}return[i].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=n(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e,i){"use strict";e.__esModule=!0;var n=i(82),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t){return null==t?String(t):q[X.call(t)]||"object"}function e(e){return"function"==t(e)}function i(t){return null!=t&&t==t.window}function r(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function a(e){return"object"==t(e)}function o(t){return a(t)&&!i(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){return"number"==typeof t.length}function l(t){return R.call(t,function(t){return null!=t})}function u(t){return t.length>0?w.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function d(t){return t in M?M[t]:M[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||N[c(t)]?e:e+"px"}function p(t){var e,i;return D[t]||(e=x.createElement(t),x.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),D[t]=i),D[t]}function f(t){return"children"in t?I.call(t.children):w.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function y(t,e){var i,n=t?t.length:0;for(i=0;i<n;i++)this[i]=t[i];this.length=n,this.selector=e||""}function g(t,e,i){for(T in e)i&&(o(e[T])||tt(e[T]))?(o(e[T])&&!o(t[T])&&(t[T]={}),tt(e[T])&&!tt(t[T])&&(t[T]=[]),g(t[T],e[T],i)):e[T]!==k&&(t[T]=e[T])}function v(t,e){return null==e?w(t):w(t).filter(e)}function m(t,i,n,r){return e(i)?i.call(t,n,r):i}function b(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function _(t,e){var i=t.className||"",n=i&&i.baseVal!==k;if(e===k)return n?i.baseVal:i;n?i.baseVal=e:t.className=e}function E(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?w.parseJSON(t):t):t}catch(e){return t}}function A(t,e){e(t);for(var i=0,n=t.childNodes.length;i<n;i++)A(t.childNodes[i],e)}var k,T,w,C,S,L,P=[],O=P.concat,R=P.filter,I=P.slice,x=window.document,D={},M={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},B=/^\s*<(\w+|!)[^>]*>/,F=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,U=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,j=/^(?:body|html)$/i,G=/([A-Z])/g,V=["val","css","html","text","data","width","height","offset"],H=["after","prepend","before","append"],Y=x.createElement("table"),K=x.createElement("tr"),$={tr:x.createElement("tbody"),tbody:Y,thead:Y,tfoot:Y,td:K,th:K,"*":x.createElement("div")},z=/complete|loaded|interactive/,W=/^[\w-]*$/,q={},X=q.toString,Z={},Q=x.createElement("div"),J={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},tt=Array.isArray||function(t){return t instanceof Array};return Z.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,r=t.parentNode,a=!r;return a&&(r=Q).appendChild(t),n=~Z.qsa(r,e).indexOf(t),a&&Q.removeChild(t),n},S=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},L=function(t){return R.call(t,function(e,i){return t.indexOf(e)==i})},Z.fragment=function(t,e,i){var n,r,a;return F.test(t)&&(n=w(x.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(U,"<$1></$2>")),e===k&&(e=B.test(t)&&RegExp.$1),e in $||(e="*"),a=$[e],a.innerHTML=""+t,n=w.each(I.call(a.childNodes),function(){a.removeChild(this)})),o(i)&&(r=w(n),w.each(i,function(t,e){V.indexOf(t)>-1?r[t](e):r.attr(t,e)})),n},Z.Z=function(t,e){return new y(t,e)},Z.isZ=function(t){return t instanceof Z.Z},Z.init=function(t,i){var n;if(!t)return Z.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&B.test(t))n=Z.fragment(t,RegExp.$1,i),t=null;else{if(i!==k)return w(i).find(t);n=Z.qsa(x,t)}else{if(e(t))return w(x).ready(t);if(Z.isZ(t))return t;if(tt(t))n=l(t);else if(a(t))n=[t],t=null;else if(B.test(t))n=Z.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==k)return w(i).find(t);n=Z.qsa(x,t)}}return Z.Z(n,t)},w=function(t,e){return Z.init(t,e)},w.extend=function(t){var e,i=I.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){g(t,i,e)}),t},Z.qsa=function(t,e){var i,n="#"==e[0],r=!n&&"."==e[0],a=n||r?e.slice(1):e,o=W.test(a);return t.getElementById&&o&&n?(i=t.getElementById(a))?[i]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:I.call(o&&!n&&t.getElementsByClassName?r?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},w.contains=x.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},w.type=t,w.isFunction=e,w.isWindow=i,w.isArray=tt,w.isPlainObject=o,w.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},w.inArray=function(t,e,i){return P.indexOf.call(e,t,i)},w.camelCase=S,w.trim=function(t){return null==t?"":String.prototype.trim.call(t)},w.uuid=0,w.support={},w.expr={},w.noop=function(){},w.map=function(t,e){var i,n,r,a=[];if(s(t))for(n=0;n<t.length;n++)null!=(i=e(t[n],n))&&a.push(i);else for(r in t)null!=(i=e(t[r],r))&&a.push(i);return u(a)},w.each=function(t,e){var i,n;if(s(t)){for(i=0;i<t.length;i++)if(!1===e.call(t[i],i,t[i]))return t}else for(n in t)if(!1===e.call(t[n],n,t[n]))return t;return t},w.grep=function(t,e){return R.call(t,e)},window.JSON&&(w.parseJSON=JSON.parse),w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){q["[object "+e+"]"]=e.toLowerCase()}),w.fn={constructor:Z.Z,length:0,forEach:P.forEach,reduce:P.reduce,push:P.push,sort:P.sort,splice:P.splice,indexOf:P.indexOf,concat:function(){var t,e,i=[];for(t=0;t<arguments.length;t++)e=arguments[t],i[t]=Z.isZ(e)?e.toArray():e;return O.apply(Z.isZ(this)?this.toArray():this,i)},map:function(t){return w(w.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return w(I.apply(this,arguments))},ready:function(t){return z.test(x.readyState)&&x.body?t(w):x.addEventListener("DOMContentLoaded",function(){t(w)},!1),this},get:function(t){return t===k?I.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return P.every.call(this,function(e,i){return!1!==t.call(e,i,e)}),this},filter:function(t){return e(t)?this.not(this.not(t)):w(R.call(this,function(e){return Z.matches(e,t)}))},add:function(t,e){return w(L(this.concat(w(t,e))))},is:function(t){return this.length>0&&Z.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==k)this.each(function(e){t.call(this,e)||i.push(this)});else{var n="string"==typeof t?this.filter(t):s(t)&&e(t.item)?I.call(t):w(t);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return w(i)},has:function(t){return this.filter(function(){return a(t)?w.contains(this,t):w(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!a(t)?t:w(t)},last:function(){var t=this[this.length-1];return t&&!a(t)?t:w(t)},find:function(t){var e=this;return t?"object"==(void 0===t?"undefined":n(t))?w(t).filter(function(){var t=this;return P.some.call(e,function(e){return w.contains(e,t)})}):1==this.length?w(Z.qsa(this[0],t)):this.map(function(){return Z.qsa(this,t)}):w()},closest:function(t,e){var i=this[0],a=!1;for("object"==(void 0===t?"undefined":n(t))&&(a=w(t));i&&!(a?a.indexOf(i)>=0:Z.matches(i,t));)i=i!==e&&!r(i)&&i.parentNode;return w(i)},parents:function(t){for(var e=[],i=this;i.length>0;)i=w.map(i,function(t){if((t=t.parentNode)&&!r(t)&&e.indexOf(t)<0)return e.push(t),t});return v(e,t)},parent:function(t){return v(L(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return f(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||I.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return R.call(f(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return w.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=w(t).get(0),r=n.parentNode||this.length>1;return this.each(function(e){w(this).wrapAll(i?t.call(this,e):r?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){w(this[0]).before(t=w(t));for(var e;(e=t.children()).length;)t=e.first();w(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=w(this),r=n.contents(),a=i?t.call(this,e):t;r.length?r.wrapAll(a):n.append(a)})},unwrap:function(){return this.parent().each(function(){w(this).replaceWith(w(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=w(this);(t===k?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return w(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return w(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;w(this).empty().append(m(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var i=m(this,t,e,this.textContent);this.textContent=null==i?"":""+i}):0 in this?this.pluck("textContent").join(""):null},attr:function(t,e){var i;return"string"!=typeof t||1 in arguments?this.each(function(i){if(1===this.nodeType)if(a(t))for(T in t)b(this,T,t[T]);else b(this,t,m(this,e,i,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:k},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){b(this,t)},this)})},prop:function(t,e){return t=J[t]||t,1 in arguments?this.each(function(i){this[t]=m(this,e,i,this[t])}):this[0]&&this[0][t]},data:function(t,e){var i="data-"+t.replace(G,"-$1").toLowerCase(),n=1 in arguments?this.attr(i,e):this.attr(i);return null!==n?E(n):k},val:function(t){return 0 in arguments?this.each(function(e){this.value=m(this,t,e,this.value)}):this[0]&&(this[0].multiple?w(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=w(this),n=m(this,t,e,i.offset()),r=i.offsetParent().offset(),a={top:n.top-r.top,left:n.left-r.left};"static"==i.css("position")&&(a.position="relative"),i.css(a)});if(!this.length)return null;if(!w.contains(x.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,i){if(arguments.length<2){var n,r=this[0];if(!r)return;if(n=getComputedStyle(r,""),"string"==typeof e)return r.style[S(e)]||n.getPropertyValue(e);if(tt(e)){var a={};return w.each(e,function(t,e){a[e]=r.style[S(e)]||n.getPropertyValue(e)}),a}}var o="";if("string"==t(e))i||0===i?o=c(e)+":"+h(e,i):this.each(function(){this.style.removeProperty(c(e))});else for(T in e)e[T]||0===e[T]?o+=c(T)+":"+h(T,e[T])+";":this.each(function(){this.style.removeProperty(c(T))});return this.each(function(){this.style.cssText+=";"+o})},index:function(t){return t?this.indexOf(w(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&P.some.call(this,function(t){return this.test(_(t))},d(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){C=[];var i=_(this);m(this,t,e,i).split(/\s+/g).forEach(function(t){w(this).hasClass(t)||C.push(t)},this),C.length&&_(this,i+(i?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===k)return _(this,"");C=_(this),m(this,t,e,C).split(/\s+/g).forEach(function(t){C=C.replace(d(t)," ")}),_(this,C.trim())}})},toggleClass:function(t,e){return t?this.each(function(i){var n=w(this);m(this,t,i,_(this)).split(/\s+/g).forEach(function(t){(e===k?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===k?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===k?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=j.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(w(t).css("margin-top"))||0,i.left-=parseFloat(w(t).css("margin-left"))||0,n.top+=parseFloat(w(e[0]).css("border-top-width"))||0,n.left+=parseFloat(w(e[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||x.body;t&&!j.test(t.nodeName)&&"static"==w(t).css("position");)t=t.offsetParent;return t})}},w.fn.detach=w.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});w.fn[t]=function(n){var a,o=this[0];return n===k?i(o)?o["inner"+e]:r(o)?o.documentElement["scroll"+e]:(a=this.offset())&&a[t]:this.each(function(e){o=w(this),o.css(t,m(this,n,e,o[t]()))})}}),H.forEach(function(e,i){var n=i%2;w.fn[e]=function(){var e,r,a=w.map(arguments,function(i){return e=t(i),"object"==e||"array"==e||null==i?i:Z.fragment(i)}),o=this.length>1;return a.length<1?this:this.each(function(t,e){r=n?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null;var s=w.contains(x.documentElement,r);a.forEach(function(t){if(o)t=t.cloneNode(!0);else if(!r)return w(t).remove();r.insertBefore(t,e),s&&A(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},w.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){return w(t)[e](this),this}}),Z.Z.prototype=y.prototype=w.fn,Z.uniq=L,Z.deserializeValue=E,w.zepto=Z,w}();!function(t){function e(t){return t._zid||(t._zid=h++)}function i(t,i,a,o){if(i=n(i),i.ns)var s=r(i.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!i.e||t.e==i.e)&&(!i.ns||s.test(t.ns))&&(!a||e(t.fn)===e(a))&&(!o||t.sel==o)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function a(t,e){return t.del&&!m&&t.e in b||!!e}function o(t){return _[t]||m&&b[t]||t}function s(i,r,s,l,c,h,p){var f=e(i),y=g[f]||(g[f]=[]);r.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var r=n(e);r.fn=s,r.sel=c,r.e in _&&(s=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return r.fn.apply(this,arguments)}),r.del=h;var f=h||s;r.proxy=function(t){if(t=u(t),!t.isImmediatePropagationStopped()){t.data=l;var e=f.apply(i,t._args==d?[t]:[t].concat(t._args));return!1===e&&(t.preventDefault(),t.stopPropagation()),e}},r.i=y.length,y.push(r),"addEventListener"in i&&i.addEventListener(o(r.e),r.proxy,a(r,p))})}function l(t,n,r,s,l){var u=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,r,s).forEach(function(e){delete g[u][e.i],"removeEventListener"in t&&t.removeEventListener(o(e.e),e.proxy,a(e,l))})})}function u(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(T,function(t,n){var r=i[t];e[t]=function(){return this[n]=E,r&&r.apply(i,arguments)},e[n]=A}),(i.defaultPrevented!==d?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=E)),e}function c(t){var e,i={originalEvent:t};for(e in t)k.test(e)||t[e]===d||(i[e]=t[e]);return u(i,t)}var d,h=1,p=Array.prototype.slice,f=t.isFunction,y=function(t){return"string"==typeof t},g={},v={},m="onfocusin"in window,b={focus:"focusin",blur:"focusout"},_={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:s,remove:l},t.proxy=function(i,n){var r=2 in arguments&&p.call(arguments,2);if(f(i)){var a=function(){return i.apply(n,r?r.concat(p.call(arguments)):arguments)};return a._zid=e(i),a}if(y(n))return r?(r.unshift(i[n],i),t.proxy.apply(null,r)):t.proxy(i[n],i);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var E=function(){return!0},A=function(){return!1},k=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,n,r,a){var o,u,h=this;return e&&!y(e)?(t.each(e,function(t,e){h.on(t,i,n,e,a)}),h):(y(i)||f(r)||!1===r||(r=n,n=i,i=d),r!==d&&!1!==n||(r=n,n=d),!1===r&&(r=A),h.each(function(d,h){a&&(o=function(t){return l(h,t.type,r),r.apply(this,arguments)}),i&&(u=function(e){var n,a=t(e.target).closest(i,h).get(0);if(a&&a!==h)return n=t.extend(c(e),{currentTarget:a,liveFired:h}),(o||r).apply(a,[n].concat(p.call(arguments,1)))}),s(h,e,r,n,i,u||o)}))},t.fn.off=function(e,i,n){var r=this;return e&&!y(e)?(t.each(e,function(t,e){r.off(t,i,e)}),r):(y(i)||f(n)||!1===n||(n=i,i=d),!1===n&&(n=A),r.each(function(){l(this,e,n,i)}))},t.fn.trigger=function(e,i){return e=y(e)||t.isPlainObject(e)?t.Event(e):u(e),e._args=i,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,n){var r,a;return this.each(function(o,s){r=c(y(e)?t.Event(e):e),r._args=n,r.target=s,t.each(i(s,e.type||e),function(t,e){if(a=e.proxy(r),r.isImmediatePropagationStopped())return!1})}),a},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){y(t)||(e=t,t=e.type);var i=document.createEvent(v[t]||"Events"),n=!0;if(e)for(var r in e)"bubbles"==r?n=!!e[r]:i[r]=e[r];return i.initEvent(t,n,!0),u(i)}}(r),function(t){function e(e,i,n){var r=t.Event(i);return t(e).trigger(r,n),!r.isDefaultPrevented()}function i(t,i,n,r){if(t.global)return e(i||m,n,r)}function n(e){e.global&&0==t.active++&&i(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function a(t,e){var n=e.context;if(!1===e.beforeSend.call(n,t,e)||!1===i(e,n,"ajaxBeforeSend",[t,e]))return!1;i(e,n,"ajaxSend",[t,e])}function o(t,e,n,r){var a=n.context;n.success.call(a,t,"success",e),r&&r.resolveWith(a,[t,"success",e]),i(n,a,"ajaxSuccess",[e,n,t]),l("success",e,n)}function s(t,e,n,r,a){var o=r.context;r.error.call(o,n,e,t),a&&a.rejectWith(o,[n,e,t]),i(r,o,"ajaxError",[n,r,t||e]),l(e,n,r)}function l(t,e,n){var a=n.context;n.complete.call(a,e,t),i(n,a,"ajaxComplete",[e,n]),r(n)}function u(){}function c(t){return t&&(t=t.split(";",2)[0]),t&&(t==k?"html":t==A?"json":_.test(t)?"script":E.test(t)&&"xml")||"text"}function d(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function h(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=d(e.url,e.data),e.data=void 0)}function p(e,i,n,r){return t.isFunction(i)&&(r=n,n=i,i=void 0),t.isFunction(n)||(r=n,n=void 0),{url:e,data:i,success:n,dataType:r}}function f(e,i,n,r){var a,o=t.isArray(i),s=t.isPlainObject(i);t.each(i,function(i,l){a=t.type(l),r&&(i=n?r:r+"["+(s||"object"==a||"array"==a?i:"")+"]"),!r&&o?e.add(l.name,l.value):"array"==a||!n&&"object"==a?f(e,l,n,i):e.add(i,l)})}var y,g,v=0,m=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,_=/^(?:text|application)\/javascript/i,E=/^(?:text|application)\/xml/i,A="application/json",k="text/html",T=/^\s*$/,w=m.createElement("a");w.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var n,r,l=e.jsonpCallback,u=(t.isFunction(l)?l():l)||"jsonp"+ ++v,c=m.createElement("script"),d=window[u],h=function(e){t(c).triggerHandler("error",e||"abort")},p={abort:h};return i&&i.promise(p),t(c).on("load error",function(a,l){clearTimeout(r),t(c).off().remove(),"error"!=a.type&&n?o(n[0],p,e,i):s(null,l||"error",p,e,i),window[u]=d,n&&t.isFunction(d)&&d(n[0]),d=n=void 0}),!1===a(p,e)?(h("abort"),p):(window[u]=function(){n=arguments},c.src=e.url.replace(/\?(.+)=\?/,"?$1="+u),m.head.appendChild(c),e.timeout>0&&(r=setTimeout(function(){h("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:u,success:u,error:u,complete:u,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:A,xml:"application/xml, text/xml",html:k,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var i,r,l=t.extend({},e||{}),p=t.Deferred&&t.Deferred();for(y in t.ajaxSettings)void 0===l[y]&&(l[y]=t.ajaxSettings[y]);n(l),l.crossDomain||(i=m.createElement("a"),i.href=l.url,i.href=i.href,l.crossDomain=w.protocol+"//"+w.host!=i.protocol+"//"+i.host),l.url||(l.url=window.location.toString()),(r=l.url.indexOf("#"))>-1&&(l.url=l.url.slice(0,r)),h(l);var f=l.dataType,v=/\?.+=\?/.test(l.url);if(v&&(f="jsonp"),!1!==l.cache&&(e&&!0===e.cache||"script"!=f&&"jsonp"!=f)||(l.url=d(l.url,"_="+Date.now())),"jsonp"==f)return v||(l.url=d(l.url,l.jsonp?l.jsonp+"=?":!1===l.jsonp?"":"callback=?")),t.ajaxJSONP(l,p);var b,_=l.accepts[f],E={},A=function(t,e){E[t.toLowerCase()]=[t,e]},k=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,C=l.xhr(),S=C.setRequestHeader;if(p&&p.promise(C),l.crossDomain||A("X-Requested-With","XMLHttpRequest"),A("Accept",_||"*/*"),(_=l.mimeType||_)&&(_.indexOf(",")>-1&&(_=_.split(",",2)[0]),C.overrideMimeType&&C.overrideMimeType(_)),(l.contentType||!1!==l.contentType&&l.data&&"GET"!=l.type.toUpperCase())&&A("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(g in l.headers)A(g,l.headers[g]);if(C.setRequestHeader=A,C.onreadystatechange=function(){if(4==C.readyState){C.onreadystatechange=u,clearTimeout(b);var e,i=!1;if(C.status>=200&&C.status<300||304==C.status||0==C.status&&"file:"==k){if(f=f||c(l.mimeType||C.getResponseHeader("content-type")),"arraybuffer"==C.responseType||"blob"==C.responseType)e=C.response;else{e=C.responseText;try{"script"==f?(0,eval)(e):"xml"==f?e=C.responseXML:"json"==f&&(e=T.test(e)?null:t.parseJSON(e))}catch(t){i=t}if(i)return s(i,"parsererror",C,l,p)}o(e,C,l,p)}else s(C.statusText||null,C.status?"error":"abort",C,l,p)}},!1===a(C,l))return C.abort(),s(null,"abort",C,l,p),C;if(l.xhrFields)for(g in l.xhrFields)C[g]=l.xhrFields[g];var L=!("async"in l)||l.async;C.open(l.type,l.url,L,l.username,l.password);for(g in E)S.apply(C,E[g]);return l.timeout>0&&(b=setTimeout(function(){C.onreadystatechange=u,C.abort(),s(null,"timeout",C,l,p)},l.timeout)),C.send(l.data?l.data:null),C},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,n){if(!this.length)return this;var r,a=this,o=e.split(/\s/),s=p(e,i,n),l=s.success;return o.length>1&&(s.url=o[0],r=o[1]),s.success=function(e){a.html(r?t("<div>").html(e.replace(b,"")).find(r):e),l&&l.apply(a,arguments)},t.ajax(s),this};var C=encodeURIComponent;t.param=function(e,i){var n=[];return n.add=function(e,i){t.isFunction(i)&&(i=i()),null==i&&(i=""),this.push(C(e)+"="+C(i))},f(n,e,i),n.join("&").replace(/%20/g,"+")}}(r),function(t){t.Callbacks=function(e){e=t.extend({},e);var i,n,r,a,o,s,l=[],u=!e.once&&[],c=function t(c){for(i=e.memory&&c,n=!0,s=a||0,a=0,o=l.length,r=!0;l&&s<o;++s)if(!1===l[s].apply(c[0],c[1])&&e.stopOnFalse){i=!1;break}r=!1,l&&(u?u.length&&t(u.shift()):i?l.length=0:d.disable())},d={add:function(){if(l){var n=l.length;!function i(n){t.each(n,function(t,n){"function"==typeof n?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!=typeof n&&i(n)})}(arguments),r?o=l.length:i&&(a=n,c(i))}return this},remove:function(){return l&&t.each(arguments,function(e,i){for(var n;(n=t.inArray(i,l,n))>-1;)l.splice(n,1),r&&(n<=o&&--o,n<=s&&--s)}),this},has:function(e){return!(!l||!(e?t.inArray(e,l)>-1:l.length))},empty:function(){return o=l.length=0,this},disable:function(){return l=u=i=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,i||d.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],r?u.push(e):c(e)),this},fire:function(){return d.fireWith(this,arguments)},fired:function(){return!!n}};return d}}(r),function(t){function e(i){var n=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],r="pending",a={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var i=arguments;return e(function(e){t.each(n,function(n,r){var s=t.isFunction(i[n])&&i[n];o[r[1]](function(){var i=s&&s.apply(this,arguments);if(i&&t.isFunction(i.promise))i.promise().done(e.resolve).fail(e.reject).progress(e.notify);else{var n=this===a?e.promise():this,o=s?[i]:arguments;e[r[0]+"With"](n,o)}})}),i=null}).promise()},promise:function(e){return null!=e?t.extend(e,a):a}},o={};return t.each(n,function(t,e){var i=e[2],s=e[3];a[e[1]]=i.add,s&&i.add(function(){r=s},n[1^t][2].disable,n[2][2].lock),o[e[0]]=function(){return o[e[0]+"With"](this===o?a:this,arguments),this},o[e[0]+"With"]=i.fireWith}),a.promise(o),i&&i.call(o,o),o}var i=Array.prototype.slice;t.when=function(n){var r,a,o,s=i.call(arguments),l=s.length,u=0,c=1!==l||n&&t.isFunction(n.promise)?l:0,d=1===c?n:e(),h=function(t,e,n){return function(a){e[t]=this,n[t]=arguments.length>1?i.call(arguments):a,n===r?d.notifyWith(e,n):--c||d.resolveWith(e,n)}};if(l>1)for(r=new Array(l),a=new Array(l),o=new Array(l);u<l;++u)s[u]&&t.isFunction(s[u].promise)?s[u].promise().done(h(u,o,s)).fail(d.reject).progress(h(u,a,r)):--c;return c||d.resolveWith(o,s),d.promise()},t.Deferred=e}(r),function(t){function e(e){return e=t(e),!(!e.width()&&!e.height())&&"none"!==e.css("display")}function i(t,e){t=t.replace(/=#\]/g,'="#"]');var i,n,r=s.exec(t);if(r&&r[2]in o&&(i=o[r[2]],n=r[3],t=r[1],n)){var a=Number(n);n=isNaN(a)?n.replace(/^["']|["']$/g,""):a}return e(t,i,n)}var n=t.zepto,r=n.qsa,a=n.matches,o=t.expr[":"]={visible:function(){if(e(this))return this},hidden:function(){if(!e(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,i){if(t===i)return this},contains:function(e,i,n){if(t(this).text().indexOf(n)>-1)return this},has:function(t,e,i){if(n.qsa(this,i).length)return this}},s=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),l=/^\s*>/,u="Zepto"+ +new Date;n.qsa=function(e,a){return i(a,function(i,o,s){try{var c;!i&&o?i="*":l.test(i)&&(c=t(e).addClass(u),i="."+u+" "+i);var d=r(e,i)}catch(t){throw console.error("error performing selector: %o",a),t}finally{c&&c.removeClass(u)}return o?n.uniq(t.map(d,function(t,e){return o.call(t,e,d,s)})):d})},n.matches=function(t,e){return i(e,function(e,i,n){return(!e||a(t,e))&&(!i||i.call(t,null,n)===t)})}}(r),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(t){return null}}}}(),t.exports=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(36),a=n(r),o=i(1),s=n(o),l=i(39),u=n(l),c=i(63),d=n(c),h=i(11),p=Array.prototype.slice,f=/\s+/,y=function(t,e,i,n){if(!i)return!0;if("object"===(void 0===i?"undefined":(0,u.default)(i))){for(var r in i)t[e].apply(t,[r,i[r]].concat(n));return!1}if(f.test(i)){for(var a=i.split(f),o=0,s=a.length;o<s;o++)t[e].apply(t,[a[o]].concat(n));return!1}return!0},g=function(t,e,i,n){function r(){try{switch(e.length){case 0:for(;++o<s;)(a=t[o]).callback.call(a.ctx);return;case 1:for(;++o<s;)(a=t[o]).callback.call(a.ctx,l);return;case 2:for(;++o<s;)(a=t[o]).callback.call(a.ctx,l,u);return;case 3:for(;++o<s;)(a=t[o]).callback.call(a.ctx,l,u,c);return;default:for(;++o<s;)(a=t[o]).callback.apply(a.ctx,e);return}}catch(t){d.default.error.apply(d.default,[i,"error on event",n,"trigger","-",t]),r()}}var a=void 0,o=-1,s=t.length,l=e[0],u=e[1],c=e[2];r()},v=function(){function t(){(0,s.default)(this,t)}return t.prototype.on=function(t,e,i){return y(this,"on",t,[e,i])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:i,ctx:i||this}),this):this},t.prototype.once=function(t,e,i){var n=this;if(!y(this,"once",t,[e,i])||!e)return this;var r=function(){return n.off(t,a)},a=function(){r(),e.apply(this,arguments)};return this.on(t,a,i)},t.prototype.off=function(t,e,i){var n=void 0,r=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0;if(!this._events||!y(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(s=t?[t]:(0,a.default)(this._events),l=0,u=s.length;l<u;l++)if(t=s[l],o=this._events[t]){if(this._events[t]=n=[],e||i)for(c=0,d=o.length;c<d;c++)r=o[c],(e&&e!==r.callback&&e!==r.callback._callback||i&&i!==r.context)&&n.push(r);n.length||delete this._events[t]}return this},t.prototype.trigger=function(t){var e=this.name||this.constructor.name;if(d.default.debug.apply(d.default,[e].concat(Array.prototype.slice.call(arguments))),!this._events)return this;var i=p.call(arguments,1);if(!y(this,"trigger",t,i))return this;var n=this._events[t],r=this._events.all;return n&&g(n,i,e,t),r&&g(r,arguments,e,t),this},t.prototype.stopListening=function(t,e,i){var n=this._listeningTo;if(!n)return this;var r=!e&&!i;i||"object"!==(void 0===e?"undefined":(0,u.default)(e))||(i=this),t&&((n={})[t._listenId]=t);for(var o in n)t=n[o],t.off(e,i,this),(r||0===(0,a.default)(t._events).length)&&delete this._listeningTo[o];return this},t.register=function(e){t.Custom||(t.Custom={});var i="string"==typeof e&&e.toUpperCase().trim();i&&!t.Custom[i]?t.Custom[i]=i.toLowerCase().split("_").map(function(t,e){return 0==e?t:t=t[0].toUpperCase()+t.slice(1)}).join(""):d.default.error("Events","Error when register event: "+e)},t.listAvailableCustomEvents=function(){return t.Custom||(t.Custom={}),(0,a.default)(t.Custom).filter(function(e){return"string"==typeof t.Custom[e]})},t}();e.default=v;var m={listenTo:"on",listenToOnce:"once"};(0,a.default)(m).forEach(function(t){v.prototype[t]=function(e,i,n){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=(0,h.uniqueId)("l"))]=e,n||"object"!==(void 0===i?"undefined":(0,u.default)(i))||(n=this),e[m[t]](i,n,this),this}}),v.PLAYER_READY="ready",v.PLAYER_RESIZE="resize",v.PLAYER_FULLSCREEN="fullscreen",v.PLAYER_PLAY="play",v.PLAYER_PAUSE="pause",v.PLAYER_STOP="stop",v.PLAYER_ENDED="ended",v.PLAYER_SEEK="seek",v.PLAYER_ERROR="error",v.PLAYER_TIMEUPDATE="timeupdate",v.PLAYER_VOLUMEUPDATE="volumeupdate",v.PLAYER_SUBTITLE_AVAILABLE="subtitleavailable",v.PLAYBACK_PROGRESS="playback:progress",v.PLAYBACK_TIMEUPDATE="playback:timeupdate",v.PLAYBACK_READY="playback:ready",v.PLAYBACK_BUFFERING="playback:buffering",v.PLAYBACK_BUFFERFULL="playback:bufferfull",v.PLAYBACK_SETTINGSUPDATE="playback:settingsupdate",v.PLAYBACK_LOADEDMETADATA="playback:loadedmetadata",v.PLAYBACK_HIGHDEFINITIONUPDATE="playback:highdefinitionupdate",v.PLAYBACK_BITRATE="playback:bitrate",v.PLAYBACK_LEVELS_AVAILABLE="playback:levels:available",v.PLAYBACK_LEVEL_SWITCH_START="playback:levels:switch:start",v.PLAYBACK_LEVEL_SWITCH_END="playback:levels:switch:end",v.PLAYBACK_PLAYBACKSTATE="playback:playbackstate",v.PLAYBACK_DVR="playback:dvr",v.PLAYBACK_MEDIACONTROL_DISABLE="playback:mediacontrol:disable",v.PLAYBACK_MEDIACONTROL_ENABLE="playback:mediacontrol:enable",v.PLAYBACK_ENDED="playback:ended",v.PLAYBACK_PLAY_INTENT="playback:play:intent",v.PLAYBACK_PLAY="playback:play",v.PLAYBACK_PAUSE="playback:pause",v.PLAYBACK_SEEKED="playback:seeked",v.PLAYBACK_STOP="playback:stop",v.PLAYBACK_ERROR="playback:error",v.PLAYBACK_STATS_ADD="playback:stats:add",v.PLAYBACK_FRAGMENT_LOADED="playback:fragment:loaded",v.PLAYBACK_LEVEL_SWITCH="playback:level:switch",v.PLAYBACK_SUBTITLE_AVAILABLE="playback:subtitle:available",v.PLAYBACK_SUBTITLE_CHANGED="playback:subtitle:changed",v.CORE_CONTAINERS_CREATED="core:containers:created",v.CORE_OPTIONS_CHANGE="core:options:change",v.CORE_READY="core:ready",v.CORE_FULLSCREEN="core:fullscreen",v.CORE_SCREEN_ORIENTATION_CHANGED="core:screen:orientation:changed",v.CONTAINER_PLAYBACKSTATE="container:playbackstate",v.CONTAINER_PLAYBACKDVRSTATECHANGED="container:dvr",v.CONTAINER_BITRATE="container:bitrate",v.CONTAINER_STATS_REPORT="container:stats:report",v.CONTAINER_DESTROYED="container:destroyed",v.CONTAINER_READY="container:ready",v.CONTAINER_ERROR="container:error",v.CONTAINER_LOADEDMETADATA="container:loadedmetadata",v.CONTAINER_SUBTITLE_AVAILABLE="container:subtitle:available",v.CONTAINER_SUBTITLE_CHANGED="container:subtitle:changed",v.CONTAINER_TIMEUPDATE="container:timeupdate",v.CONTAINER_PROGRESS="container:progress",v.CONTAINER_PLAY="container:play",v.CONTAINER_STOP="container:stop",v.CONTAINER_PAUSE="container:pause",v.CONTAINER_ENDED="container:ended",v.CONTAINER_CLICK="container:click",v.CONTAINER_DBLCLICK="container:dblclick",v.CONTAINER_CONTEXTMENU="container:contextmenu",v.CONTAINER_MOUSE_ENTER="container:mouseenter",v.CONTAINER_MOUSE_LEAVE="container:mouseleave",v.CONTAINER_SEEK="container:seek",v.CONTAINER_SEEKED="container:seeked",v.CONTAINER_VOLUME="container:volume",v.CONTAINER_FULLSCREEN="container:fullscreen",v.CONTAINER_STATE_BUFFERING="container:state:buffering",v.CONTAINER_STATE_BUFFERFULL="container:state:bufferfull",v.CONTAINER_SETTINGSUPDATE="container:settingsupdate",v.CONTAINER_HIGHDEFINITIONUPDATE="container:highdefinitionupdate",v.CONTAINER_MEDIACONTROL_SHOW="container:mediacontrol:show",v.CONTAINER_MEDIACONTROL_HIDE="container:mediacontrol:hide",v.CONTAINER_MEDIACONTROL_DISABLE="container:mediacontrol:disable",v.CONTAINER_MEDIACONTROL_ENABLE="container:mediacontrol:enable",v.CONTAINER_STATS_ADD="container:stats:add",v.CONTAINER_OPTIONS_CHANGE="container:options:change",v.MEDIACONTROL_RENDERED="mediacontrol:rendered",v.MEDIACONTROL_FULLSCREEN="mediacontrol:fullscreen",v.MEDIACONTROL_SHOW="mediacontrol:show",v.MEDIACONTROL_HIDE="mediacontrol:hide",v.MEDIACONTROL_MOUSEMOVE_SEEKBAR="mediacontrol:mousemove:seekbar",v.MEDIACONTROL_MOUSELEAVE_SEEKBAR="mediacontrol:mouseleave:seekbar",v.MEDIACONTROL_PLAYING="mediacontrol:playing",v.MEDIACONTROL_NOTPLAYING="mediacontrol:notplaying",v.MEDIACONTROL_CONTAINERCHANGED="mediacontrol:containerchanged",t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(0);e.default={getStyleFrom:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{baseUrl:""};e=e||{};var i=(0,a.template)(t.toString())(e);return e.playerId&&(i=i.replace(/\#wp3-player-0/g,"#wp3-player-"+e.playerId)),(0,r.default)('<style class="clappr-style"></style>').html(i)}},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){W.push(t)}function o(){return!W.filter(function(t){return void 0===E(window,t,void 0)}).length}function s(){var t=5,e=new _.default.Deferred;return q=setInterval(function(){o()?(clearInterval(q),e.resolve()):t--,t||(clearInterval(q),e.reject())},200),e.promise()}function l(t,e){if(e){var i=(0,_.default)('<textarea style="opacity:0" class="copytextarea"/>');i.text(t),e.append(i);var n=e.find(".copytextarea")[0],r=document.activeElement;n.focus(),n.select();var a=document.execCommand("copy");return i.remove(),r.focus(),a}}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"object"!==c(t.playerExperiments)?[]:(Object.keys(t.playerExperiments)||[]).map(function(e){return t.playerExperiments[e]})||[]}Object.defineProperty(e,"__esModule",{value:!0}),e.autoplayManager=e.mergePlugins=e.embedScript=e.toLowerCase=e.now=e.percent=e.secondsToMillis=e.seekStringToSeconds=e.Location=e.QueryString=e.User=e.Uid=e.LocalStorage=e.Ajax=e.applySizeClass=e.getExpiresDateInGMT=e.getCurrentTime=e.getCurrentDate=e.getCookie=e.loadUrlAsImage=e.getHostAndPathName=e.getHostname=e.rstr2hex=e.rstr2b64=e.Fullscreen=e.iso8601TimezoneOffset=e.toDurationString=e.zeroPad=e.get=void 0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.registerExternalScript=a,e.allScriptsLoaded=o,e.waitExternalScriptsLoad=s,e.copyToClipboard=l,e.getExperimentsList=u;var h=i(248),p=n(h),f=i(249),y=n(f);i(250);var g=i(46),v=n(g),m=i(0),b=i(7),_=n(b),E=e.get=function(t,e,i){function n(e){return!(e&&void 0===(t=t[e]))}return e.replace(/\[/g,".").replace(/]/g,"").split(".").filter(Boolean).every(n)?t:i},A=e.zeroPad=function(t,e){return new Array(e+1-t.toString().length).join("0")+t},k=e.toDurationString=function(t){var e=t/6e4,i=[0,1,2,3,4,5,7,10],n=void 0;for(n=0;n<i.length&&!(e<i[n]);n++);return n<i.length?A(i[n-1],2)+":0"+(0===n?0:1)+" - "+A(i[n],2)+":00":"10:01 +"},T=e.iso8601TimezoneOffset=function(){var t=-I().getTimezoneOffset(),e=Math.abs(t)/60,i=Math.abs(t)%60;return(0==t?"":t>0?"+":"-")+A(e,2)+":"+A(i,2)},w=e.Fullscreen={isFullscreen:function(){return document.webkitIsFullScreen||document.mozFullScreen},requestFullscreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},cancelFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},C="0123456789abcdef",S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",L=(e.rstr2b64=function(t){for(var e="",i=t.length,n=0;n<i;n+=3)for(var r=t.charCodeAt(n)<<16|(n+1<i?t.charCodeAt(n+1)<<8:0)|(n+2<i?t.charCodeAt(n+2):0),a=0;a<4;a++)8*n+6*a>8*t.length?e+="":e+=S.charAt(r>>>6*(3-a)&63);return e},e.rstr2hex=function(t){for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);e+=C.charAt(n>>>4&15)+C.charAt(15&n)}return e},e.getHostname=function(){return location.hostname}),P=e.getHostAndPathName=function(){var t=location.pathname||"",e=t.split("/")||[];return location.hostname+(e.length>0?"/"+e[1]:"")},O=e.loadUrlAsImage=function(t){var e=new Image;return e.src=t,e},R=e.getCookie=function(t){var e=document.cookie.match("(^|;) ?"+t+"=([^;]*)(;|$)");return e?window.unescape(e[2]):null},I=e.getCurrentDate=function(){return new Date},x=e.getCurrentTime=function(){return I().getTime()},D=e.getExpiresDateInGMT=function(t){var e=new Date;return e.setTime(e.getTime()+24*t*60*60*1e3),e.toGMTString()},M=e.applySizeClass=function(t,e){e<960?t.addClass("w960"):t.removeClass("w960"),e<640?t.addClass("w640"):t.removeClass("w640"),e<425?t.addClass("w425"):t.removeClass("w425")},N=e.Ajax={jsonp:function(t){var e=new _.default.Deferred;t.callbackName=t.callbackName||"json_callback",t.timeout=t.timeout||15e3,window[t.callbackName]=function(t){N.isErrorObject(t)?e.reject(t):e.resolve(t)};var i=(0,_.default)("head")[0],n=document.createElement("script");return n.setAttribute("src",t.url),n.setAttribute("async","async"),n.onload=n.onreadystatechange=function(e){n.readyState&&!/loaded|complete/.test(n.readyState)||(t.timeoutId&&window.clearTimeout(t.timeoutId),n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=void 0)},i.insertBefore(n,i.firstChild),t.error&&(t.timeoutId=window.setTimeout(t.error,t.timeout)),e.promise()},isErrorObject:function(t){return t&&t.http_status_code&&200!=t.http_status_code}},B=function(t){return t!==t},F=e.LocalStorage=function(){function t(){r(this,t)}return d(t,null,[{key:"keyspaceFor",value:function(t){return"wm.player."+t}},{key:"load",value:function(t,e){return this.loadRaw(this.keyspaceFor(t),e)}},{key:"loadRaw",value:function(t,e){if(m.Browser.hasLocalstorage&&localStorage[t])return e?e(localStorage[t]):localStorage[t]}},{key:"store",value:function(t,e){return this.storeRaw(this.keyspaceFor(t),e)}},{key:"storeRaw",value:function(t,e){if(m.Browser.hasLocalstorage)try{return localStorage[t]=e,!0}catch(t){return!1}return!1}}]),t}(),U=e.Uid=function(){function t(){r(this,t)}return d(t,null,[{key:"s4",value:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},{key:"generate",value:function(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()}}]),t}(),j=e.User=function(){function t(){r(this,t)}return d(t,null,[{key:"hasGlbId",value:function(){var t=R("GLBID");return"string"==typeof t&&t.length>10}},{key:"isExperimentEnabled",value:function(t,e){var i="experiment."+t,n=F.load(i,parseFloat);return n||(n=Math.random(),F.store(i,n)),n<=e}},{key:"uid",get:function(){var t=F.load("user.uid");return t||(t=U.generate(),F.store("user.uid",t)),t}}]),t}(),G=e.QueryString=function(){function t(){r(this,t)}return d(t,null,[{key:"params",get:function(){for(var t=void 0,e=/\+/g,i=/([^&=]+)=?([^&]*)/g,n=function(t){return decodeURIComponent(t.replace(e," "))},r=window.location.search.substring(1),a={};t=i.exec(r);)a[n(t[1]).toLowerCase()]=n(t[2]);return a}}]),t}(),V=e.Location=function(){function t(){r(this,t)}return d(t,null,[{key:"getLocation",value:function(){var t=new _.default.Deferred;return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){t.resolve(e)},function(e){t.reject(Object.assign({error:e},v.default.LOCATION_UNAVAILABLE))}):t.reject(v.default.LOCATION_UNAVAILABLE),t}}]),t}(),H=e.seekStringToSeconds=function(){var t=0,e=G.params.s||"",i=e.match(/[0-9]+[hms]+/g)||[];if(i.length>0){var n={h:3600,m:60,s:1};i.forEach(function(e){if(e){var i=e[e.length-1],r=parseInt(e.slice(0,e.length-1),10);t+=r*n[i]}})}else e&&(t=parseInt(e,10));return t},Y=e.secondsToMillis=function(t){return 1e3*t>>0},K=e.percent=function(t,e){return 0===t?t:t/e*100},$=e.now=function(){return window.performance&&window.performance.now&&performance.now()||Date.now()},z=(e.toLowerCase=function(t){return"string"==typeof t?t.toLowerCase():t},e.embedScript=function(t){var e=_.default.Deferred(),i=document.createElement("script");return i.type="text/javascript",i.async=!0,i.src=t,i.onload=function(){e.resolve()},i.onerror=function(t){e.reject(t)},document.head.appendChild(i),e.promise()}),W=["google","google.ima","$YB"],q=null;Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.indexOf(t,e)===e});var X=e.mergePlugins=function(t,e){var i=[];return t.concat(e).filter(function(t){if(!t)return!1;var e=t.prototype.name,n=-1===i.indexOf(e);return n&&i.push(e),n})},Z=function(){function t(){r(this,t),this._deferred=new _.default.Deferred,this.playerHasConsent=!1,this._setBrowserFlags()}return d(t,[{key:"allowAutoplay",value:function(t){return t.autoPlay&&this.isAvailable(t.mute)||m.Browser.isChromecast}},{key:"onAutoplayAvailable",value:function(t,e){var i=this;return this._deferred.then(function(){i.allowAutoplay(e)&&t()})}},{key:"isAvailable",value:function(t){return t?this.isAllowedWithoutAudio||this.playerHasConsent:this.isAllowedWithAudio||this.playerHasConsent}},{key:"consent",value:function(){this.playerHasConsent=!0}},{key:"_setBrowserFlags",value:function(){if(m.Browser.isChromecast)return void this._deferred.resolve();var t=this._createVideoElement(y.default),e=this._createVideoElement(p.default);this._setFlag(t,"isAllowedWithAudio"),this._setFlag(e,"isAllowedWithoutAudio")}},{key:"_setFlag",value:function(t,e){var i=this,n=t.play();n?n.then(function(){i[e]=!0},function(){i[e]=!1}).then(function(){return i._resolve()}):(this[e]=!m.Browser.isMobile,this._resolve())}},{key:"_resolve",value:function(){"isAllowedWithAudio"in this&&"isAllowedWithoutAudio"in this&&this._deferred.resolve()}},{key:"_createVideoElement",value:function(t){var e=document.createElement("video"),i=document.createElement("source");return i.src=t,e.appendChild(i),e}},{key:"getExperimentStatus",value:function(t,e){var i=e["player-autoplay-options"]||{},n=t.autoPlay,r=t.mute;if(!n||r)return{autoPlay:n,mute:r};switch(i){case"alternativa-autoplay-audio":n=!0,r=!1;break;case"alternativa-autoplay-mute":n=!0,r=!0;break;case"alternativa-autoplay-disabled":n=!1,r=!1}return{autoPlay:n,mute:r}}}]),t}(),Q=e.autoplayManager=new Z;e.default={Ajax:N,applySizeClass:M,embedScript:z,Fullscreen:w,get:E,getCookie:R,getCurrentDate:I,getCurrentTime:x,getExpiresDateInGMT:D,getHostname:L,getHostAndPathName:P,isNaN:B,iso8601TimezoneOffset:T,loadUrlAsImage:O,LocalStorage:F,Location:V,now:$,percent:K,QueryString:G,seekStringToSeconds:H,toDurationString:k,secondsToMillis:Y,User:j,Uid:U,zeroPad:A,copyToClipboard:l,mergePlugins:X,autoplayManager:Q}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(e)for(var i in e){var n=(0,w.default)(e,i);n?(0,k.default)(t,i,n):t[i]=e[i]}return t}function a(t,e){var i=function(t){function i(){(0,v.default)(this,i);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=(0,b.default)(this,t.call.apply(t,[this].concat(r)));return e.initialize&&e.initialize.apply(o,r),o}return(0,E.default)(i,t),i}(t);return r(i.prototype,e),i}function o(t,e){if(!isFinite(t))return"--:--";t*=1e3,t=parseInt(t/1e3);var i=t%60;t=parseInt(t/60);var n=t%60;t=parseInt(t/60);var r=t%24,a=parseInt(t/24),o="";return a&&a>0&&(o+=a+":",r<1&&(o+="00:")),(r&&r>0||e)&&(o+=("0"+r).slice(-2)+":"),o+=("0"+n).slice(-2)+":",o+=("0"+i).slice(-2),o.trim()}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"t",e=0,i=I.params[t]||I.hashParams[t]||"",n=i.match(/[0-9]+[hms]+/g)||[];if(n.length>0){var r={h:3600,m:60,s:1};n.forEach(function(t){if(t){var i=t[t.length-1],n=parseInt(t.slice(0,t.length-1),10);e+=n*r[i]}})}else i&&(e=parseInt(i,10));return e}function l(t){return x[t]||(x[t]=0),t+ ++x[t]}function u(t){return t-parseFloat(t)+1>=0}function c(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function d(){return window.navigator&&window.navigator.language}function h(){return window.performance&&window.performance.now?performance.now():Date.now()}function p(t,e){var i=t.indexOf(e);i>=0&&t.splice(i,1)}Object.defineProperty(e,"__esModule",{value:!0}),e.DomRecycler=e.cancelAnimationFrame=e.requestAnimationFrame=e.QueryString=e.Config=e.Fullscreen=void 0;var f=i(6),y=n(f),g=i(1),v=n(g),m=i(3),b=n(m),_=i(4),E=n(_),A=i(82),k=n(A),T=i(145),w=n(T);e.extend=a,e.formatTime=o,e.seekStringToSeconds=s,e.uniqueId=l,e.isNumber=u,e.currentScriptUrl=c,e.getBrowserLanguage=d,e.now=h,e.removeArrayItem=p,i(148);var C=i(18),S=n(C),L=i(7),P=n(L),O=e.Fullscreen={isFullscreen:function(){return!!(document.webkitFullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)},requestFullscreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.querySelector&&t.querySelector("video")&&t.querySelector("video").webkitEnterFullScreen?t.querySelector("video").webkitEnterFullScreen():t.webkitEnterFullScreen&&t.webkitEnterFullScreen()},cancelFullscreen:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;t.exitFullscreen?t.exitFullscreen():t.webkitCancelFullScreen?t.webkitCancelFullScreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.msExitFullscreen&&t.msExitFullscreen()},fullscreenEnabled:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},R=e.Config=function(){function t(){(0,v.default)(this,t)}return t._defaultConfig=function(){return{volume:{value:100,parse:parseInt}}},t._defaultValueFor=function(t){try{return this._defaultConfig()[t].parse(this._defaultConfig()[t].value)}catch(t){return}},t._createKeyspace=function(t){return"clappr."+document.domain+"."+t},t.restore=function(t){return S.default.hasLocalstorage&&localStorage[this._createKeyspace(t)]?this._defaultConfig()[t].parse(localStorage[this._createKeyspace(t)]):this._defaultValueFor(t)},t.persist=function(t,e){if(S.default.hasLocalstorage)try{return localStorage[this._createKeyspace(t)]=e,!0}catch(t){return!1}},t}(),I=e.QueryString=function(){function t(){(0,v.default)(this,t)}return t.parse=function(t){for(var e=void 0,i=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=function(t){return decodeURIComponent(t.replace(i," "))},a={};e=n.exec(t);)a[r(e[1]).toLowerCase()]=r(e[2]);return a},(0,y.default)(t,null,[{key:"params",get:function(){var t=window.location.search.substring(1);return t!==this.query&&(this._urlParams=this.parse(t),this.query=t),this._urlParams}},{key:"hashParams",get:function(){var t=window.location.hash.substring(1);return t!==this.hash&&(this._hashParams=this.parse(t),this.hash=t),this._hashParams}}]),t}(),x={},D=e.requestAnimationFrame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}).bind(window),M=e.cancelAnimationFrame=(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout).bind(window),N=[],B=e.DomRecycler=function(){function t(){(0,v.default)(this,t)}return t.configure=function(t){this.options=P.default.extend(this.options,t)},t.create=function(t){return this.options.recycleVideo&&"video"===t&&N.length>0?N.shift():(0,P.default)("<"+t+">")},t.garbage=function(t){this.options.recycleVideo&&"VIDEO"===t[0].tagName.toUpperCase()&&(t.children().remove(),N.push(t))},t}();B.options={recycleVideo:!1},e.default={Config:R,Fullscreen:O,QueryString:I,DomRecycler:B,extend:a,formatTime:o,seekStringToSeconds:s,uniqueId:l,currentScriptUrl:c,isNumber:u,requestAnimationFrame:D,cancelAnimationFrame:M,getBrowserLanguage:d,now:h,removeArrayItem:p}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},r=/(.)^/,a={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},o=/\\|'|\r|\n|\t|\u2028|\u2029/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},l=new RegExp("[&<>\"']","g"),u=function(t){return null===t?"":(""+t).replace(l,function(t){return s[t]})},c=0,d=function(t,e){var i,s=new RegExp([(n.escape||r).source,(n.interpolate||r).source,(n.evaluate||r).source].join("|")+"|$","g"),l=0,d="__p+='";t.replace(s,function(e,i,n,r,s){return d+=t.slice(l,s).replace(o,function(t){return"\\"+a[t]}),i&&(d+="'+\n((__t=("+i+"))==null?'':escapeExpr(__t))+\n'"),n&&(d+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),r&&(d+="';\n"+r+"\n__p+='"),l=s+e.length,e}),d+="';\n",n.variable||(d="with(obj||{}){\n"+d+"}\n"),d="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n//# sourceURL=/microtemplates/source["+c+++"]";try{i=new Function(n.variable||"obj","escapeExpr",d)}catch(t){throw t.source=d,t}if(e)return i(e,u);var h=function(t){return i.call(this,t,u)};return h.source="function("+(n.variable||"obj")+"){\n"+d+"}",h};d.settings=n,e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(11),p=i(27),f=n(p),y=function(t){function e(i,n){(0,a.default)(this,e);var r=(0,s.default)(this,t.call(this,i));return r.settings={},r._i18n=n,r}return(0,d.default)(e,t),(0,u.default)(e,[{key:"isAudioOnly",get:function(){return!1}},{key:"ended",get:function(){return!1}},{key:"i18n",get:function(){return this._i18n}},{key:"buffering",get:function(){return!1}}]),e.prototype.consent=function(){},e.prototype.play=function(){},e.prototype.pause=function(){},e.prototype.stop=function(){},e.prototype.seek=function(t){},e.prototype.seekPercentage=function(t){},e.prototype.getStartTimeOffset=function(){return 0},e.prototype.getDuration=function(){return 0},e.prototype.isPlaying=function(){return!1},e.prototype.getPlaybackType=function(){return e.NO_OP},e.prototype.isHighDefinitionInUse=function(){return!1},e.prototype.volume=function(t){},e.prototype.destroy=function(){this.$el.remove()},(0,u.default)(e,[{key:"isReady",get:function(){return!1}},{key:"hasClosedCaptionsTracks",get:function(){return this.closedCaptionsTracks.length>0}},{key:"closedCaptionsTracks",get:function(){return[]}},{key:"closedCaptionsTrackId",get:function(){return-1},set:function(t){}}]),e}(f.default);e.default=y,y.extend=function(t){return(0,h.extend)(y,t)},y.canPlay=function(t,e){return!1},y.VOD="vod",y.AOD="aod",y.LIVE="live",y.NO_OP="no_op",y.type="playback",t.exports=e.default},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=f[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(c(n.parts[a],e))}else{for(var o=[],a=0;a<n.parts.length;a++)o.push(c(n.parts[a],e));f[n.id]={id:n.id,refs:1,parts:o}}}}function r(t,e){for(var i=[],n={},r=0;r<t.length;r++){var a=t[r],o=e.base?a[0]+e.base:a[0],s=a[1],l=a[2],u=a[3],c={css:s,media:l,sourceMap:u};n[o]?n[o].parts.push(c):i.push(n[o]={id:o,parts:[c]})}return i}function a(t,e){var i=g(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),b.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=g(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,r)}}function o(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),a(t,e),e}function l(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),a(t,e),e}function u(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function c(t,e){var i,n,r,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var u=m++;i=v||(v=s(e)),n=d.bind(null,i,u,!1),r=d.bind(null,i,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=l(e),n=p.bind(null,i,e),r=function(){o(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(e),n=h.bind(null,i),r=function(){o(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function d(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=E(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function h(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function p(t,e,i){var n=i.css,r=i.sourceMap,a=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||a)&&(n=_(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var f={},y=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(i){if(void 0===e[i]){var n=t.call(this,i);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[i]=n}return e[i]}}(function(t){return document.querySelector(t)}),v=null,m=0,b=[],_=i(159);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=y()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=r(t,e);return n(i,e),function(t){for(var a=[],o=0;o<i.length;o++){var s=i[o],l=f[s.id];l.refs--,a.push(l)}if(t){n(r(t,e),e)}for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete f[l.id]}}}};var E=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){"use strict";var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(2),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i.$el.on("click",function(){return i.mediaControl.trigger(u.default.MEDIACONTROL_ITEMCLICKED)}),i}return a(e,t),o(e,[{key:"panel",get:function(){return"middle"}},{key:"position",get:function(){return"center"}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"kibo",get:function(){return this.mediaControlPlugin.kibo}}]),o(e,[{key:"applyButtonStyle",value:function(t){this.buttonsColor&&t&&$(t).find("svg path").css("fill",this.buttonsColor)}},{key:"bindKeyAndShow",value:function(t,e){var i=this;this.kibo.down(t,function(){return i.mediaControl.show(),e()})}}]),e}(s.UICorePlugin);e.default=c,t.exports=e.default},function(t,e,i){"use strict";var n=i(52)("wks"),r=i(38),a=i(19).Symbol,o="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=o&&a[t]||(o?a:r)("Symbol."+t))}).store=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={},r=e.getBrowserInfo=function(t){var e=t.match(/\b(playstation 4|nx|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],i=void 0;if(/trident/i.test(e[1]))return i=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:parseInt(i[1]||"")};if("Chrome"===e[1]){if(null!=(i=t.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:parseInt(i[1])};if(null!=(i=t.match(/\bEdge\/(\d+)/)))return{name:"Edge",version:parseInt(i[1])}}else/android/i.test(t)&&(i=t.match(/version\/(\d+)/i))&&(e.splice(1,1,"Android WebView"),e.splice(2,1,i[1]));return e=e[2]?[e[1],e[2]]:[navigator.appName,navigator.appVersion,"-?"],{name:e[0],version:parseInt(e[1])}},a=r(navigator.userAgent);n.isEdge=/edge/i.test(navigator.userAgent),n.isChrome=/chrome|CriOS/i.test(navigator.userAgent)&&!n.isEdge,n.isSafari=/safari/i.test(navigator.userAgent)&&!n.isChrome&&!n.isEdge,n.isFirefox=/firefox/i.test(navigator.userAgent),n.isLegacyIE=!!window.ActiveXObject,n.isIE=n.isLegacyIE||/trident.*rv:1\d/i.test(navigator.userAgent),n.isIE11=/trident.*rv:11/i.test(navigator.userAgent),n.isChromecast=n.isChrome&&/CrKey/i.test(navigator.userAgent),n.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Mobile Safari|Opera Mini/i.test(navigator.userAgent),n.isiOS=/iPad|iPhone|iPod/i.test(navigator.userAgent),n.isAndroid=/Android/i.test(navigator.userAgent),n.isWindowsPhone=/Windows Phone/i.test(navigator.userAgent),n.isWin8App=/MSAppHost/i.test(navigator.userAgent),n.isWiiU=/WiiU/i.test(navigator.userAgent),n.isPS4=/PlayStation 4/i.test(navigator.userAgent),n.hasLocalstorage=function(){try{return localStorage.setItem("clappr","clappr"),localStorage.removeItem("clappr"),!0}catch(t){return!1}}(),n.hasFlash=function(){try{return!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){return!(!navigator.mimeTypes||void 0===navigator.mimeTypes["application/x-shockwave-flash"]||!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}}(),n.name=a.name,n.version=a.version,e.default=n},function(t,e,i){"use strict";var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,i){"use strict";var n=i(29),r=i(75),a=i(55),o=Object.defineProperty;e.f=i(26)?Object.defineProperty:function(t,e,i){if(n(t),e=a(e,!0),n(i),r)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(11),p=i(8),f=n(p),y=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n._options=i,n.uniqueId=(0,h.uniqueId)("o"),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"options",get:function(){return this._options}}]),e}(f.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(t){if(d===setTimeout)return setTimeout(t,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){g&&f&&(g=!1,f.length?y=f.concat(y):v=-1,y.length&&l())}function l(){if(!g){var t=a(s);g=!0;for(var e=y.length;e;){for(f=y,y=[];++v<e;)f&&f[v].run();v=-1,e=y.length}f=null,g=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var d,h,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(t){d=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var f,y=[],g=!1,v=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];y.push(new u(t,e)),1!==y.length||g||a(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=c,p.addListener=c,p.once=c,p.off=c,p.removeListener=c,p.removeAllListeners=c,p.emit=c,p.prependListener=c,p.prependOnceListener=c,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,i){"use strict";var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,i){"use strict";var n=i(112),r=i(48);t.exports=function(t){return n(r(t))}},function(t,e,i){"use strict";var n=i(19),r=i(15),a=i(54),o=i(28),s=function t(e,i,s){var l,u,c,d=e&t.F,h=e&t.G,p=e&t.S,f=e&t.P,y=e&t.B,g=e&t.W,v=h?r:r[i]||(r[i]={}),m=v.prototype,b=h?n:p?n[i]:(n[i]||{}).prototype;h&&(s=i);for(l in s)(u=!d&&b&&void 0!==b[l])&&l in v||(c=u?b[l]:s[l],v[l]=h&&"function"!=typeof b[l]?s[l]:y&&u?a(c,n):g&&b[l]==c?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):f&&"function"==typeof c?a(Function.call,c):c,f&&((v.virtual||(v.virtual={}))[l]=c,e&t.R&&m&&!m[l]&&o(m,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e,i){"use strict";t.exports=!i(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(7),p=n(h),f=i(11),y=i(21),g=n(y),v=/^(\S+)\s*(.*)$/,m=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.cid=(0,f.uniqueId)("c"),n._ensureElement(),n.delegateEvents(),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"tagName",get:function(){return"div"}},{key:"events",get:function(){return{}}},{key:"attributes",get:function(){return{}}}]),e.prototype.$=function(t){return this.$el.find(t)},e.prototype.render=function(){return this},e.prototype.remove=function(){return this.$el.remove(),this.stopListening(),this.undelegateEvents(),this},e.prototype.setElement=function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof p.default?t:(0,p.default)(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},e.prototype.delegateEvents=function(t){if(!t&&!(t=this.events))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(i&&i.constructor!==Function&&(i=this[t[e]]),i){var n=e.match(v),r=n[1],a=n[2];r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,i.bind(this)):this.$el.on(r,a,i.bind(this))}}return this},e.prototype.undelegateEvents=function(){return this.$el.off(".delegateEvents"+this.cid),this},e.prototype._ensureElement=function(){if(this.el)this.setElement(this.el,!1);else{var t=p.default.extend({},this.attributes);this.id&&(t.id=this.id),this.className&&(t.class=this.className);var e=f.DomRecycler.create(this.tagName).attr(t);this.setElement(e,!1)}},e}(g.default);e.default=m,t.exports=e.default},function(t,e,i){"use strict";var n=i(20),r=i(33);t.exports=i(26)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){"use strict";var n=i(31);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(8),s=n(o),l=new s.default,u=function t(){(0,a.default)(this,t)};e.default=u,u.on=function(t,e,i){l.on(t,e,i)},u.once=function(t,e,i){l.once(t,e,i)},u.off=function(t,e,i){l.off(t,e,i)},u.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];l.trigger.apply(l,[t].concat(i))},u.stopListening=function(t,e,i){l.stopListening(t,e,i)},t.exports=e.default},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))?null!==t:"function"==typeof t}},function(t,e,i){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){"use strict";t.exports={}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(4),u=n(l),c=i(11),d=i(21),h=n(d),p=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i.options));return n.core=i,n.enabled=!0,n.bindEvents(),n}return(0,u.default)(e,t),e.prototype.bindEvents=function(){},e.prototype.enable=function(){this.enabled||(this.bindEvents(),this.enabled=!0)},e.prototype.disable=function(){this.enabled&&(this.stopListening(),this.enabled=!1)},e.prototype.getExternalInterface=function(){return{}},e.prototype.destroy=function(){this.stopListening()},e}(h.default);e.default=p,p.extend=function(t){return(0,c.extend)(p,t)},p.type="core",t.exports=e.default},function(t,e,i){"use strict";t.exports={default:i(110),__esModule:!0}},function(t,e,i){"use strict";var n=i(72),r=i(53);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){"use strict";var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__esModule=!0;var a=i(116),o=n(a),s=i(127),l=n(s),u="function"==typeof l.default&&"symbol"===r(o.default)?function(t){return void 0===t?"undefined":r(t)}:function(t){return t&&"function"==typeof l.default&&t.constructor===l.default&&t!==l.default.prototype?"symbol":void 0===t?"undefined":r(t)};e.default="function"==typeof l.default&&"symbol"===u(o.default)?function(t){return void 0===t?"undefined":u(t)}:function(t){return t&&"function"==typeof l.default&&t.constructor===l.default&&t!==l.default.prototype?"symbol":void 0===t?"undefined":u(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(150),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={Kibo:r.default},t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=function t(){(0,r.default)(this,t),this.options={},this.playbackPlugins=[],this.currentSize={width:0,height:0}};a._players={},a.getInstance=function(t){return a._players[t]||(a._players[t]=new a)},e.default=a,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(176),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(4),u=n(l),c=i(11),d=i(27),h=n(d),p=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i.options));return n.container=i,n.enabled=!0,n.bindEvents(),n}return(0,u.default)(e,t),e.prototype.enable=function(){this.enabled||(this.bindEvents(),this.$el.show(),this.enabled=!0)},e.prototype.disable=function(){this.stopListening(),this.$el.hide(),this.enabled=!1},e.prototype.bindEvents=function(){},e.prototype.destroy=function(){this.remove()},e}(h.default);e.default=p,p.extend=function(t){return(0,c.extend)(p,t)},p.type="container",t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(4),u=n(l),c=i(21),d=n(c),h=i(11),p=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i.options));return n.container=i,n.enabled=!0,n.bindEvents(),n}return(0,u.default)(e,t),e.prototype.enable=function(){this.enabled||(this.bindEvents(),this.enabled=!0)},e.prototype.disable=function(){this.enabled&&(this.stopListening(),this.enabled=!1)},e.prototype.bindEvents=function(){},e.prototype.destroy=function(){this.stopListening()},e}(d.default);e.default=p,p.extend=function(t){return(0,h.extend)(p,t)},p.type="container",t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(4),u=n(l),c=i(11),d=i(27),h=n(d),p=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i.options));return n.core=i,n.enabled=!0,n.bindEvents(),n.render(),n}return(0,u.default)(e,t),e.prototype.bindEvents=function(){},e.prototype.getExternalInterface=function(){return{}},e.prototype.enable=function(){this.enabled||(this.bindEvents(),this.$el.show(),this.enabled=!0)},e.prototype.disable=function(){this.stopListening(),this.$el.hide(),this.enabled=!1},e.prototype.destroy=function(){this.remove()},e.prototype.render=function(){return this},e}(h.default);e.default=p,p.extend=function(t){return(0,c.extend)(p,t)},p.type="core",t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(251),t.exports=e.default},function(t,e,i){"use strict";var n=i(48);t.exports=function(t){return Object(n(t))}},function(t,e,i){"use strict";t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){"use strict";var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,i){"use strict";var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,i){"use strict";var n=i(52)("keys"),r=i(38);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){"use strict";var n=i(19),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,i){"use strict";t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){"use strict";var n=i(115);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){"use strict";var n=i(31);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){"use strict";t.exports=!0},function(t,e,i){"use strict";var n=i(29),r=i(120),a=i(53),o=i(51)("IE_PROTO"),s=function(){},l=function(){var t,e=i(76)("iframe"),n=a.length;for(e.style.display="none",i(121).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[a[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s.prototype=n(t),i=new s,s.prototype=null,i[o]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){"use strict";var n=i(20).f,r=i(23),a=i(17)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e,i){"use strict";e.f=i(17)},function(t,e,i){"use strict";var n=i(19),r=i(15),a=i(56),o=i(59),s=i(20).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=a?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,i){"use strict";e.f={}.propertyIsEnumerable},function(t,e,i){"use strict";var n=i(61),r=i(33),a=i(24),o=i(55),s=i(23),l=i(75),u=Object.getOwnPropertyDescriptor;e.f=i(26)?u:function(t,e){if(t=a(t),e=o(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(149),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M1.425.35L14.575 8l-13.15 7.65V.35z"></path></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(189),t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),o=i(10),s=function(){function t(e){n(this,t),this.httpOnly=e,this.protocol="http"+(e?"":"s")}return r(t,null,[{key:"isInternal",get:function(){return/(ef(-.*)?|publish\.api\.video|player)(\.qa01|\.local|\.dev)?\.globoi\.com$/.test(location.hostname)}},{key:"isGloboiDomain",get:function(){return/\.globoi\.com$/.test(location.hostname)}},{key:"isGloboDomain",get:function(){return!this.isInternal&&/\.globo\.com$/.test(location.hostname)}},{key:"playerId",get:function(){return this._playerId||(this._playerId=o.Uid.generate()),this._playerId}},{key:"hashQueryString",get:function(){return"hash?resource_id=<%= resourceId %><%= callback ? '&callback=' + callback : '' %>&version=4.6.5&player=<%= player %>&tz=<%= tz %>&cdn=<%= cdn %>&profile=<%= profile %>"}}]),r(t,[{key:"horizonHost",get:function(){return this.protocol+"://horizon.globo.com"}},{key:"scorecardBeacon",get:function(){return this.protocol+"://"+(this.httpOnly?"":"s")+"b.scorecardresearch.com/beacon.js"}},{key:"scorecardMeasurement",get:function(){return this.protocol+"://"+(this.httpOnly?"":"s")+"b.scorecardresearch.com/p?c1=2&c2=18519737&ns_site=globo"}},{key:"streamsenseScript",get:function(){return this.protocol+"://s.videos.globo.com/p2/j/streamsense.min.js"}},{key:"dfpAdTagTemplate",get:function(){return(0,a.template)(this.protocol+"://pubads.g.doubleclick.net/gampad/ads?sz=1280x720&iu=/<%= adAccountId %>/<%= adUnit %>&cmsid=<%= adCmsId %>&vid=<%= videoId %>&cust_params=<%= customParams %>&ciu_szs=940x360&impl=s&gdfp_req=1&env=vp&output=xml_vast3&unviewed_position_start=1&url=[referrer_url]&description_url=[description_url]&correlator=[timestamp]")}},{key:"blackVideoUrl",get:function(){return this.protocol+"://s.glbimg.com/vi/p3/black.mp4"}},{key:"blackVideoStreamingUrl",get:function(){return this.protocol+"://s.glbimg.com/vi/p3/black.m3u8"}},{key:"thumbsHost",get:function(){return this.protocol+"://live-thumbs.video.globo.com/"}},{key:"thumbsPreviewHost",get:function(){return this.protocol+"://v.glbimg.com"}},{key:"youboraScript",get:function(){return this.protocol+"://p.glbimg.com/vendor/libs/youboralib-v5.5.2.min.js"}},{key:"waitingRoomHost",get:function(){return this.protocol+"://wroom.video.globo.com/try"}},{key:"webmediaApiHit",get:function(){return this.protocol+"://stats.video.globo.com"}},{key:"ravenScriptUrl",get:function(){return this.protocol+"://p.glbimg.com/vendor/libs/raven.min.js"}},{key:"sentryHost",get:function(){return this.protocol+"://0233869ee6104aa09fa71352b03354f9@ce.dev.globoi.com/74"}}],[{key:"get",value:function(e,i){return"qa1"===e&&(e="dev"),e=t.isInternal?"dev"===e?"internalDev":"internal":e||"prod",new t[e](i)}}]),t}();e.default=s,s.local=a.Utils.extend(s,{get name(){return"local"},get securityHost(){return this.protocol+"://security.video.globo.com"},get CDNRouterHost(){return this.protocol+"://security.video.globo.com/cdn"},get hashTemplate(){return(0,a.template)(this.protocol+"://security.video.globo.com/videos/<%= videoId %>/"+s.hashQueryString)},get playlistTemplate(){return(0,a.template)(this.protocol+"://api.globovideos.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,a.template)(this.protocol+"://s0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")},get youboraScript(){return"j/vendor/youboralib-v5.5.2.js"},get ravenScriptUrl(){return"j/vendor/raven.js"},get sentryHost(){return null}}),s.dev=a.Utils.extend(s,{get name(){return"dev"},get securityHost(){return this.protocol+"://security.video.dev.globoi.com"},get CDNRouterHost(){return this.protocol+"://security.video.dev.globoi.com/cdn"},get hashTemplate(){return(0,a.template)(this.protocol+"://security.video.dev.globoi.com/videos/<%= videoId %>/"+s.hashQueryString)},get playlistTemplate(){return(0,a.template)(this.protocol+"://api.globovideos.dev.globoi.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,a.template)(this.protocol+"://img.video.dev.globoi.com/<%= size %>/<%= videoId %>.jpg")},get waitingRoomHost(){return this.protocol+"://wroom.video.dev.globoi.com/try"},get webmediaApiHit(){return this.protocol+"://stats.video.dev.globoi.com"},get thumbsHost(){return this.protocol+"://live-thumbs.video.dev.globoi.com/"}}),s.internalDev=a.Utils.extend(s,{get name(){return"internalDev"},get securityHost(){return this.protocol+"://api.video.dev.globoi.com"},get CDNRouterHost(){return this.protocol+"://api.video.dev.globoi.com/cdn"},get hashTemplate(){return(0,a.template)(this.protocol+"://api.video.dev.globoi.com/videos/<%= videoId %>/"+s.hashQueryString)},get playlistTemplate(){return(0,a.template)(this.protocol+"://api.video.dev.globoi.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,a.template)(this.protocol+"://img.video.dev.globoi.com/<%= size %>/<%= videoId %>.jpg")},get waitingRoomHost(){return this.protocol+"://wroom.video.dev.globoi.com/try"},get webmediaApiHit(){return this.protocol+"://stats.video.dev.globoi.com"},get thumbsHost(){return this.protocol+"://live-thumbs.video.dev.globoi.com/"}}),s.internal=a.Utils.extend(s,{get name(){return"internal"},get securityHost(){return this.protocol+"://api.video.globoi.com"},get CDNRouterHost(){return this.protocol+"://api.video.globoi.com/cdn"},get hashTemplate(){return(0,a.template)(this.protocol+"://api.video.globoi.com/videos/<%= videoId %>/"+s.hashQueryString)},get playlistTemplate(){return(0,a.template)(this.protocol+"://api.video.globoi.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,a.template)(this.protocol+"://s0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")}}),s.prod=a.Utils.extend(s,{get name(){return"prod"},get securityHost(){return this.protocol+"://security.video.globo.com"},get CDNRouterHost(){return this.protocol+"://security.video.globo.com/cdn"},get hashTemplate(){return(0,a.template)(this.protocol+"://security.video.globo.com/videos/<%= videoId %>/"+s.hashQueryString)},get playlistTemplate(){return(0,a.template)(this.protocol+"://api.globovideos.com/videos/<%= videoId %>/"+(this.httpOnly?"insecure_playlist":"playlist")+"/callback/<%= callback %>")},get posterTemplate(){return(0,a.template)(this.protocol+"://s0<%= domainNumber %>.video.glbimg.com/<%= size %>/<%= videoId %>.jpg")},get sentryHost(){return this.protocol+"://f2a7a039c18740d8aba2db775220e900@ce.globo.com/1216"}}),t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 13 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="ic_keyboard_arrow_right_white_48px-copy-6" fill="#FFFFFF"><polygon id="Shape" points="0.600833333 17.0413067 7.8525 9.71566667 0.600833333 2.39002667 2.83333333 0.139666667 12.3333333 9.71566667 2.83333333 19.2916667"></polygon></g></g></svg>'},function(t,e,i){"use strict";var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=n(u),d=i(7),h=n(d),p=i(329),f=n(p),y=i(67),g=n(y),v=i(330),m=n(v),b=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"shouldRender",value:function(){return this.options&&this.options.length>0}},{key:"clickOption",value:function(t){var e=(0,h.default)(t.target).data("option-id"),i=parseInt(e);this.selectOption(isNaN(i)?e:i)}},{key:"selectOption",value:function(t){this.playbackUpdate(t),this.interfaceUpdate(t),this.trigger(c.default.WM_SETTINGS_OPTIONS_CHANGED)}},{key:"interfaceUpdate",value:function(t){this.options.forEach(function(e){e.selected=e.id===t}),this.$(".settings__options-menu li").find("svg").remove(),this.$(".settings__options-menu li").removeClass("settings__options-itens--active"),this.$('li[data-option-id="'+t+'"]').addClass("settings__options-itens--active").prepend(m.default)}},{key:"render",value:function(){return this.shouldRender()&&this.$el.html(this.template({options:this.options||[],title:this.title,activeIcon:m.default,arrowIcon:g.default})),this}},{key:"template",get:function(){return(0,l.template)(f.default)}},{key:"options",get:function(){return this.availableOptions||[]}},{key:"selected",get:function(){var t=this.options.find(function(t){return t.selected}),e=t||this.options.length&&this.options[0];return e&&e.label}},{key:"events",get:function(){return{"click .settings__options-itens":"clickOption"}}}]),e}(l.UICorePlugin);e.default=b,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PREFERRED_AUDIO_LANGUAGE="pt",e.WM_AUDIO={pt:{key:"pt",label:"Dublado",id:0},por:{key:"pt",label:"Dublado",id:0},original:{key:"original",label:"Original",id:1},eng:{key:"original",label:"Original",id:1}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(106),a=i(107),o=n(a),s=i(399),l=n(s);e.default={BaseYouboraPlugin:r.BaseYouboraPlugin,BaseYouboraAdnalyzers:r.BaseYouboraAdnalyzers,YouboraGenericPlugin:o.default,Youbora:l.default},t.exports=e.default},function(t,e,i){"use strict";var n=i(23),r=i(24),a=i(113)(!1),o=i(51)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),l=0,u=[];for(i in s)i!=o&&n(s,i)&&u.push(i);for(;e.length>l;)n(s,i=e[l++])&&(~a(u,i)||u.push(i));return u}},function(t,e,i){"use strict";var n=i(50),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){"use strict";var n=i(25),r=i(15),a=i(32);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],o={};o[t]=e(i),n(n.S+n.F*a(function(){i(1)}),"Object",o)}},function(t,e,i){"use strict";t.exports=!i(26)&&!i(32)(function(){return 7!=Object.defineProperty(i(76)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){"use strict";var n=i(31),r=i(19).document,a=n(r)&&n(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},function(t,e,i){"use strict";var n=i(118)(!0);i(78)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var n=i(56),r=i(25),a=i(79),o=i(28),s=i(23),l=i(34),u=i(119),c=i(58),d=i(122),h=i(17)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,i,y,g,v,m){u(i,e,y);var b,_,E,A=function(t){if(!p&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new i(this,t)}}return function(){return new i(this,t)}},k=e+" Iterator",T="values"==g,w=!1,C=t.prototype,S=C[h]||C["@@iterator"]||g&&C[g],L=S||A(g),P=g?T?A("entries"):L:void 0,O="Array"==e?C.entries||S:S;if(O&&(E=d(O.call(new t)))!==Object.prototype&&E.next&&(c(E,k,!0),n||s(E,h)||o(E,h,f)),T&&S&&"values"!==S.name&&(w=!0,L=function(){return S.call(this)}),n&&!m||!p&&!w&&C[h]||o(C,h,L),l[e]=L,l[k]=f,g)if(b={values:T?L:A("values"),keys:v?L:A("keys"),entries:P},m)for(_ in b)_ in C||a(C,_,b[_]);else r(r.P+r.F*(p||w),e,b);return b}},function(t,e,i){"use strict";t.exports=i(28)},function(t,e,i){"use strict";e.f=Object.getOwnPropertySymbols},function(t,e,i){"use strict";var n=i(72),r=i(53).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){"use strict";t.exports={default:i(137),__esModule:!0}},function(t,e,i){"use strict";t.exports={default:i(143),__esModule:!0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(153),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(156),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(160),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){t.exports=i.p+"a8c874b93b3d848f39a71260c57e3863.cur"},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M1.712 14.76H6.43V1.24H1.71v13.52zm7.86-13.52v13.52h4.716V1.24H9.573z"></path></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(175),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";t.exports={default:i(177),__esModule:!0}},function(t,e,i){"use strict";e.__esModule=!0;var n=i(90),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,r.default)(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(188),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(194),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(195),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(198),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e){!function(i,n){"object"==typeof e&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof e?e.Hls=n():i.Hls=n()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=8)}([function(t,e,i){"use strict";function n(){}function r(t,e){return e="["+t+"] > "+e}function a(t){var e=self.console[t];return e?function(){for(var i=arguments.length,n=Array(i),a=0;a<i;a++)n[a]=arguments[a];n[0]&&(n[0]=r(t,n[0])),e.apply(self.console,n)}:n}function o(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];i.forEach(function(e){u[e]=t[e]?t[e].bind(t):a(e)})}i.d(e,"a",function(){return c}),i.d(e,"b",function(){return d});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l={trace:n,debug:n,log:n,warn:n,info:n,error:n},u=l,c=function(t){if(!0===t||"object"===(void 0===t?"undefined":s(t))){o(t,"debug","log","info","warn","error");try{u.log()}catch(t){u=l}}else u=l},d=u},function(t,e,i){"use strict";e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,i){"use strict";i.d(e,"b",function(){return n}),i.d(e,"a",function(){return r});var n={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"b",function(){return a});var r=function(){function t(){n(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,i){for(var n=i,r=0;t.isHeader(e,i);){r+=10;r+=t._readSize(e,i+6),t.isFooter(e,i+10)&&(r+=10),i+=r}if(r>0)return e.subarray(n,n+r)},t._readSize=function(t,e){var i=0;return i=(127&t[e])<<21,i|=(127&t[e+1])<<14,i|=(127&t[e+2])<<7,i|=127&t[e+3]},t.getTimeStamp=function(e){for(var i=t.getID3Frames(e),n=0;n<i.length;n++){var r=i[n];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var i=String.fromCharCode(e[0],e[1],e[2],e[3]),n=t._readSize(e,4);return{type:i,size:n,data:e.subarray(10,10+n)}},t.getID3Frames=function(e){for(var i=0,n=[];t.isHeader(e,i);){var r=t._readSize(e,i+6);i+=10;for(var a=i+r;i+8<a;){var o=t._getFrameData(e.subarray(i)),s=t._decodeFrame(o);s&&n.push(s),i+=o.size+10}t.isFooter(e,i)&&(i+=10)}return n},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),i=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,i&&(n+=47721858.84),Math.round(n)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var i=t._utf8ArrayToStr(e.data),n=new Uint8Array(e.data.subarray(i.length+1));return{key:e.type,info:i,data:n.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var a=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:a}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var a=t._utf8ArrayToStr(e.data);return{key:e.type,data:a}},t._utf8ArrayToStr=function(t){for(var e=t.length,i=void 0,n=void 0,r=void 0,a="",o=0;o<e;)if(0!==(i=t[o++])&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(i);break;case 12:case 13:n=t[o++],a+=String.fromCharCode((31&i)<<6|63&n);break;case 14:n=t[o++],r=t[o++],a+=String.fromCharCode((15&i)<<12|(63&n)<<6|(63&r)<<0)}return a},t}(),a=r._utf8ArrayToStr;e.a=r},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(e,i){n(this,t),this.subtle=e,this.aesIV=i}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),l=s,u=function(){function t(e,i){r(this,t),this.subtle=e,this.key=i}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),c=u,d=function(){function t(){a(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),i=new Uint32Array(4),n=0;n<4;n++)i[n]=e.getUint32(4*n);return i},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,i=this.subMix,n=i[0],r=i[1],a=i[2],o=i[3],s=this.invSubMix,l=s[0],u=s[1],c=s[2],d=s[3],h=new Uint32Array(256),p=0,f=0,y=0;for(y=0;y<256;y++)h[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){var g=f^f<<1^f<<2^f<<3^f<<4;g=g>>>8^255&g^99,t[p]=g,e[g]=p;var v=h[p],m=h[v],b=h[m],_=257*h[g]^16843008*g;n[p]=_<<24|_>>>8,r[p]=_<<16|_>>>16,a[p]=_<<8|_>>>24,o[p]=_,_=16843009*b^65537*m^257*v^16843008*p,l[g]=_<<24|_>>>8,u[g]=_<<16|_>>>16,c[g]=_<<8|_>>>24,d[g]=_,p?(p=v^h[h[h[b^v]]],f^=h[h[f]]):p=f=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),i=!0,n=0;n<e.length&&i;)i=e[n]===this.key[n],n++;if(!i){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var a=this.ksRows=4*(r+6+1),o=void 0,s=void 0,l=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),c=this.sBox,d=this.rcon,h=this.invSubMix,p=h[0],f=h[1],y=h[2],g=h[3],v=void 0,m=void 0;for(o=0;o<a;o++)o<r?v=l[o]=e[o]:(m=v,o%r==0?(m=m<<8|m>>>24,m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[255&m],m^=d[o/r|0]<<24):r>6&&o%r==4&&(m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[255&m]),l[o]=v=(l[o-r]^m)>>>0);for(s=0;s<a;s++)o=a-s,m=3&s?l[o]:l[o-4],u[s]=s<4||o<=4?m:p[c[m>>>24]]^f[c[m>>>16&255]]^y[c[m>>>8&255]]^g[c[255&m]],u[s]=u[s]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,i){for(var n,r,a=this.keySize+6,o=this.invKeySchedule,s=this.invSBox,l=this.invSubMix,u=l[0],c=l[1],d=l[2],h=l[3],p=this.uint8ArrayToUint32Array_(i),f=p[0],y=p[1],g=p[2],v=p[3],m=new Int32Array(t),b=new Int32Array(m.length),_=void 0,E=void 0,A=void 0,k=void 0,T=void 0,w=void 0,C=void 0,S=void 0,L=void 0,P=void 0,O=void 0,R=void 0,I=this.networkToHostOrderSwap;e<m.length;){for(L=I(m[e]),P=I(m[e+1]),O=I(m[e+2]),R=I(m[e+3]),T=L^o[0],w=R^o[1],C=O^o[2],S=P^o[3],n=4,r=1;r<a;r++)_=u[T>>>24]^c[w>>16&255]^d[C>>8&255]^h[255&S]^o[n],E=u[w>>>24]^c[C>>16&255]^d[S>>8&255]^h[255&T]^o[n+1],A=u[C>>>24]^c[S>>16&255]^d[T>>8&255]^h[255&w]^o[n+2],k=u[S>>>24]^c[T>>16&255]^d[w>>8&255]^h[255&C]^o[n+3],T=_,w=E,C=A,S=k,n+=4;_=s[T>>>24]<<24^s[w>>16&255]<<16^s[C>>8&255]<<8^s[255&S]^o[n],E=s[w>>>24]<<24^s[C>>16&255]<<16^s[S>>8&255]<<8^s[255&T]^o[n+1],A=s[C>>>24]<<24^s[S>>16&255]<<16^s[T>>8&255]<<8^s[255&w]^o[n+2],k=s[S>>>24]<<24^s[T>>16&255]<<16^s[w>>8&255]<<8^s[255&C]^o[n+3],n+=3,b[e]=I(_^f),b[e+1]=I(k^y),b[e+2]=I(A^g),b[e+3]=I(E^v),f=L,y=P,g=O,v=R,e+=4}return b.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),h=d,p=i(2),f=i(0),y=function(){function t(e,i){o(this,t),this.observer=e,this.config=i,this.logEnabled=!0;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,i,n){var r=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(f.b.log("JS AES decrypt"),this.logEnabled=!1);var a=this.decryptor;a||(this.decryptor=a=new h),a.expandKey(e),n(a.decrypt(t,0,i))}else{this.logEnabled&&(f.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var o=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new c(o,e)),this.fastAesKey.expandKey().then(function(a){new l(o,i).decrypt(t,a).catch(function(a){r.onWebCryptoError(a,t,e,i,n)}).then(function(t){n(t)})}).catch(function(a){r.onWebCryptoError(a,t,e,i,n)})}},t.prototype.onWebCryptoError=function(t,e,i,n,r){this.config.enableSoftwareAES?(f.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,i,n,r)):(f.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:p.b.MEDIA_ERROR,details:p.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=y},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,r,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(i=this._events[t],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(a(i))for(s=Array.prototype.slice.call(arguments,1),u=i.slice(),r=u.length,l=0;l<r;l++)u[l].apply(this,s);return!0},i.prototype.addListener=function(t,e){var r;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(r=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,r,o,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],o=i.length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(i)){for(s=o;s-- >0;)if(i[s]===e||i[s].listener&&i[s].listener===e){r=s;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],n(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){!function(e){var i=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var r=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=this.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return i.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=this.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=o.normalizePath(d)}else u.path=s.path,a.params||(u.params=s.params,a.query||(u.query=s.query));return null===u.path&&(u.path=i.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o}()},function(t,e,i){"use strict";function n(t,e,i,n){var r,a,o,s,l,u=navigator.userAgent.toLowerCase(),c=n,d=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return r=1+((192&e[i+2])>>>6),(a=(60&e[i+2])>>>2)>d.length-1?void t.trigger(Event.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a}):(s=(1&e[i+2])<<2,s|=(192&e[i+3])>>>6,S.b.log("manifest codec:"+n+",ADTS data:type:"+r+",sampleingIndex:"+a+"["+d[a]+"Hz],channelConfig:"+s),/firefox/i.test(u)?a>=6?(r=5,l=new Array(4),o=a-3):(r=2,l=new Array(2),o=a):-1!==u.indexOf("android")?(r=2,l=new Array(2),o=a):(r=5,l=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&a>=6?o=a-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(a>=6&&1===s||/vivaldi/i.test(u))||!n&&1===s)&&(r=2,l=new Array(2)),o=a)),l[0]=r<<3,l[0]|=(14&a)>>1,l[1]|=(1&a)<<7,l[1]|=s<<3,5===r&&(l[1]|=(14&o)>>1,l[2]=(1&o)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:d[a],channelCount:s,codec:"mp4a.40."+r,manifestCodec:c})}function r(t,e){return 255===t[e]&&240==(246&t[e+1])}function a(t,e){return 1&t[e+1]?7:9}function o(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function s(t,e){return!!(e+1<t.length&&r(t,e))}function l(t,e){if(e+1<t.length&&r(t,e)){var i=a(t,e),n=i;e+5<t.length&&(n=o(t,e));var s=e+n;if(s===t.length||s+1<t.length&&r(t,s))return!0}return!1}function u(t,e,i,r,a){if(!t.samplerate){var o=n(e,i,r,a);t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,S.b.log("parsed codec:"+t.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function c(t){return 9216e4/t}function d(t,e,i,n,r){var s,l,u,c=t.length;if(s=a(t,e),l=o(t,e),(l-=s)>0&&e+s+l<=c)return u=i+n*r,{headerLength:s,frameLength:l,stamp:u}}function h(t,e,i,n,r){var a=c(t.samplerate),o=d(e,i,n,r,a);if(o){var s=o.stamp,l=o.headerLength,u=o.frameLength,h={unit:e.subarray(i+l,i+l+u),pts:s,dts:s};return t.samples.push(h),t.len+=u,{sample:h,length:u+l}}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var T=i(1),w=i(2),C=i(4),S=i(0),L=i(3),P=function(){function t(e,i,n){p(this,t),this.observer=e,this.config=n,this.remuxer=i}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=L.a.getID3Data(t,0)||[],i=e.length,n=t.length;i<n;i++)if(l(t,i))return S.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,n){for(var r=this._audioTrack,a=L.a.getID3Data(t,0)||[],o=L.a.getTimeStamp(a),l=o?90*o:9e4*e,c=0,d=l,p=t.length,f=a.length,y=[{pts:d,dts:d,data:a}];f<p-1;)if(s(t,f)&&f+5<p){u(r,this.observer,t,f,r.manifestCodec);var g=h(r,t,f,l,c);if(!g){S.b.log("Unable to parse AAC frame");break}f+=g.length,d=g.sample.pts,c++}else L.a.isHeader(t,f)?(a=L.a.getID3Data(t,f),y.push({pts:d,dts:d,data:a}),f+=a.length):f++;this.remuxer.remux(r,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},e,i,n)},t.prototype.destroy=function(){},t}(),O=P,R=Math.pow(2,32)-1,I=function(){function t(e,i){f(this,t),this.observer=e,this.remuxer=i}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,i,n,r){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==i&&(i="mp4a.40.5"),null==n&&(n="avc1.42e01e");var o={};a.audio&&a.video?o.audiovideo={container:"video/mp4",codec:i+","+n,initSegment:r?e:null}:(a.audio&&(o.audio={container:"audio/mp4",codec:i,initSegment:r?e:null}),a.video&&(o.video={container:"video/mp4",codec:n,initSegment:r?e:null})),this.observer.trigger(T.a.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else i&&(this.audioCodec=i),n&&(this.videoCodec=n)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return i<0?4294967296+i:i},t.writeUint32=function(t,e,i){t.data&&(e+=t.start,t=t.data),t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i},t.findBox=function(e,i){var n,r,a,o,s,l,u,c=[];if(e.data?(l=e.start,o=e.end,e=e.data):(l=0,o=e.byteLength),!i.length)return null;for(n=l;n<o;)r=t.readUint32(e,n),a=t.bin2str(e.subarray(n+4,n+8)),u=r>1?n+r:o,a===i[0]&&(1===i.length?c.push({data:e,start:n+8,end:u}):(s=t.findBox({data:e,start:n+8,end:u},i.slice(1)),s.length&&(c=c.concat(s)))),n=u;return c},t.parseInitSegment=function(e){var i=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var n=t.findBox(e,["tkhd"])[0];if(n){var r=n.data[n.start],a=0===r?12:20,o=t.readUint32(n,a),s=t.findBox(e,["mdia","mdhd"])[0];if(s){r=s.data[s.start],a=0===r?12:20;var l=t.readUint32(s,a),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var c=t.bin2str(u.data.subarray(u.start+8,u.start+12)),d={soun:"audio",vide:"video"}[c];if(d){var h=t.findBox(e,["mdia","minf","stbl","stsd"]);if(h.length){h=h[0];var p=t.bin2str(h.data.subarray(h.start+12,h.start+16));S.b.log("MP4Demuxer:"+d+":"+p+" found")}i[o]={timescale:l,type:d},i[d]={timescale:l,id:o}}}}}}),i},t.getStartDTS=function(e,i){var n,r,a;return n=t.findBox(i,["moof","traf"]),r=[].concat.apply([],n.map(function(i){return t.findBox(i,["tfhd"]).map(function(n){var r,a;return r=t.readUint32(n,4),a=e[r].timescale||9e4,t.findBox(i,["tfdt"]).map(function(e){var i,n;return i=e.data[e.start],n=t.readUint32(e,4),1===i&&(n*=Math.pow(2,32),n+=t.readUint32(e,8)),n})[0]/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},t.offsetStartDTS=function(e,i,n){t.findBox(i,["moof","traf"]).map(function(i){return t.findBox(i,["tfhd"]).map(function(r){var a=t.readUint32(r,4),o=e[a].timescale||9e4;t.findBox(i,["tfdt"]).map(function(e){var i=e.data[e.start],r=t.readUint32(e,4);if(0===i)t.writeUint32(e,4,r-n*o);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=n*o,r=Math.max(r,0);var a=Math.floor(r/(R+1)),s=Math.floor(r%(R+1));t.writeUint32(e,4,a),t.writeUint32(e,8,s)}})})})},t.prototype.append=function(e,i,n,r){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec),a=this.initData);var o=void 0,s=this.initPTS;if(void 0===s){var l=t.getStartDTS(a,e);this.initPTS=s=l-i,this.observer.trigger(T.a.INIT_PTS_FOUND,{initPTS:s})}t.offsetStartDTS(a,e,s),o=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,o,n,r,e)},t.prototype.destroy=function(){},t}(),x=I,D={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],appendFrame:function(t,e,i,n,r){if(!(i+24>e.length)){var a=this.parseHeader(e,i);if(a&&i+a.frameLength<=e.length){var o=10368e4/a.sampleRate,s=n+r*o,l={unit:e.subarray(i,i+a.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(l),t.len+=a.frameLength,{sample:l,length:a.frameLength}}}},parseHeader:function(t,e){var i=t[e+1]>>3&3,n=t[e+1]>>1&3,r=t[e+2]>>4&15,a=t[e+2]>>2&3,o=!!(2&t[e+2]);if(1!==i&&0!==r&&15!==r&&3!==a){var s=3===i?3-n:3===n?3:4,l=1e3*D.BitratesMap[14*s+r-1],u=3===i?0:2===i?1:2,c=D.SamplingRateMap[3*u+a],d=o?1:0;return{sampleRate:c,channelCount:t[e+3]>>6==3?1:2,frameLength:3===n?(3===i?12:6)*l/c+d<<2:(3===i?144:72)*l/c+d|0}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var i=this.parseHeader(t,e),n=4;i&&i.frameLength&&(n=i.frameLength);var r=e+n;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},M=D,N=function(){function t(e){y(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,i=t.byteLength-e,n=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");n.set(t.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},t.prototype.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,e=t>>3,t-=e>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),i=this.word>>>32-e;return t>32&&S.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),e=t-e,e>0&&this.bitsAvailable?i<<e|this.readBits(e):i},t.prototype.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e,i,n=8,r=8;for(e=0;e<t;e++)0!==r&&(i=this.readEG(),r=(n+i+256)%256),n=0===r?n:r},t.prototype.readSPS=function(){var t,e,i,n,r,a,o,s=0,l=0,u=0,c=0,d=this.readUByte.bind(this),h=this.readBits.bind(this),p=this.readUEG.bind(this),f=this.readBoolean.bind(this),y=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(d(),t=d(),h(5),y(3),d(),v(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=p();if(3===b&&y(1),v(),v(),y(1),f())for(a=3!==b?8:12,o=0;o<a;o++)f()&&m(o<6?16:64)}v();var _=p();if(0===_)p();else if(1===_)for(y(1),g(),g(),e=p(),o=0;o<e;o++)g();v(),y(1),i=p(),n=p(),r=h(1),0===r&&y(1),y(1),f()&&(s=p(),l=p(),u=p(),c=p());var E=[1,1];if(f()&&f()){switch(d()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[d()<<8|d(),d()<<8|d()]}}return{width:Math.ceil(16*(i+1)-2*s-2*l),height:(2-r)*(n+1)*16-(r?2:4)*(u+c),pixelRatio:E}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),B=N,F=function(){function t(e,i,n,r){g(this,t),this.decryptdata=n,this.discardEPB=r,this.decrypter=new C.a(e,i)}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,i,n){var r=t[e].unit,a=r.subarray(16,r.length-r.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),r.set(a,16),n||s.decryptAacSamples(t,e+1,i)})},t.prototype.decryptAacSamples=function(t,e,i){for(;;e++){if(e>=t.length)return void i();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,i,n),!n)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,i=new Int8Array(e),n=0,r=32;r<=t.length-16;r+=160,n+=16)i.set(t.subarray(r,r+16),n);return i},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var i=0,n=32;n<=t.length-16;n+=160,i+=16)t.set(e.subarray(i,i+16),n);return t},t.prototype.decryptAvcSample=function(t,e,i,n,r,a){var o=this.discardEPB(r.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,function(s){r.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(t,e,i+1,n)})},t.prototype.decryptAvcSamples=function(t,e,i,n){for(;;e++,i=0){if(e>=t.length)return void n();for(var r=t[e].units;!(i>=r.length);i++){var a=r[i];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,i,n,a,o),!o)return}}}},t}(),U=F,j={video:0,audio:1,id3:2,text:3},G=function(){function t(e,i,n,r){v(this,t),this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=i,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new U(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var i=t._syncOffset(e);return!(i<0)&&(i&&S.b.warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),!0)},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),i=0;i<e;){if(71===t[i]&&71===t[i+188]&&71===t[i+376])return i;i++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:j[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,i,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=n,this._duration=r},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,i,n,r){var a,o,s,l,u,c=e.length,d=!1;this.contiguous=n;var h=this.pmtParsed,p=this._avcTrack,f=this._audioTrack,y=this._id3Track,g=p.pid,v=f.pid,m=y.pid,b=this._pmtId,_=p.pesData,E=f.pesData,A=y.pesData,k=this._parsePAT,C=this._parsePMT,L=this._parsePES,P=this._parseAVCPES.bind(this),O=this._parseAACPES.bind(this),R=this._parseMPEGPES.bind(this),I=this._parseID3PES.bind(this),x=t._syncOffset(e);for(c-=(c+x)%188,a=x;a<c;a+=188)if(71===e[a]){if(o=!!(64&e[a+1]),s=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((l=a+5+e[a+4])===a+188)continue}else l=a+4;switch(s){case g:o&&(_&&(u=L(_))&&P(u,!1),_={data:[],size:0}),_&&(_.data.push(e.subarray(l,a+188)),_.size+=a+188-l);break;case v:o&&(E&&(u=L(E))&&(f.isAAC?O(u):R(u)),E={data:[],size:0}),E&&(E.data.push(e.subarray(l,a+188)),E.size+=a+188-l);break;case m:o&&(A&&(u=L(A))&&I(u),A={data:[],size:0}),A&&(A.data.push(e.subarray(l,a+188)),A.size+=a+188-l);break;case 0:o&&(l+=e[l]+1),b=this._pmtId=k(e,l);break;case b:o&&(l+=e[l]+1);var D=C(e,l,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);g=D.avc,g>0&&(p.pid=g),v=D.audio,v>0&&(f.pid=v,f.isAAC=D.isAAC),m=D.id3,m>0&&(y.pid=m),d&&!h&&(S.b.log("reparse from beginning"),d=!1,a=x-188),h=this.pmtParsed=!0;break;case 17:case 8191:break;default:d=!0}}else this.observer.trigger(T.a.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(u=L(_))?(P(u,!0),p.pesData=null):p.pesData=_,E&&(u=L(E))?(f.isAAC?O(u):R(u),f.pesData=null):(E&&E.size&&S.b.log("last AAC PES packet truncated,might overlap between fragments"),f.pesData=E),A&&(u=L(A))?(I(u),y.pesData=null):y.pesData=A,null==this.sampleAes?this.remuxer.remux(f,p,y,this._txtTrack,i,n,r):this.decryptAndRemux(f,p,y,this._txtTrack,i,n,r)},t.prototype.decryptAndRemux=function(t,e,i,n,r,a,o){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,i,n,r,a,o)})}else this.decryptAndRemuxAvc(t,e,i,n,r,a,o)},t.prototype.decryptAndRemuxAvc=function(t,e,i,n,r,a,o){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,i,n,r,a,o)})}else this.remuxer.remux(t,e,i,n,r,a,o)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,i,n){var r,a,o,s,l={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=(15&t[e+1])<<8|t[e+2],a=e+3+r-4,o=(15&t[e+10])<<8|t[e+11],e+=12+o;e<a;){switch(s=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!n){S.b.log("unkown stream type:"+t[e]);break}case 15:-1===l.audio&&(l.audio=s);break;case 21:-1===l.id3&&(l.id3=s);break;case 219:if(!n){S.b.log("unkown stream type:"+t[e]);break}case 27:-1===l.avc&&(l.avc=s);break;case 3:case 4:i?-1===l.audio&&(l.audio=s,l.isAAC=!1):S.b.log("MPEG audio found, not supported in this browser for now");break;case 36:S.b.warn("HEVC stream type found, not supported for now");break;default:S.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return l},t.prototype._parsePES=function(t){var e,i,n,r,a,o,s,l,u=0,c=t.data;if(!t||0===t.size)return null;for(;c[0].length<19&&c.length>1;){var d=new Uint8Array(c[0].length+c[1].length);d.set(c[0]),d.set(c[1],c[0].length),c[0]=d,c.splice(1,1)}if(e=c[0],1===(e[0]<<16)+(e[1]<<8)+e[2]){if((n=(e[4]<<8)+e[5])&&n>t.size-6)return null;i=e[7],192&i&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,o>4294967295&&(o-=8589934592),64&i?(s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,s>4294967295&&(s-=8589934592),o-s>54e5&&(S.b.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),r=e[8],l=r+9,t.size-=l,a=new Uint8Array(t.size);for(var h=0,p=c.length;h<p;h++){e=c[h];var f=e.byteLength;if(l){if(l>f){l-=f;continue}e=e.subarray(l),f-=l,l=0}a.set(e,u),u+=f}return n&&(n-=r+3),{data:a,pts:o,dts:s,len:n}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var i=e.samples,n=i.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(n||this.contiguous)?(t.id=n,i.push(t)):e.dropped++}t.debug.length&&S.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var i,n,r,a=this,o=this._avcTrack,s=this._parseAVCNALu(t.data),l=this.avcSample,u=!1,c=this.pushAccesUnit.bind(this),d=function(t,e,i,n){return{key:t,pts:e,dts:i,units:[],debug:n}};t.data=null,l&&s.length&&!o.audFound&&(c(l,o),l=this.avcSample=d(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:n=!0,l||(l=a.avcSample=d(!0,t.pts,t.dts,"")),l.frame=!0;var s=e.data;if(u&&s.length>4){var h=new B(s).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(l.key=!0)}break;case 5:n=!0,l||(l=a.avcSample=d(!0,t.pts,t.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0,i=new B(a.discardEPB(e.data)),i.readUByte();for(var p=0,f=0,y=!1,g=0;!y&&i.bytesAvailable>1;){p=0;do{g=i.readUByte(),p+=g}while(255===g);f=0;do{g=i.readUByte(),f+=g}while(255===g);if(4===p&&0!==i.bytesAvailable){y=!0;if(181===i.readUByte()){if(49===i.readUShort()){if(1195456820===i.readUInt()){if(3===i.readUByte()){var v=i.readUByte(),m=i.readUByte(),b=31&v,_=[v,m];for(r=0;r<b;r++)_.push(i.readUByte()),_.push(i.readUByte()),_.push(i.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:t.pts,bytes:_})}}}}}else if(f<i.bytesAvailable)for(r=0;r<f;r++)i.readUByte()}break;case 7:if(n=!0,u=!0,!o.sps){i=new B(e.data);var E=i.readSPS();o.width=E.width,o.height=E.height,o.pixelRatio=E.pixelRatio,o.sps=[e.data],o.duration=a._duration;var A=e.data.subarray(1,4),k="avc1.";for(r=0;r<3;r++){var T=A[r].toString(16);T.length<2&&(T="0"+T),k+=T}o.codec=k}break;case 8:n=!0,o.pps||(o.pps=[e.data]);break;case 9:n=!1,o.audFound=!0,l&&c(l,o),l=a.avcSample=d(!1,t.pts,t.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+e.type+" ")}if(l&&n){l.units.push(e)}}),e&&l&&(c(l,o),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var i=t.length;if(i>0){if(e.pts>=t[i-1].pts)t.push(e);else for(var n=i-1;n>=0;n--)if(e.pts<t[n].pts){t.splice(n,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var i=this._avcTrack,n=i.samples;t=n[n.length-1]}if(t){var r=t.units;e=r[r.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e,i,n,r,a,o=0,s=t.byteLength,l=this._avcTrack,u=l.naluState||0,c=u,d=[],h=-1;for(-1===u&&(h=0,a=31&t[0],u=0,o=1);o<s;)if(e=t[o++],u)if(1!==u)if(e)if(1===e){if(h>=0)n={data:t.subarray(h,o-u-1),type:a},d.push(n);else{var p=this._getLastNalUnit();if(p&&(c&&o<=4-c&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-c)),(i=o-u-1)>0)){var f=new Uint8Array(p.data.byteLength+i);f.set(p.data,0),f.set(t.subarray(0,i),p.data.byteLength),p.data=f}}o<s?(r=31&t[o],h=o,a=r,u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;if(h>=0&&u>=0&&(n={data:t.subarray(h,s),type:a,state:u},d.push(n)),0===d.length){var y=this._getLastNalUnit();if(y){var g=new Uint8Array(y.data.byteLength+t.byteLength);g.set(y.data,0),g.set(t,y.data.byteLength),y.data=g}}return l.naluState=u,d},t.prototype.discardEPB=function(t){for(var e,i,n=t.byteLength,r=[],a=1;a<n-2;)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),i[a]=t[o];return i},t.prototype._parseAACPES=function(t){var e,i,n,r,a,o=this._audioTrack,l=t.data,d=t.pts,p=this.aacOverFlow,f=this.aacLastPTS;if(p){var y=new Uint8Array(p.byteLength+l.byteLength);y.set(p,0),y.set(l,p.byteLength),l=y}for(n=0,a=l.length;n<a-1&&!s(l,n);n++);if(n){var g,v;if(n<a-1?(g="AAC PES did not start with ADTS header,offset:"+n,v=!1):(g="no ADTS header found in AAC PES",v=!0),S.b.warn("parsing error:"+g),this.observer.trigger(T.a.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:v,reason:g}),v)return}if(u(o,this.observer,l,n,this.audioCodec),i=0,e=c(o.samplerate),p&&f){var m=f+e;Math.abs(m-d)>1&&(S.b.log("AAC: align PTS for overlapping frames by "+Math.round((m-d)/90)),d=m)}for(;n<a;)if(s(l,n)&&n+5<a){var b=h(o,l,n,d,i);if(!b)break;n+=b.length,r=b.sample.pts,i++}else n++;p=n<a?l.subarray(n,a):null,this.aacOverFlow=p,this.aacLastPTS=r},t.prototype._parseMPEGPES=function(t){for(var e=t.data,i=e.length,n=0,r=0,a=t.pts;r<i;)if(M.isHeader(e,r)){var o=M.appendFrame(this._audioTrack,e,r,a,n);if(!o)break;r+=o.length,n++}else r++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),V=G,H=function(){function t(e,i,n){m(this,t),this.observer=e,this.config=n,this.remuxer=i}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e,i,n=L.a.getID3Data(t,0);if(n&&void 0!==L.a.getTimeStamp(n))for(e=n.length,i=Math.min(t.length-1,e+100);e<i;e++)if(M.probe(t,e))return S.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,n){for(var r=L.a.getID3Data(t,0),a=90*L.a.getTimeStamp(r),o=r.length,s=t.length,l=0,u=0,c=this._audioTrack,d=[{pts:a,dts:a,data:r}];o<s;)if(M.isHeader(t,o)){var h=M.appendFrame(c,t,o,a,l);if(!h)break;o+=h.length,u=h.sample.pts,l++}else L.a.isHeader(t,o)?(r=L.a.getID3Data(t,o),d.push({pts:u,dts:u,data:r}),o+=r.length):o++;this.remuxer.remux(c,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},e,i,n)},t.prototype.destroy=function(){},t}(),Y=H,K=function(){function t(){b(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),$=K,z=Math.pow(2,32)-1,W=function(){function t(){_(this,t)}return t.init=function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,l,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e,i=Array.prototype.slice.call(arguments,1),n=8,r=i.length,a=r;r--;)n+=i[r].byteLength;for(e=new Uint8Array(n),e[0]=n>>24&255,e[1]=n>>16&255,e[2]=n>>8&255,e[3]=255&n,e.set(t,4),r=0,n=8;r<a;r++)e.set(i[r],n),n+=i[r].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,i){i*=e;var n=Math.floor(i/(z+1)),r=Math.floor(i%(z+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,i,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,i))},t.moov=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trak(e[i]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))},t.mvex=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trex(e[i]);return t.box.apply(null,[t.types.mvex].concat(n))},t.mvhd=function(e,i){i*=e;var n=Math.floor(i/(z+1)),r=Math.floor(i%(z+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var i,n,r=e.samples||[],a=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,a[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t.box(t.types.sdtp,a)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var i,n,r,a=[],o=[];for(i=0;i<e.sps.length;i++)n=e.sps[i],r=n.byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(n));for(i=0;i<e.pps.length;i++)n=e.pps[i],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));var s=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(o))),l=e.width,u=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var i=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var i=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var i=e.id,n=e.duration*e.timescale,r=e.width,a=e.height,o=Math.floor(n/(z+1)),s=Math.floor(n%(z+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,i){var n=t.sdtp(e),r=e.id,a=Math.floor(i/(z+1)),o=Math.floor(i%(z+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,n.length+16+20+8+16+8+8),n)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var i=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,i){var n,r,a,o,s,l,u=e.samples||[],c=u.length,d=12+16*c,h=new Uint8Array(d);for(i+=8+d,h.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),n=0;n<c;n++)r=u[n],a=r.duration,o=r.size,s=r.flags,l=r.cts,h.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var i,n=t.moov(e);return i=new Uint8Array(t.FTYP.byteLength+n.byteLength),i.set(t.FTYP),i.set(n,t.FTYP.byteLength),i},t}(),q=W,X=function(){function t(e,i,n,r){E(this,t),this.observer=e,this.config=i,this.typeSupported=n;var a=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,i,n,r,a,o){if(this.ISGenerated||this.generateIS(t,e,r),this.ISGenerated){var s=t.samples.length,l=e.samples.length,u=r,c=r;if(s&&l){var d=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;u+=Math.max(0,d),c+=Math.max(0,-d)}if(s){t.timescale||(S.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,r));var h=this.remuxAudio(t,u,a,o);if(l){var p=void 0;h&&(p=h.endPTS-h.startPTS),e.timescale||(S.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,r)),this.remuxVideo(e,c,a,p,o)}}else{var f=void 0;l&&(f=this.remuxVideo(e,c,a,o)),f&&t.codec&&this.remuxEmptyAudio(t,u,a,f)}}i.samples.length&&this.remuxID3(i,r),n.samples.length&&this.remuxText(n,r),this.observer.trigger(T.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,i){var n,r,a=this.observer,o=t.samples,s=e.samples,l=this.typeSupported,u="audio/mp4",c={},d={tracks:c},h=void 0===this._initPTS;if(h&&(n=r=1/0),t.config&&o.length&&(t.timescale=t.samplerate,S.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(l.mpeg?(u="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3")),c.audio={container:u,codec:t.codec,initSegment:!t.isAAC&&l.mpeg?new Uint8Array:q.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(n=r=o[0].pts-t.inputTimeScale*i)),e.sps&&e.pps&&s.length){var p=e.inputTimeScale;e.timescale=p,c.video={container:"video/mp4",codec:e.codec,initSegment:q.initSegment([e]),metadata:{width:e.width,height:e.height}},h&&(n=Math.min(n,s[0].pts-p*i),r=Math.min(r,s[0].dts-p*i),this.observer.trigger(T.a.INIT_PTS_FOUND,{initPTS:n}))}Object.keys(c).length?(a.trigger(T.a.FRAG_PARSING_INIT_SEGMENT,d),this.ISGenerated=!0,h&&(this._initPTS=n,this._initDTS=r)):a.trigger(T.a.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,i,n,r){var a,o,s,l,u,c,d,h=8,p=t.timescale,f=t.samples,y=[],g=f.length,v=this._PTSNormalize,m=this._initDTS,b=this.nextAvcDts,_=this.isSafari;_&&(i|=f.length&&b&&(r&&Math.abs(e-b/p)<.1||Math.abs(f[0].pts-b-m)<p/5)),i||(b=e*p),f.forEach(function(t){t.pts=v(t.pts-m,b),t.dts=v(t.dts-m,b)}),f.sort(function(t,e){var i=t.dts-e.dts,n=t.pts-e.pts;return i||(n||t.id-e.id)});var E=f.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(E<0){S.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(E/90)+" ms to overcome this issue");for(var A=0;A<f.length;A++)f[A].dts+=E}var k=f[0];u=Math.max(k.dts,0),l=Math.max(k.pts,0);var C=Math.round((u-b)/90);i&&C&&(C>1?S.b.log("AVC:"+C+" ms hole between fragments detected,filling it"):C<-1&&S.b.log("AVC:"+-C+" ms overlapping between fragments detected"),u=b,f[0].dts=u,l=Math.max(l-C,b),f[0].pts=l,S.b.log("Video/PTS/DTS adjusted: "+Math.round(l/90)+"/"+Math.round(u/90)+",delta:"+C+" ms")),k=f[f.length-1],d=Math.max(k.dts,0),c=Math.max(k.pts,0,d),_&&(a=Math.round((d-u)/(f.length-1)));for(var L=0,P=0,O=0;O<g;O++){for(var R=f[O],I=R.units,x=I.length,D=0,M=0;M<x;M++)D+=I[M].data.length;P+=D,L+=x,R.length=D,R.dts=_?u+O*a:Math.max(R.dts,u),R.pts=Math.max(R.pts,R.dts)}var N=P+4*L+8;try{o=new Uint8Array(N)}catch(t){return void this.observer.trigger(T.a.ERROR,{type:w.b.MUX_ERROR,details:w.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var B=new DataView(o.buffer);B.setUint32(0,N),o.set(q.types.mdat,4);for(var F=0;F<g;F++){for(var U=f[F],j=U.units,G=0,V=void 0,H=0,Y=j.length;H<Y;H++){var K=j[H],$=K.data,z=K.data.byteLength;B.setUint32(h,z),h+=4,o.set($,h),h+=z,G+=4+z}if(_)V=Math.max(0,a*Math.round((U.pts-U.dts)/a));else{if(F<g-1)a=f[F+1].dts-U.dts;else{var W=this.config,X=U.dts-f[F>0?F-1:F].dts;if(W.stretchShortVideoTrack){var Z=W.maxBufferHole,Q=W.maxSeekHole,J=Math.floor(Math.min(Z,Q)*p),tt=(n?l+n*p:this.nextAudioPts)-U.pts;tt>J?(a=tt-X,a<0&&(a=X),S.b.log("It is approximately "+tt/90+" ms to the next segment; using duration "+a/90+" ms for the last video frame.")):a=X}else a=X}V=Math.round(U.pts-U.dts)}y.push({size:G,duration:a,cts:V,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:U.key?2:1,isNonSync:U.key?0:1}})}this.nextAvcDts=d+a;var et=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var it=y[0].flags;it.dependsOn=2,it.isNonSync=0}t.samples=y,s=q.moof(t.sequenceNumber++,u,t),t.samples=[];var nt={data1:s,data2:o,startPTS:l/p,endPTS:(c+a)/p,startDTS:u/p,endDTS:this.nextAvcDts/p,type:"video",nb:y.length,dropped:et};return this.observer.trigger(T.a.FRAG_PARSING_DATA,nt),nt},t.prototype.remuxAudio=function(t,e,i,n){var r,a,o,s,l,u,c,d=t.inputTimeScale,h=t.timescale,p=d/h,f=t.isAAC?1024:1152,y=f*p,g=this._PTSNormalize,v=this._initDTS,m=!t.isAAC&&this.typeSupported.mpeg,b=t.samples,_=[],E=this.nextAudioPts;if(i|=b.length&&E&&(n&&Math.abs(e-E/d)<.1||Math.abs(b[0].pts-E-v)<20*y),i||(E=e*d),b.forEach(function(t){t.pts=t.dts=g(t.pts-v,E)}),b.sort(function(t,e){return t.pts-e.pts}),n&&t.isAAC)for(var A=this.config.maxAudioFramesDrift,k=0,C=E;k<b.length;){var L,P=b[k],O=P.pts;L=O-C;var R=Math.abs(1e3*L/d);if(L<=-A*y)S.b.warn("Dropping 1 audio frame @ "+(C/d).toFixed(3)+"s due to "+Math.round(R)+" ms overlap."),b.splice(k,1),t.len-=P.unit.length;else if(L>=A*y&&R<1e4&&C){var I=Math.round(L/y);S.b.warn("Injecting "+I+" audio frame @ "+(C/d).toFixed(3)+"s due to "+Math.round(1e3*L/d)+" ms gap.");for(var x=0;x<I;x++){var D=Math.max(C,0);o=$.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(S.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),o=P.unit.subarray()),b.splice(k,0,{unit:o,pts:D,dts:D}),t.len+=o.length,C+=y,k++}P.pts=P.dts=C,C+=y,k++}else Math.abs(L),P.pts=P.dts=C,C+=y,k++}for(var M=0,N=b.length;M<N;M++){var B=b[M],F=B.unit,U=B.pts;if(void 0!==c)a.duration=Math.round((U-c)/p);else{var j=Math.round(1e3*(U-E)/d),G=0;if(i&&t.isAAC&&j){if(j>0&&j<1e4)G=Math.round((U-E)/y),S.b.log(j+" ms hole between AAC samples detected,filling it"),G>0&&(o=$.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(o=F.subarray()),t.len+=G*o.length);else if(j<-12){S.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(E/d).toFixed(3)+"s/"+(U/d).toFixed(3)+"s/"+-j+"ms"),t.len-=F.byteLength;continue}U=E}if(u=Math.max(0,U),!(t.len>0))return;var V=m?t.len:t.len+8;r=m?0:8;try{s=new Uint8Array(V)}catch(t){return void this.observer.trigger(T.a.ERROR,{type:w.b.MUX_ERROR,details:w.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:V,reason:"fail allocating audio mdat "+V})}if(!m){new DataView(s.buffer).setUint32(0,V),s.set(q.types.mdat,4)}for(var H=0;H<G;H++)o=$.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),o||(S.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),o=F.subarray()),s.set(o,r),r+=o.byteLength,a={size:o.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(a)}s.set(F,r);var Y=F.byteLength;r+=Y,a={size:Y,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(a),c=U}var K=0,z=_.length;if(z>=2&&(K=_[z-2].duration,a.duration=K),z){this.nextAudioPts=E=c+p*K,t.len=0,t.samples=_,l=m?new Uint8Array:q.moof(t.sequenceNumber++,u/p,t),t.samples=[];var W=u/d,X=E/d,Z={data1:l,data2:s,startPTS:W,endPTS:X,startDTS:W,endDTS:X,type:"audio",nb:z};return this.observer.trigger(T.a.FRAG_PARSING_DATA,Z),Z}return null},t.prototype.remuxEmptyAudio=function(t,e,i,n){var r=t.inputTimeScale,a=t.samplerate?t.samplerate:r,o=r/a,s=this.nextAudioPts,l=(void 0!==s?s:n.startDTS*r)+this._initDTS,u=n.endDTS*r+this._initDTS,c=1024*o,d=Math.ceil((u-l)/c),h=$.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(S.b.warn("remux empty Audio"),!h)return void S.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var p=[],f=0;f<d;f++){var y=l+f*c;p.push({unit:h,pts:y,dts:y}),t.len+=h.length}t.samples=p,this.remuxAudio(t,e,i)},t.prototype.remuxID3=function(t,e){var i,n=t.samples.length,r=t.inputTimeScale,a=this._initPTS,o=this._initDTS;if(n){for(var s=0;s<n;s++)i=t.samples[s],i.pts=(i.pts-a)/r,i.dts=(i.dts-o)/r;this.observer.trigger(T.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var i,n=t.samples.length,r=t.inputTimeScale,a=this._initPTS;if(n){for(var o=0;o<n;o++)i=t.samples[o],i.pts=(i.pts-a)/r;this.observer.trigger(T.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var i;if(void 0===e)return t;for(i=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=i;return t},t}(),Z=X,Q=function(){function t(e){A(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,i,n,r,a,o,s){var l=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),l.trigger(T.a.FRAG_PARSING_DATA,{data1:s,startPTS:r,startDTS:r,type:u,nb:1,dropped:0}),l.trigger(T.a.FRAG_PARSED)},t}(),J=Q,tt=function(){function t(e,i,n,r){k(this,t),this.observer=e,this.typeSupported=i,this.config=n,this.vendor=r}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,i,n,r,a,o,s,l,u,c,d){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var h=this.decrypter;null==h&&(h=this.decrypter=new C.a(this.observer,this.config));var p,f=this;try{p=performance.now()}catch(t){p=Date.now()}h.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var h;try{h=performance.now()}catch(t){h=Date.now()}f.observer.trigger(T.a.FRAG_DECRYPTED,{stats:{tstart:p,tdecrypt:h}}),f.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),n,r,a,o,s,l,u,c,d)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),n,r,a,o,s,l,u,c,d)},t.prototype.pushDecrypted=function(t,e,i,n,r,a,o,s,l,u,c,d){var h=this.demuxer;if(!h||o&&!this.probe(t)){for(var p=this.observer,f=this.typeSupported,y=this.config,g=[{demux:V,remux:Z},{demux:O,remux:Z},{demux:Y,remux:Z},{demux:x,remux:J}],v=0,m=g.length;v<m;v++){var b=g[v],_=b.demux.probe;if(_(t)){var E=this.remuxer=new b.remux(p,y,f,this.vendor);h=new b.demux(p,E,y,f),this.probe=_;break}}if(!h)return void p.trigger(T.a.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=h}var A=this.remuxer;(o||s)&&(h.resetInitSegment(i,n,r,u),A.resetInitSegment()),o&&(h.resetTimeStamp(d),A.resetTimeStamp(d)),"function"==typeof h.setDecryptData&&h.setDecryptData(e),h.append(t,a,l,c)},t}();e.a=tt},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){var i=jt[e];return!!i&&!0===i[t.slice(0,4)]}function o(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)return null;for(var i=null,n=0;n<t.length;n++){var r=t[n];r.id===e&&(i=r)}return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function v(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e,i){var n=t[e],r=t[i],a=r.startPTS;isNaN(a)?r.start=i>e?n.start+n.duration:Math.max(n.start-r.duration,0):i>e?(n.duration=a-n.start,n.duration<0&&It.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(r.duration=n.start-a,r.duration<0&&It.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}function _(t,e,i,n,r,a){var o=i;if(!isNaN(e.startPTS)){var s=Math.abs(e.startPTS-i);isNaN(e.deltaPTS)?e.deltaPTS=s:e.deltaPTS=Math.max(s,e.deltaPTS),o=Math.max(i,e.startPTS),i=Math.min(i,e.startPTS),n=Math.max(n,e.endPTS),r=Math.min(r,e.startDTS),a=Math.max(a,e.endDTS)}var l=i-e.start;e.start=e.startPTS=i,e.maxStartPTS=o,e.endPTS=n,e.startDTS=r,e.endDTS=a,e.duration=n-i;var u=e.sn;if(!t||u<t.startSN||u>t.endSN)return 0;var c,d,h;for(c=u-t.startSN,d=t.fragments,d[c]=e,h=c;h>0;h--)b(d,h,h-1);for(h=c;h<d.length-1;h++)b(d,h,h+1);return t.PTSKnown=!0,l}function E(t,e){var i,n=Math.max(t.startSN,e.startSN)-e.startSN,r=Math.min(t.endSN,e.endSN)-e.startSN,a=e.startSN-t.startSN,o=t.fragments,s=e.fragments,l=0;if(r<n)return void(e.PTSKnown=!1);for(var u=n;u<=r;u++){var c=o[a+u],d=s[u];d&&c&&(l=c.cc-d.cc,isNaN(c.startPTS)||(d.start=d.startPTS=c.startPTS,d.endPTS=c.endPTS,d.duration=c.duration,d.backtracked=c.backtracked,d.dropped=c.dropped,i=d))}if(l)for(It.b.log("discontinuity sliding from playlist, take drift into account"),u=0;u<s.length;u++)s[u].cc+=l;if(i)_(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS);else if(a>=0&&a<o.length){var h=o[a].start;for(u=0;u<s.length;u++)s[u].start+=h}e.PTSKnown=t.PTSKnown}function A(t,e){for(var i=null,n=0;n<t.length;n+=1){var r=t[n];if(r&&r.cc===e){i=r;break}}return i}function k(t,e){return ee.search(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}function T(t,e,i){var n=!1;return e&&e.details&&i&&(i.endCC>i.startCC||t&&t.cc<i.startCC)&&(n=!0),n}function w(t,e){var i=t.fragments,n=e.fragments;if(!n.length||!i.length)return void It.b.log("No fragments to align");var r=A(i,n[0].cc);return!r||r&&!r.startPTS?void It.b.log("No frag in previous level to align on"):r}function C(t,e){e.fragments.forEach(function(e){if(e){var i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}}),e.PTSKnown=!0}function S(t,e,i){if(T(t,e,i)){var n=w(e.details,i);n&&(It.b.log("Adjusting PTS using last level due to CC increase within current level"),C(n.start,i))}if(!1===i.PTSKnown&&e&&e.details){var r=e.details.programDateTime,a=i.programDateTime,o=(a-r)/1e3+e.details.fragments[0].start;isNaN(o)||(It.b.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),C(o,i))}}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function x(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function D(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function G(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function X(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function tt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function it(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function nt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function rt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new qe,this.regionList=[]}function at(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function ot(){this.values=Object.create(null)}function st(t,e,i,n){var r=n?t.split(n):[t];for(var a in r)if("string"==typeof r[a]){var o=r[a].split(i);if(2===o.length){var s=o[0],l=o[1];e(s,l)}}}function lt(t,e,i){function n(){var e=at(t);if(null===e)throw new Error("Malformed timestamp: "+a);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function r(){t=t.replace(/^\s+/,"")}var a=t;if(r(),e.startTime=n(),r(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);t=t.substr(3),r(),e.endTime=n(),r(),function(t,e){var n=new ot;st(t,function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),o=a[0];n.integer(t,o),n.percent(t,o)&&n.set("snapToLines",!1),n.alt(t,o,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start",Ze,"end"]);break;case"position":a=e.split(","),n.percent(t,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start",Ze,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",Ze,"end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var r=n.get("line","auto");"auto"===r&&-1===Xe.line&&(r=-1),e.line=r,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",Ze);var a=n.get("position","auto");"auto"===a&&50===Xe.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}(t,e)}function ut(t){return t.replace(/<br(?: \/)?>/gi,"\n")}function ct(t,e,i,n){for(var r,a,o,s,l,u=window.VTTCue||window.TextTrackCue,c=0;c<n.rows.length;c++)if(r=n.rows[c],o=!0,s=0,l="",!r.isEmpty()){for(var d=0;d<r.chars.length;d++)r.chars[d].uchar.match(/\s/)&&o?s++:(l+=r.chars[d].uchar,o=!1);r.cueStartTime=e,e===i&&(i+=1e-4),a=new u(e,i,ut(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=c+1:a.line=c>7?c-2:c+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ft(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function yt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function gt(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}function vt(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function mt(t,e,i,n){return Math.min(e,n)-Math.max(t,i)}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function At(t){for(var e=[],i=0;i<t.length;i++)"subtitles"===t[i].kind&&e.push(t[i]);return e}function kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function wt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var St={};i.d(St,"newCue",function(){return ct});var Lt=i(6),Pt=i.n(Lt),Ot=i(1),Rt=i(2),It=i(0),xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt=function(){function t(e){n(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.unregisterListeners()},t.prototype.isEventHandler=function(){return"object"===xt(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)},this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){var i=function(t,e){var i="on"+t.replace("hls","");if("function"!=typeof this[i])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,e)};try{i.call(this,t,e).call()}catch(e){It.b.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(Ot.a.ERROR,{type:Rt.b.OTHER_ERROR,details:Rt.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}(),Mt=Dt,Nt=/^(\d+)x(\d+)$/,Bt=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Ft=function(){function t(e){r(this,t),"string"==typeof e&&(e=t.parseAttrList(e));for(var i in e)e.hasOwnProperty(i)&&(this[i]=e[i])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var i=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)i[n]=parseInt(e.slice(2*n,2*n+2),16);return i}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=Nt.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,i={};for(Bt.lastIndex=0;null!==(e=Bt.exec(t));){var n=e[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),i[e[1]]=n}return i},t}(),Ut=Ft,jt={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},Gt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Vt=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,Ht=/#EXT-X-MEDIA:(.*)/g,Yt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Kt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,$t=function(){function t(){u(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return Gt(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Pt.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}(),zt=function(){function t(){u(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var i=t;return t&&t.method&&t.uri&&!t.iv&&(i=new $t,i.method=t.method,i.baseuri=t.baseuri,i.reluri=t.reluri,i.iv=this.createInitializationVector(e)),i},t.prototype.cloneObj=function(t){return JSON.parse(JSON.stringify(t))},Gt(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Pt.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var t=this._byteRange=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var i=this.lastByteRangeEndOffset;t[0]=i||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),t}(),Wt=function(t){function e(i){u(this,e);var n=s(this,t.call(this,i,Ot.a.MANIFEST_LOADING,Ot.a.LEVEL_LOADING,Ot.a.AUDIO_TRACK_LOADING,Ot.a.SUBTITLE_TRACK_LOADING));return n.loaders={},n}return l(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Mt.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:"manifest"})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:"audioTrack",id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:"subtitleTrack",id:t.id})},e.prototype.load=function(t,e){var i=this.loaders[e.type];if(i){var n=i.context;if(n&&n.url===t)return void It.b.trace("playlist request ongoing");It.b.warn("abort previous loader for type:"+e.type),i.abort()}var r=this.hls.config,a=void 0,o=void 0,s=void 0,l=void 0;"manifest"===e.type?(a=r.manifestLoadingMaxRetry,o=r.manifestLoadingTimeOut,s=r.manifestLoadingRetryDelay,l=r.manifestLoadingMaxRetryTimeout):(a=r.levelLoadingMaxRetry,o=r.levelLoadingTimeOut,s=r.levelLoadingRetryDelay,l=r.levelLoadingMaxRetryTimeout,It.b.log("loading playlist for "+e.type+" "+(e.level||e.id))),i=this.loaders[e.type]=e.loader=void 0!==r.pLoader?new r.pLoader(r):new r.loader(r),e.url=t,e.responseType="";var u=void 0,c=void 0;u={timeout:o,maxRetry:a,retryDelay:s,maxRetryDelay:l},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},i.load(e,u,c)},e.prototype.resolve=function(t,e){return Pt.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},e.prototype.parseMasterPlaylist=function(t,e){var i=[],n=void 0;for(Vt.lastIndex=0;null!=(n=Vt.exec(t));){var r={},o=r.attrs=new Ut(n[1]);r.url=this.resolve(n[2],e);var s=o.decimalResolution("RESOLUTION");s&&(r.width=s.width,r.height=s.height),r.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),r.name=o.NAME,function(t,e){["video","audio"].forEach(function(i){var n=t.filter(function(t){return a(t,i)});if(n.length){var r=n.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[i+"Codec"]=r.length>0?r[0]:n[0],t=t.filter(function(t){return-1===n.indexOf(t)})}}),e.unknownCodecs=t}([].concat((o.CODECS||"").split(/[ ,]+/)),r),r.videoCodec&&-1!==r.videoCodec.indexOf("avc1")&&(r.videoCodec=this.avc1toavcoti(r.videoCodec)),i.push(r)}return i},e.prototype.parseMasterPlaylistMedia=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=void 0,a=[],o=0;for(Ht.lastIndex=0;null!==(r=Ht.exec(t));){var s={},l=new Ut(r[1]);if(l.TYPE===i){if(s.groupId=l["GROUP-ID"],s.name=l.NAME,s.type=i,s.default="YES"===l.DEFAULT,s.autoselect="YES"===l.AUTOSELECT,s.forced="YES"===l.FORCED,l.URI&&(s.url=this.resolve(l.URI,e)),s.lang=l.LANGUAGE,s.name||(s.name=s.lang),n.length){var u=c(n,s.groupId);s.audioCodec=u?u.codec:n[0].codec}s.id=o++,a.push(s)}}return a},e.prototype.avc1toavcoti=function(t){var e,i=t.split(".");return i.length>2?(e=i.shift()+".",e+=parseInt(i.shift()).toString(16),e+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):e=t,e},e.prototype.parseLevelPlaylist=function(t,e,i,n){var r,a,o=0,s=0,l={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},u=new $t,c=0,d=null,h=new zt;for(Yt.lastIndex=0;null!==(r=Yt.exec(t));){var p=r[1];if(p){h.duration=parseFloat(p);var f=(" "+r[2]).slice(1);h.title=f||null,h.tagList.push(f?["INF",p,f]:["INF",p])}else if(r[3]){if(!isNaN(h.duration)){var y=o++;h.type=n,h.start=s,h.levelkey=u,h.sn=y,h.level=i,h.cc=c,h.baseurl=e,h.relurl=(" "+r[3]).slice(1),l.fragments.push(h),d=h,s+=h.duration,h=new zt}}else if(r[4]){if(h.rawByteRange=(" "+r[4]).slice(1),d){var g=d.byteRangeEndOffset;g&&(h.lastByteRangeEndOffset=g)}}else if(r[5])h.rawProgramDateTime=(" "+r[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]),void 0===l.programDateTime&&(l.programDateTime=new Date(new Date(Date.parse(r[5]))-1e3*s));else{for(r=r[0].match(Kt),a=1;a<r.length&&void 0===r[a];a++);var v=(" "+r[a+1]).slice(1),m=(" "+r[a+2]).slice(1);switch(r[a]){case"#":h.tagList.push(m?[v,m]:[v]);break;case"PLAYLIST-TYPE":l.type=v.toUpperCase();break;case"MEDIA-SEQUENCE":o=l.startSN=parseInt(v);break;case"TARGETDURATION":l.targetduration=parseFloat(v);break;case"VERSION":l.version=parseInt(v);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":c++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(v);break;case"KEY":var b=v,_=new Ut(b),E=_.enumeratedString("METHOD"),A=_.URI,k=_.hexadecimalInteger("IV");E&&(u=new $t,A&&["AES-128","SAMPLE-AES"].indexOf(E)>=0&&(u.method=E,u.baseuri=e,u.reluri=A,u.key=null,u.iv=k));break;case"START":var T=v,w=new Ut(T),C=w.decimalFloatingPoint("TIME-OFFSET");isNaN(C)||(l.startTimeOffset=C);break;case"MAP":var S=new Ut(v);h.relurl=S.URI,h.rawByteRange=S.BYTERANGE,h.baseurl=e,h.level=i,h.type=n,h.sn="initSegment",l.initSegment=h,h=new zt;break;default:It.b.warn("line parsed but not handled: "+r)}}}return h=d,h&&!h.relurl&&(l.fragments.pop(),s-=h.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=o-1,l.startCC=l.fragments[0]?l.fragments[0].cc:0,l.endCC=c,l},e.prototype.loadsuccess=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.data,a=t.url,o=i.type,s=i.id,l=i.level,u=this.hls;if(this.loaders[o]=void 0,void 0!==a&&0!==a.indexOf("data:")||(a=i.url),e.tload=performance.now(),0===r.indexOf("#EXTM3U"))if(r.indexOf("#EXTINF:")>0){var c="audioTrack"!==o&&"subtitleTrack"!==o,d=isNaN(l)?isNaN(s)?0:s:l,h=this.parseLevelPlaylist(r,a,d,"audioTrack"===o?"audio":"subtitleTrack"===o?"subtitle":"main");h.tload=e.tload,"manifest"===o&&u.trigger(Ot.a.MANIFEST_LOADED,{levels:[{url:a,details:h}],audioTracks:[],url:a,stats:e,networkDetails:n}),e.tparsed=performance.now(),h.targetduration?c?u.trigger(Ot.a.LEVEL_LOADED,{details:h,level:l||0,id:s||0,stats:e,networkDetails:n}):"audioTrack"===o?u.trigger(Ot.a.AUDIO_TRACK_LOADED,{details:h,id:s,stats:e,networkDetails:n}):"subtitleTrack"===o&&u.trigger(Ot.a.SUBTITLE_TRACK_LOADED,{details:h,id:s,stats:e,networkDetails:n}):u.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:Rt.a.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"invalid targetduration",networkDetails:n})}else{var p=this.parseMasterPlaylist(r,a);if(p.length){var f=p.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),y=this.parseMasterPlaylistMedia(r,a,"AUDIO",f),g=this.parseMasterPlaylistMedia(r,a,"SUBTITLES");if(y.length){var v=!1;y.forEach(function(t){t.url||(v=!0)}),!1===v&&p[0].audioCodec&&!p[0].attrs.AUDIO&&(It.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main"}))}u.trigger(Ot.a.MANIFEST_LOADED,{levels:p,audioTracks:y,subtitles:g,url:a,stats:e,networkDetails:n})}else u.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:Rt.a.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"no level found in manifest",networkDetails:n})}else u.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:Rt.a.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"no EXTM3U delimiter",networkDetails:n})},e.prototype.loaderror=function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.loader;switch(e.type){case"manifest":i=Rt.a.MANIFEST_LOAD_ERROR,n=!0;break;case"level":i=Rt.a.LEVEL_LOAD_ERROR,n=!1;break;case"audioTrack":i=Rt.a.AUDIO_TRACK_LOAD_ERROR,n=!1}a&&(a.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:i,fatal:n,url:a.url,loader:a,response:t,context:e,networkDetails:r})},e.prototype.loadtimeout=function(t,e){var i,n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.loader;switch(e.type){case"manifest":i=Rt.a.MANIFEST_LOAD_TIMEOUT,n=!0;break;case"level":i=Rt.a.LEVEL_LOAD_TIMEOUT,n=!1;break;case"audioTrack":i=Rt.a.AUDIO_TRACK_LOAD_TIMEOUT,n=!1}a&&(a.abort(),this.loaders[e.type]=void 0),this.hls.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:i,fatal:n,url:a.url,loader:a,context:e,networkDetails:r})},e}(Mt),qt=Wt,Xt=function(t){function e(i){d(this,e);var n=h(this,t.call(this,i,Ot.a.FRAG_LOADING));return n.loaders={},n}return p(e,t),e.prototype.destroy=function(){var t=this.loaders;for(var e in t){var i=t[e];i&&i.destroy()}this.loaders={},Mt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,i=e.type,n=this.loaders[i],r=this.hls.config;e.loaded=0,n&&(It.b.warn("abort previous fragment loader for type:"+i),n.abort()),n=this.loaders[i]=e.loader=void 0!==r.fLoader?new r.fLoader(r):new r.loader(r);var a=void 0,o=void 0,s=void 0;a={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var l=e.byteRangeStartOffset,u=e.byteRangeEndOffset;isNaN(l)||isNaN(u)||(a.rangeStart=l,a.rangeEnd=u),o={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},n.load(a,o,s)},e.prototype.loadsuccess=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.data,a=i.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(Ot.a.FRAG_LOADED,{payload:r,frag:a,stats:e,networkDetails:n})},e.prototype.loaderror=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:Rt.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:i})},e.prototype.loadtimeout=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:Rt.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:i})},e.prototype.loadprogress=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.frag;r.loaded=t.loaded,this.hls.trigger(Ot.a.FRAG_LOAD_PROGRESS,{frag:r,stats:t,networkDetails:n})},e}(Mt),Zt=Xt,Qt=function(t){function e(i){f(this,e);var n=y(this,t.call(this,i,Ot.a.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return g(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},Mt.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,i=e.type,n=this.loaders[i],r=e.decryptdata,a=r.uri;if(a!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;n&&(It.b.warn("abort previous key loader for type:"+i),n.abort()),e.loader=this.loaders[i]=new o.loader(o),this.decrypturl=a,this.decryptkey=null;var s=void 0,l=void 0,u=void 0;s={url:a,frag:e,responseType:"arraybuffer"},l={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(s,l,u)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(Ot.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,i){var n=i.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(t.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(Ot.a.KEY_LOADED,{frag:n})},e.prototype.loaderror=function(t,e){var i=e.frag,n=i.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:Rt.a.KEY_LOAD_ERROR,fatal:!1,frag:i,response:t})},e.prototype.loadtimeout=function(t,e){var i=e.frag,n=i.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(Ot.a.ERROR,{type:Rt.b.NETWORK_ERROR,details:Rt.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},e}(Mt),Jt=Qt,te={search:function(t,e){for(var i=0,n=t.length-1,r=null,a=null;i<=n;){r=(i+n)/2|0,a=t[r];var o=e(a);if(o>0)i=r+1;else{if(!(o<0))return a;n=r-1}}return null}},ee=te,ie={isBuffered:function(t,e){if(t)for(var i=t.buffered,n=0;n<i.length;n++)if(e>=i.start(n)&&e<=i.end(n))return!0;return!1},bufferInfo:function(t,e,i){if(t){var n,r=t.buffered,a=[];for(n=0;n<r.length;n++)a.push({start:r.start(n),end:r.end(n)});return this.bufferedInfo(a,e,i)}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,i){var n,r,a,o,s,l=[];for(t.sort(function(t,e){var i=t.start-e.start;return i||e.end-t.end}),s=0;s<t.length;s++){var u=l.length;if(u){var c=l[u-1].end;t[s].start-c<i?t[s].end>c&&(l[u-1].end=t[s].end):l.push(t[s])}else l.push(t[s])}for(s=0,n=0,r=a=e;s<l.length;s++){var d=l[s].start,h=l[s].end;if(e+i>=d&&e<h)r=d,a=h,n=a-e;else if(e+i<d){o=d;break}}return{len:n,start:r,end:a,nextStart:o}}},ne=ie,re=i(7),ae=i(5),oe=i.n(ae),se=i(9),le=i.n(se),ue=v(),ce=function(){function t(e,i){m(this,t),this.hls=e,this.id=i;var n=this.observer=new oe.a,r=e.config;n.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.emit.apply(n,[t,t].concat(i))},n.off=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];n.removeListener.apply(n,[t].concat(i))};var a=function(t,i){i=i||{},i.frag=this.frag,i.id=this.id,e.trigger(t,i)}.bind(this);n.on(Ot.a.FRAG_DECRYPTED,a),n.on(Ot.a.FRAG_PARSING_INIT_SEGMENT,a),n.on(Ot.a.FRAG_PARSING_DATA,a),n.on(Ot.a.FRAG_PARSED,a),n.on(Ot.a.ERROR,a),n.on(Ot.a.FRAG_PARSING_METADATA,a),n.on(Ot.a.FRAG_PARSING_USERDATA,a),n.on(Ot.a.INIT_PTS_FOUND,a);var o={mp4:ue.isTypeSupported("video/mp4"),mpeg:ue.isTypeSupported("audio/mpeg"),mp3:ue.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(r.enableWorker&&"undefined"!=typeof Worker){It.b.log("demuxing in webworker");var l=void 0;try{l=this.w=le()(10),this.onwmsg=this.onWorkerMessage.bind(this),l.addEventListener("message",this.onwmsg),l.onerror=function(t){e.trigger(Ot.a.ERROR,{type:Rt.b.OTHER_ERROR,details:Rt.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},l.postMessage({cmd:"init",typeSupported:o,vendor:s,id:i,config:JSON.stringify(r)})}catch(t){It.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),l&&URL.revokeObjectURL(l.objectURL),this.demuxer=new re.a(n,o,r,s),this.w=void 0}}else this.demuxer=new re.a(n,o,r,s)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var i=this.observer;i&&(i.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,i,n,r,a,o,s){var l=this.w,u=isNaN(r.startDTS)?r.start:r.startDTS,c=r.decryptdata,d=this.frag,h=!(d&&r.cc===d.cc),p=!(d&&r.level===d.level),f=d&&r.sn===d.sn+1,y=!p&&f;if(h&&It.b.log(this.id+":discontinuity detected"),p&&It.b.log(this.id+":switch detected"),this.frag=r,l)l.postMessage({cmd:"demux",data:t,decryptdata:c,initSegment:e,audioCodec:i,videoCodec:n,timeOffset:u,discontinuity:h,trackSwitch:p,contiguous:y,duration:a,accurateTimeOffset:o,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var g=this.demuxer;g&&g.push(t,c,e,i,n,u,h,p,y,a,o,s)}},t.prototype.onWorkerMessage=function(t){var e=t.data,i=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case Ot.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}},t}(),de=ce,he={toString:function(t){for(var e="",i=t.length,n=0;n<i;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e}},pe=he,fe=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),ye={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},ge=function(t){function e(i){L(this,e);var n=P(this,t.call(this,i,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_PARSED,Ot.a.LEVEL_LOADED,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.FRAG_LOAD_EMERGENCY_ABORTED,Ot.a.FRAG_PARSING_INIT_SEGMENT,Ot.a.FRAG_PARSING_DATA,Ot.a.FRAG_PARSED,Ot.a.ERROR,Ot.a.AUDIO_TRACK_SWITCHING,Ot.a.AUDIO_TRACK_SWITCHED,Ot.a.BUFFER_CREATED,Ot.a.BUFFER_APPENDED,Ot.a.BUFFER_FLUSHED));return n.config=i.config,n.audioCodecSwap=!1,n.ticks=0,n._state=ye.STOPPED,n.ontick=n.tick.bind(n),n}return O(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Mt.prototype.destroy.call(this),this.state=ye.STOPPED},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=i.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(It.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=ye.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=ye.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ye.STOPPED,this.forceStartLoad=!1},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){switch(this.state){case ye.ERROR:break;case ye.BUFFER_FLUSHING:this.fragLoadError=0;break;case ye.IDLE:this._doTickIdle();break;case ye.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=ye.IDLE);break;case ye.FRAG_LOADING_WAITING_RETRY:var e=performance.now(),i=this.retryDate;(!i||e>=i||this.media&&this.media.seeking)&&(It.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=ye.IDLE);break;case ye.ERROR:case ye.STOPPED:case ye.FRAG_LOADING:case ye.PARSING:case ye.PARSED:case ye.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,i=this.media;if(void 0!==this.levelLastLoaded&&(i||!this.startFragRequested&&e.startFragPrefetch)){var n=void 0;n=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,a=this.levels[r];if(a){var o=a.bitrate,s=void 0;s=o?Math.max(8*e.maxBufferSize/o,e.maxBufferLength):e.maxBufferLength,s=Math.min(s,e.maxMaxBufferLength);var l=ne.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,n,e.maxBufferHole),u=l.len;if(!(u>=s)){It.b.trace("buffer length of "+u.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var c=a.details;if(void 0===c||c.live&&this.levelLastLoaded!==r)return void(this.state=ye.WAITING_LEVEL);var d=this.fragPrevious;if(!c.live&&d&&!d.backtracked&&d.sn===c.endSN&&!l.nextStart){if(Math.min(i.duration,d.start+d.duration)-Math.max(l.end,d.start)<=Math.max(.2,d.duration)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(Ot.a.BUFFER_EOS,h),void(this.state=ye.ENDED)}}this._fetchPayloadOrEos(n,l,c)}}}},e.prototype._fetchPayloadOrEos=function(t,e,i){var n=this.fragPrevious,r=this.level,a=i.fragments,o=a.length;if(0!==o){var s=a[0].start,l=a[o-1].start+a[o-1].duration,u=e.end,c=void 0;if(i.initSegment&&!i.initSegment.data)c=i.initSegment;else if(i.live){var d=this.config.initialLiveManifestSize;if(o<d)return void It.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+d);if(null===(c=this._ensureFragmentAtLivePoint(i,u,s,l,n,a,o)))return}else u<s&&(c=a[0]);c||(c=this._findFragment(s,n,o,a,u,l,i)),c&&this._loadFragmentOrKey(c,r,i,t,u)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,i,n,r,a,o){var s=this.hls.config,l=this.media,u=void 0,c=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(i-s.maxFragLookUpTolerance,n-c)){var d=this.liveSyncPosition=this.computeLivePosition(i,t);It.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),e=d,l&&l.readyState&&l.duration>d&&(l.currentTime=d),this.nextLoadPosition=d}if(t.PTSKnown&&e>n&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(r){var h=r.sn+1;if(h>=t.startSN&&h<=t.endSN){var p=a[h-t.startSN];r.cc===p.cc&&(u=p,It.b.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=ee.search(a,function(t){return r.cc-t.cc}))&&It.b.log("live playlist, switching playlist, load frag with same CC: "+u.sn)}u||(u=a[Math.min(o-1,Math.round(o/2))],It.b.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u},e.prototype._findFragment=function(t,e,i,n,r,a,o){var s=this.hls.config,l=void 0,u=void 0,c=s.maxFragLookUpTolerance,d=e?n[e.sn-n[0].sn+1]:void 0,h=function(t){var e=Math.min(c,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=r?1:t.start-e>r&&t.start?-1:0};if(r<a?(r>a-c&&(c=0),u=d&&!h(d)?d:ee.search(n,h)):u=n[i-1],u){l=u;var p=l.sn-o.startSN,f=e&&l.level===e.level,y=n[p-1],g=n[p+1];if(e&&l.sn===e.sn)if(f&&!l.backtracked)if(l.sn<o.endSN){var v=e.deltaPTS;v&&v>s.maxBufferHole&&e.dropped&&p?(l=y,It.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):(l=g,It.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(g&&g.backtracked?(It.b.warn("Already backtracked from fragment "+g.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+g.sn),l=g):(It.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,y?(y.loadCounter&&y.loadCounter--,l=y,l.backtracked=!0):p&&(l=null)))}return l},e.prototype._loadFragmentOrKey=function(t,e,i,n,r){var a=this.hls,o=a.config;if(!t.decryptdata||null==t.decryptdata.uri||null!=t.decryptdata.key){if(It.b.log("Loading "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+e+", currentTime:"+n.toFixed(3)+",bufferEnd:"+r.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var s=o.fragLoadingLoopThreshold;if(t.loadCounter>s&&Math.abs(this.fragLoadIdx-t.loadIdx)<s)return void a.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t})}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,t.autoLevel=a.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),a.trigger(Ot.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new de(a,"main")),void(this.state=ye.FRAG_LOADING)}It.b.log("Loading key for "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+e),this.state=ye.KEY_LOADING,a.trigger(Ot.a.KEY_LOADING,{frag:t})},e.prototype.getBufferedFrag=function(t){return ee.search(this._bufferedFrags,function(e){return t<e.startPTS?-1:t>e.endPTS?1:0})},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t,e,i=this.media;if(i&&i.readyState&&!1===i.seeking&&(e=i.currentTime,e>i.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),ne.isBuffered(i,e)?t=this.getBufferedFrag(e):ne.isBuffered(i,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var n=t;if(n!==this.fragPlaying){this.hls.trigger(Ot.a.FRAG_CHANGED,{frag:n});var r=n.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(Ot.a.LEVEL_SWITCHED,{level:r}),this.fragPlaying=n}}},e.prototype.immediateLevelSwitch=function(){if(It.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,ne.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e=void 0,i=void 0,n=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),i=this.getBufferedFrag(t.currentTime),i&&i.startPTS>1&&this.flushMainBuffer(0,i.startPTS-1),t.paused)e=0;else{var r=this.hls.nextLoadLevel,a=this.levels[r],o=this.fragLastKbps;e=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((n=this.getBufferedFrag(t.currentTime+e))&&(n=this.followingBufferedFrag(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=ye.BUFFER_FLUSHING;var i={startOffset:t,endOffset:e};this.altAudio&&(i.type="video"),this.hls.trigger(Ot.a.BUFFER_FLUSHING,i)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(It.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0,t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,i=this.config;isNaN(e)||It.b.log("media seeking to "+e.toFixed(3));var n=this.mediaBuffer?this.mediaBuffer:t,r=ne.bufferInfo(n,e,this.config.maxBufferHole);if(this.state===ye.FRAG_LOADING){var a=this.fragCurrent;if(0===r.len&&a){var o=i.maxFragLookUpTolerance,s=a.start-o,l=a.start+a.duration+o;e<s||e>l?(a.loader&&(It.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=ye.IDLE):It.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===ye.ENDED&&(0===r.len&&(this.fragPrevious=0),this.state=ye.IDLE);t&&(this.lastCurrentTime=e),this.state!==ye.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*i.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||It.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){It.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){It.b.log("trigger BUFFER_RESET"),this.hls.trigger(Ot.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e,i=!1,n=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(i=!0),-1!==e.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=i&&n,this.audioCodecSwitch&&It.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,i=t.level,n=this.levels[this.levelLastLoaded],r=this.levels[i],a=e.totalduration,o=0;if(It.b.log("level "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live){var s=r.details;s&&e.fragments.length>0?(E(s,e),o=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),e.PTSKnown&&!isNaN(o)?It.b.log("live playlist sliding:"+o.toFixed(3)):(It.b.log("live playlist - outdated PTS, unknown sliding"),S(this.fragPrevious,n,e))):(It.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,S(this.fragPrevious,n,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=i,this.hls.trigger(Ot.a.LEVEL_UPDATED,{details:e,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=e.startTimeOffset;isNaN(l)?e.live?(this.startPosition=this.computeLivePosition(o,e),It.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(It.b.log("negative start time offset "+l+", count from end of last fragment"),l=o+a+l),It.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===ye.WAITING_LEVEL&&(this.state=ye.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===ye.KEY_LOADING&&(this.state=ye.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===ye.FRAG_LOADING&&e&&"main"===i.type&&i.level===e.level&&i.sn===e.sn){var n=t.stats,r=this.levels[e.level],a=r.details;if(It.b.log("Loaded  "+e.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=n,!0===i.bitrateTest&&this.hls.nextLoadLevel)this.state=ye.IDLE,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=ye.IDLE,n.tparsed=n.tbuffered=performance.now(),a.initSegment.data=t.payload,this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.tick();else{this.state=ye.PARSING;var o=a.totalduration,s=e.level,l=e.sn,u=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(It.b.log("swapping playlist audio codec"),void 0===u&&(u=this.lastAudioCodec),u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,It.b.log("Parsing "+l+" of ["+a.startSN+" ,"+a.endSN+"],level "+s+", cc "+e.cc);var c=this.demuxer;c||(c=this.demuxer=new de(this.hls,"main"));var d=this.media,h=d&&d.seeking,p=!h&&(a.PTSKnown||!a.live),f=a.initSegment?a.initSegment.data:[];c.push(t.payload,f,u,r.videoCodec,e,o,p,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===ye.PARSING){var n,r,a=t.tracks;if(a.audio&&this.altAudio&&delete a.audio,r=a.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(It.b.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&(o="mp4a.40.2",It.b.log("Android: force audio codec to "+o)),r.levelCodec=o,r.id=t.id}r=a.video,r&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(Ot.a.BUFFER_CODECS,a);for(n in a){r=a[n],It.b.log("main track:"+n+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var l=r.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Ot.a.BUFFER_APPENDING,{type:n,data:l,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,i=this.fragCurrent,n=t.frag;if(i&&"main"===t.id&&n.sn===i.sn&&n.level===i.level&&("audio"!==t.type||!this.altAudio)&&this.state===ye.PARSING){var r=this.levels[this.level],a=i;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),It.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(a.dropped=t.dropped,a.dropped)if(a.backtracked)It.b.warn("Already backtracked on this fragment, appending with the gap");else{var o=r.details;if(!o||a.sn!==o.startSN)return It.b.warn("missing video frame(s), backtracking fragment"),a.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=ye.IDLE,this.fragPrevious=a,void this.tick();It.b.warn("missing video frame(s) on first frag, appending with gap")}else a.backtracked=!1;var s=_(r.details,a,t.startPTS,t.endPTS,t.startDTS,t.endDTS),l=this.hls;l.trigger(Ot.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(i){i&&i.length&&e.state===ye.PARSING&&(e.appended=!0,e.pendingBuffering=!0,l.trigger(Ot.a.BUFFER_APPENDING,{type:t.type,data:i,parent:"main",content:"data"}))}),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===ye.PARSING&&(this.stats.tparsed=performance.now(),this.state=ye.PARSED,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,i=t.id;if(!e){if(this.mediaBuffer!==this.media){It.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(It.b.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=ye.IDLE}var r=this.hls;r.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,i=!!this.hls.audioTracks[e].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(It.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,i=void 0,n=void 0,r=!1;for(var a in e){var o=e[a];"main"===o.id?(n=a,i=o,"video"===a&&(this.videoBuffer=e[a].buffer)):r=!0}r&&i?(It.b.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==ye.PARSING&&e!==ye.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==ye.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;It.b.log("main buffered : "+pe.toString(e.buffered));var i=this._bufferedFrags.filter(function(t){return ne.isBuffered(e,(t.startPTS+t.endPTS)/2)});i.push(t),this._bufferedFrags=i.sort(function(t,e){return t.startPTS-e.startPTS}),this.fragPrevious=t;var n=this.stats;n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=ye.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var i=!!this.media&&ne.isBuffered(this.media,this.media.currentTime)&&ne.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case Rt.a.FRAG_LOAD_ERROR:case Rt.a.FRAG_LOAD_TIMEOUT:case Rt.a.KEY_LOAD_ERROR:case Rt.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);e.loadCounter=0,It.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=ye.FRAG_LOADING_WAITING_RETRY}else It.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=ye.ERROR;break;case Rt.a.FRAG_LOOP_LOADING_ERROR:t.fatal||(i?(this._reduceMaxBufferLength(e.duration),this.state=ye.IDLE):e.autoLevel&&0!==e.level||(t.fatal=!0,this.state=ye.ERROR));break;case Rt.a.LEVEL_LOAD_ERROR:case Rt.a.LEVEL_LOAD_TIMEOUT:this.state!==ye.ERROR&&(t.fatal?(this.state=ye.ERROR,It.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==ye.WAITING_LEVEL||(this.state=ye.IDLE));break;case Rt.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==ye.PARSING&&this.state!==ye.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=ye.IDLE):(It.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,It.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*e.fragLoadingLoopThreshold))},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var i=t.currentTime,n=this.mediaBuffer?this.mediaBuffer:t,r=n.buffered;if(!this.loadedmetadata&&r.length){this.loadedmetadata=!0;var a=t.seeking?i:this.startPosition,o=ne.isBuffered(n,a),s=r.start(0),l=!o&&Math.abs(a-s)<e.maxSeekHole;(i!==a||l)&&(It.b.log("target start position:"+a),l&&(a=s,It.b.log("target start position not buffered, seek to buffered.start(0) "+a)),It.b.log("adjust currentTime from "+i+" to "+a),t.currentTime=a)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var u=ne.bufferInfo(t,i,0),c=!(t.paused||t.ended||0===t.buffered.length),d=i!==this.lastCurrentTime;if(d)this.stallReported&&(It.b.warn("playback not stuck anymore @"+i+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(c){var h=performance.now(),p=this.hls;if(this.stalled){var f=h-this.stalled,y=u.len,g=this.nudgeRetry||0;if(y<=.5&&f>1e3*e.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,It.b.warn("playback stalling in low buffer @"+i),p.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:y}));var v=u.nextStart,m=v-i;if(v&&m<e.maxSeekHole&&m>0){this.nudgeRetry=++g;var b=g*e.nudgeOffset;It.b.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+v+" + nudge "+b),t.currentTime=v+b,this.stalled=void 0,p.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:v+b-i})}}else if(y>.5&&f>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,It.b.warn("playback stalling in high buffer @"+i),p.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:y})),this.stalled=void 0,this.nudgeRetry=++g,g<e.nudgeMaxRetry){var _=t.currentTime,E=_+g*e.nudgeOffset;It.b.log("adjust currentTime from "+_+" to "+E),t.currentTime=E,p.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else It.b.error("still stuck in high buffer @"+i+" after "+e.nudgeMaxRetry+", raise fatal error"),p.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=h,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=ye.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(e){return ne.isBuffered(t,(e.startPTS+e.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=ye.IDLE,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-i)},fe(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,It.b.log("main stream:"+e+"->"+t),this.hls.trigger(Ot.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(Mt),ve=ge,me=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),be=function(t){function e(i){R(this,e);var n=I(this,t.call(this,i,Ot.a.MANIFEST_LOADED,Ot.a.LEVEL_LOADED,Ot.a.FRAG_LOADED,Ot.a.ERROR));return n._manualLevel=-1,n.timer=null,n}return x(e,t),e.prototype.destroy=function(){this.cleanTimer(),this._manualLevel=-1},e.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),this.timer&&this.tick()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],i=void 0,n={},r=null,a=!1,s=!1,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),u=[];if(t.levels.forEach(function(t){t.loadError=0,t.fragmentError=!1,a=a||!!t.videoCodec,s=s||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===l&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),r=n[t.bitrate],void 0===r?(t.url=[t.url],t.urlId=0,n[t.bitrate]=t,e.push(t)):r.url.push(t.url)}),!0===a&&!0===s&&(e=e.filter(function(t){return!!t.videoCodec})),e=e.filter(function(t){var e=t.audioCodec,i=t.videoCodec;return(!e||o(e))&&(!i||o(i))}),t.audioTracks&&(u=t.audioTracks.filter(function(t){return!t.audioCodec||o(t.audioCodec,"audio")})),e.length){i=e[0].bitrate,e.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=e;for(var c=0;c<e.length;c++)if(e[c].bitrate===i){this._firstLevel=c,It.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+i);break}this.hls.trigger(Ot.a.MANIFEST_PARSED,{levels:e,audioTracks:u,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:a,altAudio:u.length>0})}else this.hls.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,i=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this._level!==t){It.b.log("switching to level "+t),this._level=t;var n=e[t];n.level=t,i.trigger(Ot.a.LEVEL_SWITCH,n),i.trigger(Ot.a.LEVEL_SWITCHING,n)}var r=e[t],a=r.details;if(!a||!0===a.live){var o=r.urlId;i.trigger(Ot.a.LEVEL_LOADING,{url:r.url[o],level:t,id:o})}}else i.trigger(Ot.a.ERROR,{type:Rt.b.OTHER_ERROR,details:Rt.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){var e=this;if(!0===t.fatal)return void(t.type===Rt.b.NETWORK_ERROR&&this.cleanTimer());var i=t.details,n=!1,r=!1,a=void 0,o=void 0,s=this.hls.config;switch(i){case Rt.a.FRAG_LOAD_ERROR:case Rt.a.FRAG_LOAD_TIMEOUT:case Rt.a.FRAG_LOOP_LOADING_ERROR:case Rt.a.KEY_LOAD_ERROR:case Rt.a.KEY_LOAD_TIMEOUT:a=t.frag.level,r=!0;break;case Rt.a.LEVEL_LOAD_ERROR:case Rt.a.LEVEL_LOAD_TIMEOUT:a=t.context.level,n=!0;break;case Rt.a.REMUX_ALLOC_ERROR:a=t.level}if(void 0!==a)if(o=this._levels[a],o.loadError++,o.fragmentError=r,!0===r){var l=o.url.length;l>1&&o.loadError<l?(o.urlId=(o.urlId+1)%l,o.details=void 0,It.b.warn("level controller,"+i+" for level "+a+": switching to redundant stream id "+o.urlId)):-1===this._manualLevel&&0!==a?(It.b.warn("level controller,"+i+": switch-down for next fragment"),this.hls.nextAutoLevel=a-1):(It.b.warn("level controller, "+i+": reload a fragment"),this._level=void 0)}else if(!0===n)if(this.levelRetryCount+1<=s.levelLoadingMaxRetry){var u=Math.min(Math.pow(2,this.levelRetryCount)*s.levelLoadingRetryDelay,s.levelLoadingMaxRetryTimeout);this.timer=setTimeout(function(){return e.tick()},u),t.levelRetry=!0,this.levelRetryCount++,It.b.warn("level controller,"+i+", retry in "+u+" ms, current retry count is "+this.levelRetryCount)}else It.b.error("cannot recover "+i+" error"),this._level=void 0,this.cleanTimer(),t.fatal=!0},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var i=this._levels[e.level];void 0!==i&&(i.fragmentError=!1,i.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,i=t.level;if(i===this._level){var n=this._levels[i];!1===n.fragmentError&&(n.loadError=0,this.levelRetryCount=0);var r=t.details;if(r.live){var a=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),o=n.details;o&&r.endSN===o.endSN&&(a/=2,It.b.log("same live playlist, reload twice faster")),a-=performance.now()-t.stats.trequest,a=Math.max(1e3,Math.round(a)),It.b.log("live playlist, reload in "+a+" ms"),this.timer=setTimeout(function(){return e.tick()},a)}else this.cleanTimer()}},e.prototype.tick=function(){var t=this._level;if(void 0!==t&&this.canload){var e=this._levels[t];if(e&&e.url){var i=e.urlId;this.hls.trigger(Ot.a.LEVEL_LOADING,{url:e.url[i],level:t,id:i})}}},me(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this._level===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(t){this._manualLevel=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this._manualLevel&&(this.hls.nextAutoLevel=t)}}]),e}(Mt),_e=be,Ee=i(3),Ae=function(t){function e(i){D(this,e);var n=M(this,t.call(this,i,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.FRAG_PARSING_METADATA));return n.id3Track=void 0,n.media=void 0,n}return N(e,t),e.prototype.destroy=function(){Mt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){this.media=void 0},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,i=t.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<i.length;r++){var a=Ee.a.getID3Frames(i[r].data);if(a){var o=i[r].pts,s=r<i.length-1?i[r+1].pts:e.endPTS;o===s&&(s+=1e-4);for(var l=0;l<a.length;l++){var u=a[l];if(!Ee.a.isTimeStampFrame(u)){var c=new n(o,s,"");c.value=u,this.id3Track.addCue(c)}}}}},e}(Mt),ke=Ae,Te=function(){function t(e){B(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var i=Math.pow(this.alpha_,t);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),we=Te,Ce=function(){function t(e,i,n,r){F(this,t),this.hls=e,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new we(i),this.fast_=new we(n)}return t.prototype.sample=function(t,e){t=Math.max(t,this.minDelayMs_);var i=8e3*e/t,n=t/1e3;this.fast_.sample(n,i),this.slow_.sample(n,i)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}(),Se=Ce,Le=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Pe=function(t){function e(i){U(this,e);var n=j(this,t.call(this,i,Ot.a.FRAG_LOADING,Ot.a.FRAG_LOADED,Ot.a.FRAG_BUFFERED,Ot.a.ERROR));return n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=i,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(n),n}return G(e,t),e.prototype.destroy=function(){this.clearTimer(),Mt.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var i=this.hls,n=t.frag.level,r=i.levels[n].details.live,a=i.config,o=void 0,s=void 0;r?(o=a.abrEwmaFastLive,s=a.abrEwmaSlowLive):(o=a.abrEwmaFastVoD,s=a.abrEwmaSlowVoD),this._bwEstimator=new Se(i,s,o,a.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,i=this.fragCurrent,n=i.loader,r=t.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return It.b.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var a=n.stats;if(e&&a&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&i.autoLevel&&i.level){var o=performance.now()-a.trequest,s=Math.abs(e.playbackRate);if(o>500*i.duration/s){var l=t.levels,u=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),c=l[i.level],d=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,h=a.total?a.total:Math.max(a.loaded,Math.round(i.duration*d/8)),p=e.currentTime,f=(h-a.loaded)/u,y=(ne.bufferInfo(e,p,t.config.maxBufferHole).end-p)/s;if(y<2*i.duration/s&&f>y){var g=void 0,v=void 0;for(v=i.level-1;v>r;v--){var m=l[v].realBitrate?Math.max(l[v].realBitrate,l[v].bitrate):l[v].bitrate;if((g=i.duration*m/(6.4*u))<y)break}g<f&&(It.b.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+g.toFixed(1)+"<"+f.toFixed(1)+":"+y.toFixed(1)),t.nextLoadLevel=v,this._bwEstimator.sample(o,a.loaded),n.abort(),this.clearTimer(),t.trigger(Ot.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:a}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[e.level],n=(i.loaded?i.loaded.bytes:0)+t.stats.loaded,r=(i.loaded?i.loaded.duration:0)+t.frag.duration;i.loaded={bytes:n,duration:r},i.realBitrate=Math.round(8*n/r)}if(t.frag.bitrateTest){var a=t.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,i=t.frag;if(!(!0===e.aborted||1!==i.loadCounter||"main"!==i.type||isNaN(i.sn)||i.bitrateTest&&e.tload!==e.tbuffered)){var n=e.tparsed-e.trequest;It.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(n,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case Rt.a.FRAG_LOAD_ERROR:case Rt.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,i,n,r,a,o,s,l){for(var u=r;u>=n;u--){var c=l[u],d=c.details,h=d?d.totalduration/d.fragments.length:e,p=!!d&&d.live,f=void 0;f=u<=t?o*i:s*i;var y=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,g=y*h/f;if(It.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(f)+"/"+y+"/"+h+"/"+a+"/"+g),f>y&&(!g||p&&!this.bitrateTestDelay||g<a))return u}return-1},Le(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var i=this._nextABRAutoLevel;return-1!==t&&(i=Math.min(t,i)),i},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,i=t.levels,n=t.config,r=t.minAutoLevel,a=t.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,u=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(ne.bufferInfo(a,l,n.maxBufferHole).end-l)/u,h=this._findBestLevel(o,s,c,r,e,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,i);if(h>=0)return h;It.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,n.maxStarvationDelay):n.maxStarvationDelay,f=n.abrBandWidthFactor,y=n.abrBandWidthUpFactor;if(0===d){var g=this.bitrateTestDelay;if(g){p=(s?Math.min(s,n.maxLoadingDelay):n.maxLoadingDelay)-g,It.b.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),f=y=1}}return h=this._findBestLevel(o,s,c,r,e,d+p,f,y,i),Math.max(h,0)}}]),e}(Mt),Oe=Pe,Re=v(),Ie=function(t){function e(i){V(this,e);var n=H(this,t.call(this,i,Ot.a.MEDIA_ATTACHING,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_PARSED,Ot.a.BUFFER_RESET,Ot.a.BUFFER_APPENDING,Ot.a.BUFFER_CODECS,Ot.a.BUFFER_EOS,Ot.a.BUFFER_FLUSHING,Ot.a.LEVEL_PTS_UPDATED,Ot.a.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return Y(e,t),e.prototype.destroy=function(){Mt.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,i=this.tracks.audio;if("audio"===e&&i&&"audio/mpeg"===i.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-t.start)>.1){var r=n.updating;try{n.abort()}catch(t){r=!0,It.b.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(It.b.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,i=t.video||t.levels.length&&t.audio,n=0;t.altAudio&&(e||i)&&(n=(e?1:0)+(i?1:0),It.b.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var i=this.mediaSource=new Re;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(i)}},e.prototype.onMediaDetaching=function(){It.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){It.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(Ot.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){It.b.log("media source opened"),this.hls.trigger(Ot.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){It.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){It.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;It.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,i=this.segments.reduce(function(t,i){return i.parent===e?t+1:t},0);this.hls.trigger(Ot.a.BUFFER_APPENDED,{parent:e,pending:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){It.b.error("sourceBuffer error:",t),this.hls.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var i=t[e];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var i=this.mediaSource;i&&"open"===i.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,i=this.mediaSource;for(var n in t)if(!e[n]){var r=t[n],a=r.levelCodec||r.codec,o=r.container+";codecs="+a;It.b.log("creating sourceBuffer("+o+")");try{var s=e[n]=i.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[n]={codec:a,container:r.container},r.buffer=s}catch(t){It.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:o})}}this.hls.trigger(Ot.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){It.b.error("sourceBuffer error:",t.event),this.hls.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,i=t.type;for(var n in e)i&&n!==i||e[n].ended||(e[n].ended=!0,It.b.log(n+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(!e||"open"!==e.readyState)return void(this._needsEos=!1);for(var i in t){var n=t[i];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}It.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){It.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;0!==e.fragments.length&&(this._levelDuration=e.totalduration+e.fragments[0].start,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t=this.media,e=this.mediaSource,i=this.sourceBuffer,n=this._levelDuration;if(null!==n&&t&&e&&i&&0!==t.readyState&&"open"===e.readyState){for(var r in i)if(i[r].updating)return;null===this._msDuration&&(this._msDuration=e.duration);var a=t.duration;(n>this._msDuration&&n>a||a===1/0||isNaN(a))&&(It.b.log("Updating mediasource duration to "+n.toFixed(3)),this._msDuration=e.duration=n)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,i=this.sourceBuffer;try{for(var n in i)e+=i[n].buffered.length}catch(t){It.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(Ot.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,i=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void It.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(i&&i.length){var n=i.shift();try{var r=n.type,a=e[r];a?a.updating?i.unshift(n):(a.ended=!1,this.parent=n.parent,a.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){It.b.error("error while trying to append buffer:"+e.message),i.unshift(n);var o={type:Rt.b.MEDIA_ERROR,parent:n.parent};if(22===e.code)return this.segments=[],o.details=Rt.a.BUFFER_FULL_ERROR,o.fatal=!1,void t.trigger(Ot.a.ERROR,o);if(this.appendError?this.appendError++:this.appendError=1,o.details=Rt.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry)return It.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],o.fatal=!0,void t.trigger(Ot.a.ERROR,o);o.fatal=!1,t.trigger(Ot.a.ERROR,o)}}}},e.prototype.flushBuffer=function(t,e,i){var n,r,a,o,s,l,u=this.sourceBuffer;if(Object.keys(u).length){if(It.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var c in u)if(!i||c===i){if(n=u[c],n.ended=!1,n.updating)return It.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<n.buffered.length;r++)if(a=n.buffered.start(r),o=n.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(s=t,l=e):(s=Math.max(a,t),l=Math.min(o,e)),Math.min(l,o)-s>.5)return this.flushBufferCounter++,It.b.log("flush "+c+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+this.media.currentTime),n.remove(s,l),!1}catch(t){It.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else It.b.warn("abort flushing too many retries");It.b.log("buffer flushed")}return!0},e}(Mt),xe=Ie,De=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Me=function(t){function e(i){return K(this,e),$(this,t.call(this,i,Ot.a.FPS_DROP_LEVEL_CAPPING,Ot.a.MEDIA_ATTACHING,Ot.a.MANIFEST_PARSED))}return z(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var i=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,r){return e.isLevelAllowed(r,i.restrictedLevels)&&r<=t});return e.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,i){if(!t||t&&!t.length)return-1;for(var n=t.length-1,r=0;r<t.length;r+=1){var a=t[r];if((a.width>=e||a.height>=i)&&function(t,e){return!e||(t.width!==e.width||t.height!==e.height)}(a,t[r+1])){n=r;break}}return n},De(e,[{key:"mediaWidth",get:function(){var t=void 0,i=this.media;return i&&(t=i.width||i.clientWidth||i.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,i=this.media;return i&&(t=i.height||i.clientHeight||i.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(Mt),Ne=Me,Be=function(t){function e(i){return W(this,e),q(this,t.call(this,i,Ot.a.MEDIA_ATTACHING))}return X(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;if(e.capLevelOnFPSDrop){"function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},e.prototype.checkFPS=function(t,e,i){var n=performance.now();if(e){if(this.lastTime){var r=n-this.lastTime,a=i-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*a/r,l=this.hls;if(l.trigger(Ot.a.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:i}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var u=l.currentLevel;It.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=u)&&(u-=1,l.trigger(Ot.a.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,l.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(Mt),Fe=Be,Ue=function(){function t(e){Z(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,i){this.context=t,this.config=e,this.callbacks=i,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t,e=this.context;t=this.loader=new XMLHttpRequest;var i=this.stats;i.tfirst=0,i.loaded=0;var n=this.xhrSetup;try{if(n)try{n(t,e.url)}catch(i){t.open("GET",e.url,!0),n(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(i){return void this.callbacks.onError({code:t.status,text:i.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,i=e.readyState,n=this.stats,r=this.context,a=this.config;if(!n.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest)),4===i){var o=e.status;if(o>=200&&o<300){n.tload=Math.max(n.tfirst,performance.now());var s=void 0,l=void 0;"arraybuffer"===r.responseType?(s=e.response,l=s.byteLength):(s=e.responseText,l=s.length),n.loaded=n.total=l;var u={url:e.responseURL,data:s};this.callbacks.onSuccess(u,n,r,e)}else n.retry>=a.maxRetry||o>=400&&o<499?(It.b.error(o+" while loading "+r.url),this.callbacks.onError({code:o,text:e.statusText},r,e)):(It.b.warn(o+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},t.prototype.loadtimeout=function(){It.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,i=this.stats;i.loaded=t.loaded,t.lengthComputable&&(i.total=t.total);var n=this.callbacks.onProgress;n&&n(i,this.context,null,e)},t}(),je=Ue,Ge=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ve=function(t){function e(i){Q(this,e);var n=J(this,t.call(this,i,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_PARSED,Ot.a.AUDIO_TRACK_LOADED,Ot.a.ERROR));return n.ticks=0,n.ontick=n.tick.bind(n),n}return tt(e,t),e.prototype.destroy=function(){this.cleanTimer(),Mt.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===Rt.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestParsed=function(t){var e=this,i=t.audioTracks||[],n=!1;this.tracks=i,this.hls.trigger(Ot.a.AUDIO_TRACKS_UPDATED,{audioTracks:i});var r=0;i.forEach(function(t){if(t.default&&!n)return e.audioTrack=r,void(n=!0);r++}),!1===n&&i.length&&(It.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(It.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,It.b.log("switching to audioTrack "+t);var e=this.tracks[t],i=this.hls,n=e.type,r=e.url,a={id:t,type:n,url:r};i.trigger(Ot.a.AUDIO_TRACK_SWITCH,a),i.trigger(Ot.a.AUDIO_TRACK_SWITCHING,a);var o=e.details;!r||void 0!==o&&!0!==o.live||(It.b.log("(re)loading playlist for audioTrack "+t),i.trigger(Ot.a.AUDIO_TRACK_LOADING,{url:r,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,It.b.log("updating audioTrack "+t);var e=this.tracks[t],i=e.url,n=e.details;!i||void 0!==n&&!0!==n.live||(It.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(Ot.a.AUDIO_TRACK_LOADING,{url:i,id:t}))}},Ge(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(Mt),He=Ve,Ye=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ke={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},$e=function(t){function e(i){et(this,e);var n=it(this,t.call(this,i,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.AUDIO_TRACKS_UPDATED,Ot.a.AUDIO_TRACK_SWITCHING,Ot.a.AUDIO_TRACK_LOADED,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.FRAG_PARSING_INIT_SEGMENT,Ot.a.FRAG_PARSING_DATA,Ot.a.FRAG_PARSED,Ot.a.ERROR,Ot.a.BUFFER_CREATED,Ot.a.BUFFER_APPENDED,Ot.a.BUFFER_FLUSHED,Ot.a.INIT_PTS_FOUND));return n.config=i.config,n.audioCodecSwap=!1,n.ticks=0,n._state=Ke.STOPPED,n.ontick=n.tick.bind(n),n.initPTS=[],n.waitingFragment=null,n.videoTrackCC=null,n}return nt(e,t),e.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Mt.prototype.destroy.call(this),this.state=Ke.STOPPED},e.prototype.onInitPtsFound=function(t){var e=t.id,i=t.frag.cc,n=t.initPTS;"main"===e&&(this.initPTS[i]=n,this.videoTrackCC=i,It.b.log("InitPTS for cc:"+i+" found from video track:"+n),this.state===Ke.WAITING_INIT_PTS&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,e>0&&-1===t?(It.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=Ke.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=Ke.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=Ke.STOPPED},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Ke.STOPPED},e.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){var t,e,i,n=this.hls,r=n.config;switch(this.state){case Ke.ERROR:case Ke.PAUSED:case Ke.BUFFER_FLUSHING:break;case Ke.STARTING:this.state=Ke.WAITING_TRACK,this.loadedmetadata=!1;break;case Ke.IDLE:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,l=ne.bufferInfo(o,t,r.maxBufferHole),u=ne.bufferInfo(s,t,r.maxBufferHole),c=l.len,d=l.end,h=this.fragPrevious,p=Math.max(r.maxBufferLength,u.len),f=this.audioSwitch,y=this.trackId;if((c<p||f)&&y<a.length){if(void 0===(i=a[y].details)){this.state=Ke.WAITING_TRACK;break}if(!f&&!i.live&&h&&h.sn===i.endSN&&(!this.media.seeking||this.media.duration-d<h.duration/2)){this.hls.trigger(Ot.a.BUFFER_EOS,{type:"audio"}),this.state=Ke.ENDED;break}var g=i.fragments,v=g.length,m=g[0].start,b=g[v-1].start+g[v-1].duration,_=void 0;if(f)if(i.live&&!i.PTSKnown)It.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),d=0;else if(d=t,i.PTSKnown&&t<m){if(!(l.end>m||l.nextStart))return;It.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=m+.05}if(i.initSegment&&!i.initSegment.data)_=i.initSegment;else if(d<=m){if(_=g[0],null!==this.videoTrackCC&&_.cc!==this.videoTrackCC&&(_=k(g,this.videoTrackCC)),i.live&&_.loadIdx&&_.loadIdx===this.fragLoadIdx){var E=l.nextStart?l.nextStart:m;return It.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(E+.05)),void(this.media.currentTime=E+.05)}}else{var A=void 0,T=r.maxFragLookUpTolerance,w=h?g[h.sn-g[0].sn+1]:void 0,C=function(t){var e=Math.min(T,t.duration);return t.start+t.duration-e<=d?1:t.start-e>d&&t.start?-1:0};d<b?(d>b-T&&(T=0),A=w&&!C(w)?w:ee.search(g,C)):A=g[v-1],A&&(_=A,m=A.start,h&&_.level===h.level&&_.sn===h.sn&&(_.sn<i.endSN?(_=g[_.sn+1-i.startSN],It.b.log("SN just loaded, load next one: "+_.sn)):_=null))}if(_)if(_.decryptdata&&null!=_.decryptdata.uri&&null==_.decryptdata.key)It.b.log("Loading key for "+_.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+y),this.state=Ke.KEY_LOADING,n.trigger(Ot.a.KEY_LOADING,{frag:_});else{if(It.b.log("Loading "+_.sn+", cc: "+_.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+y+", currentTime:"+t+",bufferEnd:"+d.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,_.loadCounter){_.loadCounter++;var S=r.fragLoadingLoopThreshold;if(_.loadCounter>S&&Math.abs(this.fragLoadIdx-_.loadIdx)<S)return void n.trigger(Ot.a.ERROR,{type:Rt.b.MEDIA_ERROR,details:Rt.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:_})}else _.loadCounter=1;_.loadIdx=this.fragLoadIdx,this.fragCurrent=_,this.startFragRequested=!0,isNaN(_.sn)||(this.nextLoadPosition=_.start+_.duration),n.trigger(Ot.a.FRAG_LOADING,{frag:_}),this.state=Ke.FRAG_LOADING}}break;case Ke.WAITING_TRACK:e=this.tracks[this.trackId],e&&e.details&&(this.state=Ke.IDLE);break;case Ke.FRAG_LOADING_WAITING_RETRY:var L=performance.now(),P=this.retryDate;o=this.media;var O=o&&o.seeking;(!P||L>=P||O)&&(It.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Ke.IDLE);break;case Ke.WAITING_INIT_PTS:var R=this.videoTrackCC;if(void 0===this.initPTS[R])break;var I=this.waitingFragment;if(I){var x=I.frag.cc;R!==x?(e=this.tracks[this.trackId],e.details&&e.details.live&&(It.b.warn("Waiting fragment CC ("+x+") does not match video track CC ("+R+")"),this.waitingFragment=null,this.state=Ke.IDLE)):(this.state=Ke.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Ke.IDLE;break;case Ke.STOPPED:case Ke.FRAG_LOADING:case Ke.PARSING:case Ke.PARSED:case Ke.ENDED:}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(It.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===Ke.ENDED&&(this.state=Ke.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){It.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=Ke.PAUSED,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=Ke.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,i=t.id,n=this.tracks[i],r=e.totalduration,a=0;if(It.b.log("track "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+r),e.live){var o=n.details;o&&e.fragments.length>0?(E(o,e),a=e.fragments[0].start,e.PTSKnown?It.b.log("live audio playlist sliding:"+a.toFixed(3)):It.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,It.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(n.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;isNaN(s)?this.startPosition=0:(It.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===Ke.WAITING_TRACK&&(this.state=Ke.IDLE),this.tick()},e.prototype.onKeyLoaded=function(){this.state===Ke.KEY_LOADING&&(this.state=Ke.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===Ke.FRAG_LOADING&&e&&"audio"===i.type&&i.level===e.level&&i.sn===e.sn){var n=this.tracks[this.trackId],r=n.details,a=r.totalduration,o=e.level,s=e.sn,l=e.cc,u=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",c=this.stats=t.stats;if("initSegment"===s)this.state=Ke.IDLE,c.tparsed=c.tbuffered=performance.now(),r.initSegment.data=t.payload,this.hls.trigger(Ot.a.FRAG_BUFFERED,{stats:c,frag:e,id:"audio"}),this.tick();else{this.state=Ke.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new de(this.hls,"audio"));var d=this.initPTS[l],h=r.initSegment?r.initSegment.data:[];if(r.initSegment||void 0!==d){this.pendingBuffering=!0,It.b.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o);this.demuxer.push(t.payload,h,u,null,e,a,!1,d)}else It.b.log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.waitingFragment=t,this.state=Ke.WAITING_INIT_PTS}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Ke.PARSING){var n=t.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(Ot.a.BUFFER_CODECS,n),It.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var a=r.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Ot.a.BUFFER_APPENDING,o))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,i=this.fragCurrent,n=t.frag;if(i&&"audio"===t.id&&"audio"===t.type&&n.sn===i.sn&&n.level===i.level&&this.state===Ke.PARSING){var r=this.trackId,a=this.tracks[r],o=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),It.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),_(a.details,i,t.startPTS,t.endPTS);var s=this.audioSwitch,l=this.media,u=!1;if(s&&l)if(l.readyState){var c=l.currentTime;It.b.log("switching audio track : currentTime:"+c),c>=t.startPTS&&(It.b.log("switching audio track : flushing all audio"),this.state=Ke.BUFFER_FLUSHING,o.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),u=!0,this.audioSwitch=!1,o.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,o.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:r});var d=this.pendingData;this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&d.push({type:t.type,data:e,parent:"audio",content:"data"})}),!u&&d.length&&(d.forEach(function(t){e.state===Ke.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(Ot.a.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===Ke.PARSING&&(this.stats.tparsed=performance.now(),this.state=Ke.PARSED,this._checkAppendedParsed())},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==Ke.PARSING&&e!==Ke.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==Ke.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,i=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),i.trigger(Ot.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;It.b.log("audio buffered : "+pe.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(Ot.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Ke.IDLE}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case Rt.a.FRAG_LOAD_ERROR:case Rt.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var n=this.config;if(i<=n.fragLoadingMaxRetry){this.fragLoadError=i,e.loadCounter=0;var r=Math.min(Math.pow(2,i-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);It.b.warn("audioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=performance.now()+r,this.state=Ke.FRAG_LOADING_WAITING_RETRY}else It.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=Ke.ERROR}break;case Rt.a.FRAG_LOOP_LOADING_ERROR:case Rt.a.AUDIO_TRACK_LOAD_ERROR:case Rt.a.AUDIO_TRACK_LOAD_TIMEOUT:case Rt.a.KEY_LOAD_ERROR:case Rt.a.KEY_LOAD_TIMEOUT:this.state!==Ke.ERROR&&(this.state=t.fatal?Ke.ERROR:Ke.IDLE,It.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case Rt.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===Ke.PARSING||this.state===Ke.PARSED)){var a=this.mediaBuffer,o=this.media.currentTime;if(a&&ne.isBuffered(a,o)&&ne.isBuffered(a,o+.5)){var s=this.config;s.maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,It.b.warn("audio:reduce max buffer length to "+s.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*s.fragLoadingLoopThreshold),this.state=Ke.IDLE}else It.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Ke.BUFFER_FLUSHING,this.hls.trigger(Ot.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(It.b.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(Ot.a.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=Ke.PARSED):(this.state=Ke.IDLE,this.fragPrevious=null,this.tick())},Ye(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,It.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(Mt),ze=$e,We=function(){function t(t){return"string"==typeof t&&(!!a[t.toLowerCase()]&&t.toLowerCase())}function e(t){return"string"==typeof t&&(!!o[t.toLowerCase()]&&t.toLowerCase())}function i(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function n(n,a,o){var s=this,l=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,h=n,p=a,f=o,y=null,g="",v=!0,m="auto",b="start",_=50,E="middle",A=50,k="middle";if(Object.defineProperty(s,"id",i({},u,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return p},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return y},set:function(t){y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return g},set:function(e){var i=t(e);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");g=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==r)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return b},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");b=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return E},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");E=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return A},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return k},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");k=i,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var r="auto",a={"":!0,lr:!0,rl:!0},o={start:!0,middle:!0,end:!0,left:!0,right:!0};return n.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},n}(),qe=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};ot.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Xe=new We(0,0,0),Ze="middle"===Xe.align?"middle":"center";rt.prototype={parse:function(t){function e(){var t=i.buffer,e=0;for(t=ut(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,i.buffer=t.substr(e),n}var i=this;t&&(i.buffer+=i.decoder.decode(t,{stream:!0}));try{var n;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;n=e();var r=n.match(/^()?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var a=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(a?a=!1:n=e(),i.state){case"HEADER":/:/.test(n)?function(t){st(t,function(t,e){switch(t){case"Region":console.log("parse region",e)}},/:/)}(n):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new We(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{lt(n,i.cue,i.regionList)}catch(t){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var o=-1!==n.indexOf("--\x3e");if(!n||o&&(a=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(t){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return t.onflush&&t.onflush(),this}};var Qe=rt,Je={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},ti=function(t){var e=t;return Je.hasOwnProperty(t)&&(e=Je[t]),String.fromCharCode(e)},ei=15,ii=100,ni={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},ri={17:2,18:4,21:6,22:8,23:10,19:13,20:15},ai={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},oi={25:2,26:4,29:6,30:8,31:10,27:13,28:15},si=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],li={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var i=this.verboseFilter[t];this.verboseLevel>=i&&console.log(this.time+" ["+t+"] "+e)}},ui=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].toString(16));return e},ci=function(){function t(e,i,n,r,a){dt(this,t),this.foreground=e||"white",this.underline=i||!1,this.italics=n||!1,this.background=r||"black",this.flash=a||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],i=0;i<e.length;i++){var n=e[i];t.hasOwnProperty(n)&&(this[n]=t[n])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),di=function(){function t(e,i,n,r,a,o){dt(this,t),this.uchar=e||" ",this.penState=new ci(i,n,r,a,o)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),hi=function(){function t(){dt(this,t),this.chars=[];for(var e=0;e<ii;e++)this.chars.push(new di);this.pos=0,this.currPenState=new ci}return t.prototype.equals=function(t){for(var e=!0,i=0;i<ii;i++)if(!this.chars[i].equals(t.chars[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<ii;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<ii;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(li.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>ii&&(li.log("ERROR","Too large cursor position "+this.pos),this.pos=ii)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=ti(t);if(this.pos>=ii)return void li.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1)},t.prototype.clearFromPos=function(t){var e;for(e=t;e<ii;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,i=0;i<ii;i++){var n=this.chars[i].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),pi=function(){function t(){dt(this,t),this.rows=[];for(var e=0;e<ei;e++)this.rows.push(new hi);this.currRow=ei-1,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<ei;t++)this.rows[t].clear();this.currRow=ei-1},t.prototype.equals=function(t){for(var e=!0,i=0;i<ei;i++)if(!this.rows[i].equals(t.rows[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<ei;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<ei;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){li.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){li.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var i=0;i<ei;i++)this.rows[i].clear();var n=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[n].cueStartTime;if(a&&a<li.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(r.rows[n+o])}}this.currRow=e;var s=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,u=Math.max(l-1,0);s.setCursor(t.indent),t.color=s.chars[u].penState.foreground}var c={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(c)},t.prototype.setBkgData=function(t){li.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null===this.nrRollUpRows)return void li.log("DEBUG","roll_up but nrRollUpRows not set yet");li.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),li.log("INFO","Rolling up")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],i="",n=-1,r=0;r<ei;r++){var a=this.rows[r].getTextString();a&&(n=r+1,t?e.push("Row "+n+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(i=t?"["+e.join(" | ")+"]":e.join("\n")),i},t.prototype.getTextAndFormat=function(){return this.rows},t}(),fi=function(){function t(e,i){dt(this,t),this.chNr=e,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new pi,this.nonDisplayedMemory=new pi,this.lastOutputScreen=new pi,this.currRollUpRow=this.displayedMemory.rows[ei-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[ei-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,li.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";li.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(li.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){li.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){li.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){li.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){li.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){li.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){li.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){li.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){li.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){li.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){li.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){li.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(li.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,li.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){li.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var i=Math.floor(t/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=n[i]}li.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=li.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),yi=function(){function t(e,i,n){dt(this,t),this.field=e||1,this.outputs=[i,n],this.channels=[new fi(1,i),new fi(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var i,n,r,a=!1;this.lastTime=t,li.setTime(t);for(var o=0;o<e.length;o+=2)if(n=127&e[o],r=127&e[o+1],0!==n||0!==r){if(li.log("DATA","["+ui([e[o],e[o+1]])+"] -> ("+ui([n,r])+")"),i=this.parseCmd(n,r),i||(i=this.parseMidrow(n,r)),i||(i=this.parsePAC(n,r)),i||(i=this.parseBackgroundAttributes(n,r)),!i&&(a=this.parseChars(n,r)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(a)}else li.log("WARNING","No channel found yet. TEXT-MODE?");i?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,li.log("WARNING","Couldn't parse cleaned data "+ui([n,r])+" orig: "+ui([e[o],e[o+1]])))}else this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var i=null,n=(20===t||28===t)&&32<=e&&e<=47,r=(23===t||31===t)&&33<=e&&e<=35;if(!n&&!r)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,li.log("DEBUG","Repeated command ("+ui([t,e])+") is dropped"),!0;i=20===t||23===t?1:2;var a=this.channels[i-1];return 20===t||28===t?32===e?a.ccRCL():33===e?a.ccBS():34===e?a.ccAOF():35===e?a.ccAON():36===e?a.ccDER():37===e?a.ccRU(2):38===e?a.ccRU(3):39===e?a.ccRU(4):40===e?a.ccFON():41===e?a.ccRDC():42===e?a.ccTR():43===e?a.ccRTD():44===e?a.ccEDM():45===e?a.ccCR():46===e?a.ccENM():47===e&&a.ccEOC():a.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.parseMidrow=function(t,e){var i=null;if((17===t||25===t)&&32<=e&&e<=47){if((i=17===t?1:2)!==this.currChNr)return li.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[i-1].ccMIDROW(e),li.log("DEBUG","MIDROW ("+ui([t,e])+")"),!0}return!1},t.prototype.parsePAC=function(t,e){var i=null,n=null,r=(17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127,a=(16===t||24===t)&&64<=e&&e<=95;if(!r&&!a)return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=t<=23?1:2,n=64<=e&&e<=95?1===i?ni[t]:ai[t]:1===i?ri[t]:oi[t];var o=this.interpretPAC(n,e);return this.channels[i-1].setPAC(o),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.interpretPAC=function(t,e){var i=e,n={color:null,italics:!1,indent:null,underline:!1,row:t};return i=e>95?e-96:e-64,n.underline=1==(1&i),i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n},t.prototype.parseChars=function(t,e){var i=null,n=null,r=null;if(t>=25?(i=2,r=t-8):(i=1,r=t),17<=r&&r<=19){var a=e;a=17===r?e+80:18===r?e+112:e+144,li.log("INFO","Special char '"+ti(a)+"' in channel "+i),n=[a]}else 32<=t&&t<=127&&(n=0===e?[t]:[t,e]);if(n){var o=ui(n);li.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return n},t.prototype.parseBackgroundAttributes=function(t,e){var i,n,r,a,o=(16===t||24===t)&&32<=e&&e<=47,s=(23===t||31===t)&&45<=e&&e<=47;return!(!o&&!s)&&(i={},16===t||24===t?(n=Math.floor((e-32)/2),i.background=si[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0)),r=t<24?1:2,a=this.channels[r-1],a.setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,!0)},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}(),gi=yi,vi=function(){function t(e,i){ht(this,t),this.timelineController=e,this.track=i,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,i){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.track)},t}(),mi=vi,bi=function(t,e,i){return t.substr(i||0,e.length)===e},_i=function(t){var e=parseInt(t.substr(-3)),i=parseInt(t.substr(-6,2)),n=parseInt(t.substr(-9,2)),r=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)?-1:(e+=1e3*i,e+=6e4*n,e+=36e5*r)},Ei=function(t){for(var e=5381,i=t.length;i;)e=33*e^t.charCodeAt(--i);return(e>>>0).toString()},Ai=function(t,e,i){var n=t[e],r=t[n.prevCC];if(!r||!r.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;r&&r.new;)t.ccOffset+=n.start-r.start,n.new=!1,n=r,r=t[n.prevCC];t.presentationOffset=i},ki={parse:function(t,e,i,n,r,a){var o=/\r\n|\n\r|\n|\r/g,s=Object(Ee.b)(new Uint8Array(t)).trim().replace(o,"\n").split("\n"),l="00:00.000",u=0,c=0,d=0,h=[],p=void 0,f=!0,y=new Qe;y.oncue=function(t){var e=i[n],r=i.ccOffset;e&&e.new&&(void 0!==c?r=i.ccOffset=e.start:Ai(i,n,d)),d&&(r=d+i.ccOffset-i.presentationOffset),t.startTime+=r-c,t.endTime+=r-c,t.id=Ei(t.startTime.toString())+Ei(t.endTime.toString())+Ei(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&h.push(t)},y.onparsingerror=function(t){p=t},y.onflush=function(){if(p&&a)return void a(p);r(h)},s.forEach(function(t){if(f){if(bi(t,"X-TIMESTAMP-MAP=")){f=!1,t.substr(16).split(",").forEach(function(t){bi(t,"LOCAL:")?l=t.substr(6):bi(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))});try{e=e<0?e+8589934592:e,u-=e,c=_i(l)/1e3,d=u/9e4,-1===c&&(p=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){p=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(f=!1)}y.parse(t+"\n")}),y.flush()}},Ti=ki,wi=function(t){function e(i){pt(this,e);var n=ft(this,t.call(this,i,Ot.a.MEDIA_ATTACHING,Ot.a.MEDIA_DETACHING,Ot.a.FRAG_PARSING_USERDATA,Ot.a.FRAG_DECRYPTED,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_LOADED,Ot.a.FRAG_LOADED,Ot.a.LEVEL_SWITCHING,Ot.a.INIT_PTS_FOUND));if(n.hls=i,n.config=i.config,n.enabled=!0,n.Cues=i.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions){var r=new mi(n,1),a=new mi(n,2);n.cea608Parser=new gi(0,r,a)}return n}return yt(e,t),e.prototype.addCues=function(t,e,i,n){for(var r=this.cueRanges,a=!1,o=r.length;o--;){var s=r[o],l=mt(s[0],s[1],e,i);if(l>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],i),a=!0,l/(i-e)>.5))return}a||r.push([e,i]),this.Cues.newCue(this[t],e,i,n)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(t){e.onFragLoaded(t)}),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var i=0;i<e.textTracks.length;i++){var n=e.textTracks[i],r="textTrack"+t;if(!0===n[r])return n}return null},e.prototype.sendAddTrackEvent=function(t,e){var i=null;try{i=new window.Event("addtrack")}catch(t){i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=t,e.dispatchEvent(i)},e.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var i=this.getExistingTrack(t);if(i)this[e]=i,gt(this[e]),this.sendAddTrackEvent(this[e],this.media);else{var n=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config.captionsTextTrack1LanguageCode);n&&(n[e]=!0,this[e]=n)}}},e.prototype.createTextTrack=function(t,e,i){var n=this.media;if(n)return n.addTextTrack(t,e,i)},e.prototype.destroy=function(){Mt.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){gt(this.textTrack1),gt(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var i=0;i<e.length;i++)gt(e[i])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,n){var r=void 0;if(n<i.length){var a=i[n];vt(a,t)&&(r=a)}r||(r=e.createTextTrack("subtitles",t.name,t.lang)),r.mode=t.default?"showing":"hidden",e.textTracks.push(r)})}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,i=t.payload;if("main"===e.type){var n=e.sn;if(n!==this.lastSn+1){var r=this.cea608Parser;r&&r.reset()}this.lastSn=n}else if("subtitle"===e.type)if(i.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var a=e.decryptdata;null!=a&&null!=a.key&&"AES-128"===a.method||this._parseVTTs(e,i)}else this.hls.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var i=this.vttCCs;i[t.cc]||(i[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var n=this.textTracks,r=this.hls;Ti.parse(e,this.initPTS,i,t.cc,function(e){var i=n[t.trackId];e.forEach(function(t){if(!i.cues.getCueById(t.id))try{i.addCue(t)}catch(n){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,i.addCue(e)}}),r.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})},function(e){It.b.log("Failed to parse VTT cue: "+e),r.trigger(Ot.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},e.prototype.onFragDecrypted=function(t){var e=t.payload,i=t.frag;if("subtitle"===i.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(i,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var i=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,i)}},e.prototype.extractCea608Data=function(t){for(var e,i,n,r,a,o=31&t[0],s=2,l=[],u=0;u<o;u++)e=t[s++],i=127&t[s++],n=127&t[s++],r=0!=(4&e),a=3&e,0===i&&0===n||r&&0===a&&(l.push(i),l.push(n));return l},e}(Mt),Ci=wi,Si=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Li=function(t){function e(i){bt(this,e);var n=_t(this,t.call(this,i,Ot.a.MEDIA_ATTACHED,Ot.a.MEDIA_DETACHING,Ot.a.MANIFEST_LOADING,Ot.a.MANIFEST_LOADED,Ot.a.SUBTITLE_TRACK_LOADED));return n.tracks=[],n.trackId=-1,n.media=void 0,n.subtitleDisplay=!1,n}return Et(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=At(this.media.textTracks),i=0;i<e.length;i++)"showing"===e[i].mode&&(t=i);this.subtitleTrack=t}},e.prototype.destroy=function(){Mt.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,i=t.subtitles||[];this.tracks=i,this.trackId=-1,this.hls.trigger(Ot.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var i=e.details;void 0!==i&&!0!==i.live||(It.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(It.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(function(){e.onTick()},1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=At(this.media.textTracks);if(-1!==this.trackId&&this.subtitleDisplay&&(e[this.trackId].mode="hidden"),this.trackId=t,It.b.log("switching to subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var i=this.tracks[t];this.subtitleDisplay&&(e[t].mode="showing");var n=i.details;void 0!==n&&!0!==n.live||(It.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(Ot.a.SUBTITLE_TRACK_LOADING,{url:i.url,id:t}))}}},Si(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(Mt),Pi=Li,Oi=i(4),Ri={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},Ii=function(t){function e(i){kt(this,e);var n=Tt(this,t.call(this,i,Ot.a.MEDIA_ATTACHED,Ot.a.ERROR,Ot.a.KEY_LOADED,Ot.a.FRAG_LOADED,Ot.a.SUBTITLE_TRACKS_UPDATED,Ot.a.SUBTITLE_TRACK_SWITCH,Ot.a.SUBTITLE_TRACK_LOADED,Ot.a.SUBTITLE_FRAG_PROCESSED));return n.config=i.config,n.vttFragSNsProcessed={},n.vttFragQueues=void 0,n.currentlyProcessing=null,n.state=Ri.STOPPED,n.currentTrackId=-1,n.ticks=0,n.decrypter=new Oi.a(i.observer,i.config),n}return wt(e,t),e.prototype.destroy=function(){Mt.prototype.destroy.call(this),this.state=Ri.STOPPED},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach(function(e){t.vttFragQueues[e.id]=[]})},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(Ot.a.FRAG_LOADING,{frag:t}),this.state=Ri.FRAG_LOADING}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=Ri.IDLE,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=Ri.IDLE},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.tick=function(){var t=this;1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(function(){t.tick()},1),this.ticks=0)},e.prototype.doTick=function(){var t=this;switch(this.state){case Ri.IDLE:var e=this.tracks,i=this.currentTrackId,n=this.vttFragSNsProcessed[i],r=this.vttFragQueues[i],a=this.currentlyProcessing?this.currentlyProcessing.sn:-1,o=function(t){return n.indexOf(t.sn)>-1},s=function(t){return r.some(function(e){return e.sn===t.sn})};if(!e)break;var l;if(i<e.length&&(l=e[i].details),void 0===l)break;l.fragments.forEach(function(e){o(e)||e.sn===a||s(e)||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(It.b.log("Loading key for "+e.sn),t.state=Ri.KEY_LOADING,t.hls.trigger(Ot.a.KEY_LOADING,{frag:e})):(e.trackId=i,r.push(e),t.nextFrag()))})}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;It.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(t){e.vttFragSNsProcessed[t.id]=[]})},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,this.clearVttFragQueues()},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===Ri.KEY_LOADING&&(this.state=Ri.IDLE,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag.decryptdata,n=t.frag,r=this.hls;if(this.state===Ri.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=i&&null!=i.key&&"AES-128"===i.method){var a;try{a=performance.now()}catch(t){a=Date.now()}this.decrypter.decrypt(t.payload,i.key.buffer,i.iv.buffer,function(t){var e;try{e=performance.now()}catch(t){e=Date.now()}r.trigger(Ot.a.FRAG_DECRYPTED,{frag:n,payload:t,stats:{tstart:a,tdecrypt:e}})})}},e}(Mt),xi=Ii,Di={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:je,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:Oe,bufferController:xe,capLevelController:Ne,fpsController:Fe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Di.subtitleStreamController=xi,Di.subtitleTrackController=Pi,Di.timelineController=Ci,Di.cueHandler=St,Di.enableCEA708Captions=!0,Di.enableWebVTT=!0,Di.captionsTextTrack1Label="English",Di.captionsTextTrack1LanguageCode="en",Di.captionsTextTrack2Label="Spanish",Di.captionsTextTrack2LanguageCode="es",Di.audioStreamController=ze,Di.audioTrackController=He;var Mi=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Ni=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ct(this,t);var n=t.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in i||(i[r]=n[r]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(It.a)(i.debug),this.config=i,this._autoLevelCapping=-1;var a=this.observer=new oe.a;a.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];a.emit.apply(a,[t,t].concat(i))},a.off=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];a.removeListener.apply(a,[t].concat(i))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.trigger=a.trigger.bind(a);var o=this.abrController=new i.abrController(this),s=new i.bufferController(this),l=new i.capLevelController(this),u=new i.fpsController(this),c=new qt(this),d=new Zt(this),h=new Jt(this),p=new ke(this),f=this.levelController=new _e(this),y=this.streamController=new ve(this),g=[f,y],v=i.audioStreamController;v&&g.push(new v(this)),this.networkControllers=g;var m=[c,d,h,o,s,l,u,p];if(v=i.audioTrackController){var b=new v(this);this.audioTrackController=b,m.push(b)}if(v=i.subtitleTrackController){var _=new v(this);this.subtitleTrackController=_,m.push(_)}[i.subtitleStreamController,i.timelineController].forEach(function(t){t&&m.push(new t(e))}),this.coreComponents=m}return t.isSupported=function(){var t=v(),e=window.SourceBuffer||window.WebKitSourceBuffer,i=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return i&&n},Mi(t,null,[{key:"version",get:function(){return"0.8.7"}},{key:"Events",get:function(){return Ot.a}},{key:"ErrorTypes",get:function(){return Rt.b}},{key:"ErrorDetails",get:function(){return Rt.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:Di},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){It.b.log("destroy"),this.trigger(Ot.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){It.b.log("attachMedia"),this.media=t,this.trigger(Ot.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){It.b.log("detachMedia"),this.trigger(Ot.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=Pt.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),It.b.log("loadSource:"+t),this.url=t,this.trigger(Ot.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;It.b.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},t.prototype.stopLoad=function(){It.b.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},t.prototype.swapAudioCodec=function(){It.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){It.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},Mi(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){It.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){It.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){It.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){It.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){It.b.log("set startLevel:"+t);var e=this;-1!==t&&(t=Math.max(t,e.minAutoLevel)),e.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){It.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this,e=t.levels,i=t.config.minAutoBitrate,n=e?e.length:0,r=0;r<n;r++){if((e[r].realBitrate?Math.max(e[r].realBitrate,e[r].bitrate):e[r].bitrate)>i)return r}return 0}},{key:"maxAutoLevel",get:function(){var t=this,e=t.levels,i=t.autoLevelCapping;return-1===i&&e&&e.length?e.length-1:i}},{key:"nextAutoLevel",get:function(){var t=this;return Math.min(Math.max(t.abrController.nextAutoLevel,t.minAutoLevel),t.maxAutoLevel)},set:function(t){var e=this;e.abrController.nextAutoLevel=Math.max(e.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=Ni},function(t,e,i){function n(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var n=e(e.s=ENTRY_MODULE);return n.default||n}function r(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(t){var e=[],i=t.toString(),n=i.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!n)return e;for(var a,o=n[1],s=new RegExp("(\\\\n|\\W)"+r(o)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");a=s.exec(i);)e.push(a[3]);return e}function o(t,e){for(var i=[e],n=[],r={};i.length;){var o=i.pop();if(!r[o]&&t[o]){r[o]=!0,n.push(o);var s=a(t[o]);i=i.concat(s)}}return n}t.exports=function(t,e){e=e||{};var r=i.m,a=e.all?Object.keys(r):o(r,t),s="("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a.map(function(t){return JSON.stringify(t)+": "+r[t].toString()}).join(",")+"})(self);",l=new window.Blob([s],{type:"text/javascript"});if(e.bare)return l;var u=window.URL||window.webkitURL||window.mozURL||window.msURL,c=u.createObjectURL(l),d=new window.Worker(c);return d.objectURL=c,d}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7),r=i(1),a=i(0),o=i(5),s=i.n(o),l=function(t){var e=new s.a;e.trigger=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(n))},e.off=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(n))};var i=function(e,i){t.postMessage({event:e,data:i})};t.addEventListener("message",function(r){var o=r.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new n.a(e,o.typeSupported,s,o.vendor);try{Object(a.a)(!0===s.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":t.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),e.on(r.a.FRAG_DECRYPTED,i),e.on(r.a.FRAG_PARSING_INIT_SEGMENT,i),e.on(r.a.FRAG_PARSED,i),e.on(r.a.ERROR,i),e.on(r.a.FRAG_PARSING_METADATA,i),e.on(r.a.FRAG_PARSING_USERDATA,i),e.on(r.a.INIT_PTS_FOUND,i),e.on(r.a.FRAG_PARSING_DATA,function(e,i){var n=[],r={event:e,data:i};i.data1&&(r.data1=i.data1.buffer,n.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,n.push(i.data2.buffer),delete i.data2),t.postMessage(r,n)})};e.default=l}]).default})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(199),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(202),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(218),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 17 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-25.000000, -349.000000)" fill="#FFFFFF"><path d="M41.3011994,357.97664 C42.2460261,358.542199 42.238008,359.463951 41.3011994,360.02471 L26.71076,368.758327 C25.7659333,369.323886 25,368.883265 25,367.773096 L25,350.228254 C25,349.118566 25.7739514,348.682263 26.71076,349.243022 L41.3011994,357.97664 Z" id="Triangle"></path></g></g></svg>'},function(t,e,i){"use strict";(function(t,i){function n(t,e){return!!(t?t.length:0)&&s(t,e,0)>-1}function r(t,e,i){for(var n=-1,r=t?t.length:0;++n<r;)if(i(e,t[n]))return!0;return!1}function a(t,e){for(var i=-1,n=t?t.length:0;++i<n;)if(e(t[i],i,t))return!0;return!1}function o(t,e,i,n){for(var r=t.length,a=i+(n?1:-1);n?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function s(t,e,i){if(e!==e)return o(t,l,i);for(var n=i-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function l(t){return t!==t}function u(t){return function(e){return null==e?void 0:e[t]}}function c(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function d(t,e){return t.has(e)}function h(t,e){return null==t?void 0:t[e]}function p(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function f(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function y(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function g(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function v(){this.__data__=We?We(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function b(t){var e=this.__data__;if(We){var i=e[t];return i===Yt?void 0:i}return Me.call(e,t)?e[t]:void 0}function _(t){var e=this.__data__;return We?void 0!==e[t]:Me.call(e,t)}function E(t,e){return this.__data__[t]=We&&void 0===e?Yt:e,this}function A(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function k(){this.__data__=[]}function T(t){var e=this.__data__,i=Y(e,t);return!(i<0)&&(i==e.length-1?e.pop():Ge.call(e,i,1),!0)}function w(t){var e=this.__data__,i=Y(e,t);return i<0?void 0:e[i][1]}function C(t){return Y(this.__data__,t)>-1}function S(t,e){var i=this.__data__,n=Y(i,t);return n<0?i.push([t,e]):i[n][1]=e,this}function L(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function P(){this.__data__={hash:new g,map:new(Ye||A),string:new g}}function O(t){return ct(this,t).delete(t)}function R(t){return ct(this,t).get(t)}function I(t){return ct(this,t).has(t)}function x(t,e){return ct(this,t).set(t,e),this}function D(t){var e=-1,i=t?t.length:0;for(this.__data__=new L;++e<i;)this.add(t[e])}function M(t){return this.__data__.set(t,Yt),this}function N(t){return this.__data__.has(t)}function B(t){this.__data__=new A(t)}function F(){this.__data__=new A}function U(t){return this.__data__.delete(t)}function j(t){return this.__data__.get(t)}function G(t){return this.__data__.has(t)}function V(t,e){var i=this.__data__;if(i instanceof A){var n=i.__data__;if(!Ye||n.length<Vt-1)return n.push([t,e]),this;i=this.__data__=new L(n)}return i.set(t,e),this}function H(t,e){var i=oi(t)||Ct(t)?c(t.length,String):[],n=i.length,r=!!n;for(var a in t)!e&&!Me.call(t,a)||r&&("length"==a||ft(a,n))||i.push(a);return i}function Y(t,e){for(var i=t.length;i--;)if(wt(t[i][0],e))return i;return-1}function K(t,e){e=yt(e,t)?[e]:ot(e);for(var i=0,n=e.length;null!=t&&i<n;)t=t[Et(e[i++])];return i&&i==n?t:void 0}function $(t){return Ne.call(t)}function z(t,e){return null!=t&&e in Object(t)}function W(t,e,i,n,r){return t===e||(null==t||null==e||!Rt(t)&&!It(e)?t!==t&&e!==e:q(t,e,W,i,n,r))}function q(t,e,i,n,r,a){var o=oi(t),s=oi(e),l=Xt,u=Xt;o||(l=ri(t),l=l==qt?re:l),s||(u=ri(e),u=u==qt?re:u);var c=l==re&&!p(t),d=u==re&&!p(e),h=l==u;if(h&&!c)return a||(a=new B),o||si(t)?st(t,e,i,n,r,a):lt(t,e,l,i,n,r,a);if(!(r&$t)){var f=c&&Me.call(t,"__wrapped__"),y=d&&Me.call(e,"__wrapped__");if(f||y){var g=f?t.value():t,v=y?e.value():e;return a||(a=new B),i(g,v,n,r,a)}}return!!h&&(a||(a=new B),ut(t,e,i,n,r,a))}function X(t,e,i,n){var r=i.length,a=r,o=!n;if(null==t)return!a;for(t=Object(t);r--;){var s=i[r];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<a;){s=i[r];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in t))return!1}else{var d=new B;if(n)var h=n(u,c,l,t,e,d);if(!(void 0===h?W(c,u,n,Kt|$t,d):h))return!1}}return!0}function Z(t){return!(!Rt(t)||vt(t))&&(Pt(t)||p(t)?Be:ve).test(At(t))}function Q(t){return It(t)&&Ot(t.length)&&!!be[Ne.call(t)]}function J(t){return"function"==typeof t?t:null==t?Ft:"object"==(void 0===t?"undefined":Gt(t))?oi(t)?it(t[0],t[1]):et(t):jt(t)}function tt(t){if(!mt(t))return Ve(t);var e=[];for(var i in Object(t))Me.call(t,i)&&"constructor"!=i&&e.push(i);return e}function et(t){var e=dt(t);return 1==e.length&&e[0][2]?_t(e[0][0],e[0][1]):function(i){return i===t||X(i,t,e)}}function it(t,e){return yt(t)&&bt(e)?_t(Et(t),e):function(i){var n=Mt(i,t);return void 0===n&&n===e?Nt(i,t):W(e,n,void 0,Kt|$t)}}function nt(t){return function(e){return K(e,t)}}function rt(t){if("string"==typeof t)return t;if(xt(t))return ii?ii.call(t):"";var e=t+"";return"0"==e&&1/t==-zt?"-0":e}function at(t,e,i){var a=-1,o=n,s=t.length,l=!0,u=[],c=u;if(i)l=!1,o=r;else if(s>=Vt){var h=e?null:ni(t);if(h)return y(h);l=!1,o=d,c=new D}else c=e?[]:u;t:for(;++a<s;){var p=t[a],f=e?e(p):p;if(p=i||0!==p?p:0,l&&f===f){for(var g=c.length;g--;)if(c[g]===f)continue t;e&&c.push(f),u.push(p)}else o(c,f,i)||(c!==u&&c.push(f),u.push(p))}return u}function ot(t){return oi(t)?t:ai(t)}function st(t,e,i,n,r,o){var s=r&$t,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var d=-1,h=!0,p=r&Kt?new D:void 0;for(o.set(t,e),o.set(e,t);++d<l;){var f=t[d],y=e[d];if(n)var g=s?n(y,f,d,e,t,o):n(f,y,d,t,e,o);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!a(e,function(t,e){if(!p.has(e)&&(f===t||i(f,t,n,r,o)))return p.add(e)})){h=!1;break}}else if(f!==y&&!i(f,y,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function lt(t,e,i,n,r,a,o){switch(i){case ce:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ue:return!(t.byteLength!=e.byteLength||!n(new Ue(t),new Ue(e)));case Zt:case Qt:case ne:return wt(+t,+e);case Jt:return t.name==e.name&&t.message==e.message;case ae:case se:return t==e+"";case ie:var s=f;case oe:var l=a&$t;if(s||(s=y),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;a|=Kt,o.set(t,e);var c=st(s(t),s(e),n,r,a,o);return o.delete(t),c;case le:if(ei)return ei.call(t)==ei.call(e)}return!1}function ut(t,e,i,n,r,a){var o=r&$t,s=Bt(t),l=s.length;if(l!=Bt(e).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in e:Me.call(e,c)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var h=!0;a.set(t,e),a.set(e,t);for(var p=o;++u<l;){c=s[u];var f=t[c],y=e[c];if(n)var g=o?n(y,f,c,e,t,a):n(f,y,c,t,e,a);if(!(void 0===g?f===y||i(f,y,n,r,a):g)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var v=t.constructor,m=e.constructor;v!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof m&&m instanceof m)&&(h=!1)}return a.delete(t),a.delete(e),h}function ct(t,e){var i=t.__data__;return gt(e)?i["string"==typeof e?"string":"hash"]:i.map}function dt(t){for(var e=Bt(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,bt(r)]}return e}function ht(t,e){var i=h(t,e);return Z(i)?i:void 0}function pt(t,e,i){e=yt(e,t)?[e]:ot(e);for(var n,r=-1,a=e.length;++r<a;){var o=Et(e[r]);if(!(n=null!=t&&i(t,o)))break;t=t[o]}if(n)return n;var a=t?t.length:0;return!!a&&Ot(a)&&ft(o,a)&&(oi(t)||Ct(t))}function ft(t,e){return!!(e=null==e?Wt:e)&&("number"==typeof t||me.test(t))&&t>-1&&t%1==0&&t<e}function yt(t,e){if(oi(t))return!1;var i=void 0===t?"undefined":Gt(t);return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!xt(t))||(he.test(t)||!de.test(t)||null!=e&&t in Object(e))}function gt(t){var e=void 0===t?"undefined":Gt(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function vt(t){return!!xe&&xe in t}function mt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Re)}function bt(t){return t===t&&!Rt(t)}function _t(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}}function Et(t){if("string"==typeof t||xt(t))return t;var e=t+"";return"0"==e&&1/t==-zt?"-0":e}function At(t){if(null!=t){try{return De.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function kt(t,e){return t&&t.length?at(t,J(e,2)):[]}function Tt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Ht);var i=function i(){var n=arguments,r=e?e.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var o=t.apply(this,n);return i.cache=a.set(r,o),o};return i.cache=new(Tt.Cache||L),i}function wt(t,e){return t===e||t!==t&&e!==e}function Ct(t){return Lt(t)&&Me.call(t,"callee")&&(!je.call(t,"callee")||Ne.call(t)==qt)}function St(t){return null!=t&&Ot(t.length)&&!Pt(t)}function Lt(t){return It(t)&&St(t)}function Pt(t){var e=Rt(t)?Ne.call(t):"";return e==te||e==ee}function Ot(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Wt}function Rt(t){var e=void 0===t?"undefined":Gt(t);return!!t&&("object"==e||"function"==e)}function It(t){return!!t&&"object"==(void 0===t?"undefined":Gt(t))}function xt(t){return"symbol"==(void 0===t?"undefined":Gt(t))||It(t)&&Ne.call(t)==le}function Dt(t){return null==t?"":rt(t)}function Mt(t,e,i){var n=null==t?void 0:K(t,e);return void 0===n?i:n}function Nt(t,e){return null!=t&&pt(t,e,z)}function Bt(t){return St(t)?H(t):tt(t)}function Ft(t){return t}function Ut(){}function jt(t){return yt(t)?u(Et(t)):nt(t)}var Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt=200,Ht="Expected a function",Yt="__lodash_hash_undefined__",Kt=1,$t=2,zt=1/0,Wt=9007199254740991,qt="[object Arguments]",Xt="[object Array]",Zt="[object Boolean]",Qt="[object Date]",Jt="[object Error]",te="[object Function]",ee="[object GeneratorFunction]",ie="[object Map]",ne="[object Number]",re="[object Object]",ae="[object RegExp]",oe="[object Set]",se="[object String]",le="[object Symbol]",ue="[object ArrayBuffer]",ce="[object DataView]",de=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,he=/^\w*$/,pe=/^\./,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ye=/[\\^$.*+?()[\]{}|]/g,ge=/\\(\\)?/g,ve=/^\[object .+?Constructor\]$/,me=/^(?:0|[1-9]\d*)$/,be={};be["[object Float32Array]"]=be["[object Float64Array]"]=be["[object Int8Array]"]=be["[object Int16Array]"]=be["[object Int32Array]"]=be["[object Uint8Array]"]=be["[object Uint8ClampedArray]"]=be["[object Uint16Array]"]=be["[object Uint32Array]"]=!0,be[qt]=be[Xt]=be[ue]=be[Zt]=be[ce]=be[Qt]=be[Jt]=be[te]=be[ie]=be[ne]=be[re]=be[ae]=be[oe]=be[se]=be["[object WeakMap]"]=!1;var _e="object"==(void 0===t?"undefined":Gt(t))&&t&&t.Object===Object&&t,Ee="object"==("undefined"==typeof self?"undefined":Gt(self))&&self&&self.Object===Object&&self,Ae=_e||Ee||Function("return this")(),ke="object"==Gt(e)&&e&&!e.nodeType&&e,Te=ke&&"object"==Gt(i)&&i&&!i.nodeType&&i,we=Te&&Te.exports===ke,Ce=we&&_e.process,Se=function(){try{return Ce&&Ce.binding("util")}catch(t){}}(),Le=Se&&Se.isTypedArray,Pe=Array.prototype,Oe=Function.prototype,Re=Object.prototype,Ie=Ae["__core-js_shared__"],xe=function(){var t=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),De=Oe.toString,Me=Re.hasOwnProperty,Ne=Re.toString,Be=RegExp("^"+De.call(Me).replace(ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=Ae.Symbol,Ue=Ae.Uint8Array,je=Re.propertyIsEnumerable,Ge=Pe.splice,Ve=function(t,e){return function(i){return t(e(i))}}(Object.keys,Object),He=ht(Ae,"DataView"),Ye=ht(Ae,"Map"),Ke=ht(Ae,"Promise"),$e=ht(Ae,"Set"),ze=ht(Ae,"WeakMap"),We=ht(Object,"create"),qe=At(He),Xe=At(Ye),Ze=At(Ke),Qe=At($e),Je=At(ze),ti=Fe?Fe.prototype:void 0,ei=ti?ti.valueOf:void 0,ii=ti?ti.toString:void 0;g.prototype.clear=v,g.prototype.delete=m,g.prototype.get=b,g.prototype.has=_,g.prototype.set=E,A.prototype.clear=k,A.prototype.delete=T,A.prototype.get=w,A.prototype.has=C,A.prototype.set=S,L.prototype.clear=P,L.prototype.delete=O,L.prototype.get=R,L.prototype.has=I,L.prototype.set=x,D.prototype.add=D.prototype.push=M,D.prototype.has=N,B.prototype.clear=F,B.prototype.delete=U,B.prototype.get=j,B.prototype.has=G,B.prototype.set=V;var ni=$e&&1/y(new $e([,-0]))[1]==zt?function(t){return new $e(t)}:Ut,ri=$;(He&&ri(new He(new ArrayBuffer(1)))!=ce||Ye&&ri(new Ye)!=ie||Ke&&"[object Promise]"!=ri(Ke.resolve())||$e&&ri(new $e)!=oe||ze&&"[object WeakMap]"!=ri(new ze))&&(ri=function(t){var e=Ne.call(t),i=e==re?t.constructor:void 0,n=i?At(i):void 0;if(n)switch(n){case qe:return ce;case Xe:return ie;case Ze:return"[object Promise]";case Qe:return oe;case Je:return"[object WeakMap]"}return e});var ai=Tt(function(t){t=Dt(t);var e=[];return pe.test(t)&&e.push(""),t.replace(fe,function(t,i,n,r){e.push(n?r.replace(ge,"$1"):i||t)}),e});Tt.Cache=L;var oi=Array.isArray,si=Le?function(t){return function(e){return t(e)}}(Le):Q;i.exports=kt}).call(e,i(68),i(326)(t))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_PROFILE=void 0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(0),s=i(10),l=i(66),u=n(l),c=i(7),d=n(c),h=i(362),p=o.Log.getInstance(),f={code:"AUT",http_status_code:403},y={code:"invalid-video"},g=e.DEFAULT_PROFILE="max",v=function(){function t(e){r(this,t),this.options={},this.configure(e)}return a(t,[{key:"profile",get:function(){return this.options.maxQualityLevel||g}}]),a(t,[{key:"configure",value:function(t){this.options=d.default.extend(this.options,t)}},{key:"isValidPlaylist",value:function(t){return!!t&&!!t.videos&&t.videos.length>0}},{key:"loadMetadata",value:function(){var e=this,i=this.options.src,n="wmPlayerPlaylistLoaded"+this.options.playerId+i,r=this.options.env,a=r.playlistTemplate({videoId:i,callback:n});return p.info(t.name,"loading playlist from:",a),s.Ajax.jsonp({callbackName:n,url:a}).then(function(t){return e.parsePlaylist(t)})}},{key:"parsePlaylist",value:function(e){var i=new d.default.Deferred;if(this.isValidPlaylist(e)){this.playlist=e;var n={selectedLevel:this.options.selectedLevel,preferredLevel:this.options.preferredLevel,preferredCDN:this.options.cdn,env:this.options.env,profile:this.profile},r=new h.Video(e.videos[0],n);p.info(t.name,"video:",r),i.resolve(r)}else{var a=e;p.warn(t.name,"error on playlist: ",a),i.reject(a)}return i}},{key:"loadResource",value:function(t){var e=this;return this.getCDN().then(function(i){return e.onCDNLoaded(i,t)},function(){return e.onCDNLoaded({},t)})}},{key:"getCDN",value:function(){return d.default.ajax({url:this.options.env.CDNRouterHost,error:function(t,e,i){o.Mediator.trigger("video:metadata:loader:error",{type:"CDN Router",message:"XHR error: "+i})}})}},{key:"onCDNLoaded",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=t.cdn;return e.setCDN(i),this.loadHash(e)}},{key:"loadHash",value:function(t){switch(t.type){case"VideoCollection":case"FullEpisode":case"Gallery":case"Live":if(t.geofencing&&!o.Browser.supportsFakeLocation)return this.checkAuthorized(t);case"Video":if(!t.geofencing)return this.checkAuthorized(t)}var e=new d.default.Deferred;return e.reject(y),e}},{key:"checkAuthorized",value:function(t){var e=this;if(!t){var i=new d.default.Deferred;return i.reject(y),i}if(t.isSubscriberOnly){if(u.default.isGloboDomain){if((o.Browser.isChromecast||t.providerId)&&this.options.token)return this.setAuthenticationToken(t).then(function(){return e.performHashRequest(t).then(function(i){return e.parseHashData(t,i)})});if(null!==this.options.token&&!o.Browser.isChromecast&&this.hasTokenForVideo(t))return this.performHashRequest(t).then(function(i){return e.parseHashData(t,i)});var n=new d.default.Deferred;return n.reject(f),n.promise()}return(o.Browser.isChromecast||t.providerId)&&this.options.token?this.setAuthenticationToken(t).then(function(){return e.performHashRequest(t).then(function(i){return e.parseHashData(t,i)})}):this.performHashRequest(t).then(function(i){return e.parseHashData(t,i)})}return this.performHashRequest(t).then(function(i){return e.parseHashData(t,i)})}},{key:"getProviderCookieName",value:function(t){return t?"WMPTOKEN_"+t:"GLBID"}},{key:"hasTokenForProvider",value:function(t){var e=this.getProviderCookieName(t);if(e){return"string"==typeof(0,s.getCookie)(e)}return!1}},{key:"hasTokenForVideo",value:function(t){return t.providerId?this.hasTokenForProvider(t.providerId):s.User.hasGlbId()}},{key:"setAuthenticationToken",value:function(t){var e="setAuthenticationToken_"+(0,s.getCurrentTime)(),i="/providers/"+this.getProviderCookieName(t.providerId)+"/tokens/"+this.options.token+"/session?callback="+e+"&expires="+(0,s.getExpiresDateInGMT)(7),n=""+this.options.env.securityHost+i;return s.Ajax.jsonp({url:n,callbackName:e})}},{key:"performHashRequest",value:function(t){var e=t.geofencing&&o.Browser.isMobile,i=e&&this.options.allowLocation;return!t.selectedResource&&i?this.getLocation(t):(e&&t.resources.length>0&&t.selectResource(!0),this.performHashGet(t))}},{key:"getHashUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,this.options.env.hashTemplate)({videoId:t.id,resourceId:t.selectedResource&&t.selectedResource.id||"",callback:e.callbackName,player:t.playerType,tz:encodeURIComponent((0,s.iso8601TimezoneOffset)()),cdn:t.cdn,profile:this.profile})}},{key:"performHashGet",value:function(t){var e="getHash_"+(new Date).getTime(),i=this.getHashUrl(t,{callbackName:e});return s.Ajax.jsonp({callbackName:e,url:i})}},{key:"performHashPost",value:function(t,e){var i=e.coords.latitude,n=e.coords.longitude;return d.default.ajax({type:"POST",data:{lat:i,long:n},xhrFields:{withCredentials:!0},url:this.getHashUrl(t)})}},{key:"getLocation",value:function(t){var e=this;if(u.default.isGloboiDomain&&this.options.lat&&this.options.long){var i=this.options.lat,n=this.options.long,r={coords:{latitude:i,longitude:n}};return this.performHashPost(t,r)}return s.Location.getLocation().then(function(i){return e.performHashPost(t,i)},function(i){if(t.resources.length>0)return t.selectResource(!0),e.performHashRequest(t);var n=new d.default.Deferred;return n.reject(i),n})}},{key:"isValidSecurityData",value:function(t){var e=t&&t.hash,i=t&&t.token;return e||i}},{key:"parseHashData",value:function(t,e){var i=d.default.Deferred();if(this.isValidSecurityData(e)){t.setHashData(e);var n=new h.UserInfo(e);i.resolve(t,n)}else i.reject(e);return i}}]),t}();e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),r=i(10),a=function(t){var e=function(t){var e=void 0,i=new Array(t.length>>2);for(e=0;e<i.length;e++)i[e]=0;for(e=0;e<8*t.length;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i},i=function(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e},n=function(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i},r=function(t,e){return t<<e|t>>>32-e},a=function(t,e,i,a,o,s){return n(r(n(n(e,t),n(a,s)),o),i)},o=function(t,e,i,n,r,o,s){return a(e&i|~e&n,t,e,r,o,s)},s=function(t,e,i,n,r,o,s){return a(e&n|i&~n,t,e,r,o,s)},l=function(t,e,i,n,r,o,s){return a(e^i^n,t,e,r,o,s)},u=function(t,e,i,n,r,o,s){return a(i^(e|~n),t,e,r,o,s)},c=function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var i=1732584193,r=-271733879,a=-1732584194,c=271733878,d=0;d<t.length;d+=16){var h=i,p=r,f=a,y=c;i=o(i,r,a,c,t[d+0],7,-680876936),c=o(c,i,r,a,t[d+1],12,-389564586),a=o(a,c,i,r,t[d+2],17,606105819),r=o(r,a,c,i,t[d+3],22,-1044525330),i=o(i,r,a,c,t[d+4],7,-176418897),c=o(c,i,r,a,t[d+5],12,1200080426),a=o(a,c,i,r,t[d+6],17,-1473231341),r=o(r,a,c,i,t[d+7],22,-45705983),i=o(i,r,a,c,t[d+8],7,1770035416),c=o(c,i,r,a,t[d+9],12,-1958414417),a=o(a,c,i,r,t[d+10],17,-42063),r=o(r,a,c,i,t[d+11],22,-1990404162),i=o(i,r,a,c,t[d+12],7,1804603682),c=o(c,i,r,a,t[d+13],12,-40341101),a=o(a,c,i,r,t[d+14],17,-1502002290),r=o(r,a,c,i,t[d+15],22,1236535329),i=s(i,r,a,c,t[d+1],5,-165796510),c=s(c,i,r,a,t[d+6],9,-1069501632),a=s(a,c,i,r,t[d+11],14,643717713),r=s(r,a,c,i,t[d+0],20,-373897302),i=s(i,r,a,c,t[d+5],5,-701558691),c=s(c,i,r,a,t[d+10],9,38016083),a=s(a,c,i,r,t[d+15],14,-660478335),r=s(r,a,c,i,t[d+4],20,-405537848),i=s(i,r,a,c,t[d+9],5,568446438),c=s(c,i,r,a,t[d+14],9,-1019803690),a=s(a,c,i,r,t[d+3],14,-187363961),r=s(r,a,c,i,t[d+8],20,1163531501),i=s(i,r,a,c,t[d+13],5,-1444681467),c=s(c,i,r,a,t[d+2],9,-51403784),a=s(a,c,i,r,t[d+7],14,1735328473),r=s(r,a,c,i,t[d+12],20,-1926607734),i=l(i,r,a,c,t[d+5],4,-378558),c=l(c,i,r,a,t[d+8],11,-2022574463),a=l(a,c,i,r,t[d+11],16,1839030562),r=l(r,a,c,i,t[d+14],23,-35309556),i=l(i,r,a,c,t[d+1],4,-1530992060),c=l(c,i,r,a,t[d+4],11,1272893353),a=l(a,c,i,r,t[d+7],16,-155497632),r=l(r,a,c,i,t[d+10],23,-1094730640),i=l(i,r,a,c,t[d+13],4,681279174),c=l(c,i,r,a,t[d+0],11,-358537222),a=l(a,c,i,r,t[d+3],16,-722521979),r=l(r,a,c,i,t[d+6],23,76029189),i=l(i,r,a,c,t[d+9],4,-640364487),c=l(c,i,r,a,t[d+12],11,-421815835),a=l(a,c,i,r,t[d+15],16,530742520),r=l(r,a,c,i,t[d+2],23,-995338651),i=u(i,r,a,c,t[d+0],6,-198630844),c=u(c,i,r,a,t[d+7],10,1126891415),a=u(a,c,i,r,t[d+14],15,-1416354905),r=u(r,a,c,i,t[d+5],21,-57434055),i=u(i,r,a,c,t[d+12],6,1700485571),c=u(c,i,r,a,t[d+3],10,-1894986606),a=u(a,c,i,r,t[d+10],15,-1051523),r=u(r,a,c,i,t[d+1],21,-2054922799),i=u(i,r,a,c,t[d+8],6,1873313359),c=u(c,i,r,a,t[d+15],10,-30611744),a=u(a,c,i,r,t[d+6],15,-1560198380),r=u(r,a,c,i,t[d+13],21,1309151649),i=u(i,r,a,c,t[d+4],6,-145523070),c=u(c,i,r,a,t[d+11],10,-1120210379),a=u(a,c,i,r,t[d+2],15,718787259),r=u(r,a,c,i,t[d+9],21,-343485551),i=n(i,h),r=n(r,p),a=n(a,f),c=n(c,y)}return[i,r,a,c]};return function(t){return i(c(e(t),8*t.length))}(function(t,e){var i="",n=-1,r=void 0,a=void 0;for(t+=e.substr(1,8);++n<t.length;)r=t.charCodeAt(n),a=n+1<t.length?t.charCodeAt(n+1):0,55296<=r&&r<=56319&&56320<=a&&a<=57343&&(r=65536+((1023&r)<<10)+(1023&a),n++),r<=127?i+=String.fromCharCode(r):r<=2047?i+=String.fromCharCode(192|r>>>6&31,128|63&r):r<=65535?i+=String.fromCharCode(224|r>>>12&15,128|r>>>6&63,128|63&r):r<=2097151&&(i+=String.fromCharCode(240|r>>>18&7,128|r>>>12&63,128|r>>>6&63,128|63&r));return i}(t,"=0xAC10FD"))},o=function(t){return(0,r.rstr2b64)(a(t))},s=function(t){return(0,r.rstr2hex)(a(t))},l=function(){var t=Math.round(1e10*Math.random()).toString();return(0,r.zeroPad)(t,10)},u=function(){return parseInt((new Date).getTime()/1e3,10)},c=function(t){var e=["04","14"],i=["03","13"],n=["02","12"],r=t.substr(0,2);return e.includes(r)?d(t):i.includes(r)||n.includes(r)?h(t):""},d=function(t){var e=t.substr(0,2),i=t.substr(2,1),n=t.substr(3,10),a=t.substr(13,10),s=t.substr(24,22),c=(0,r.zeroPad)(u()+3600,10),d=l();return e+i+n+a+c+d+o(s+c+d)},h=function(t){var e=n.Browser.isMobile?3:1,i=t.substr(0,2),a=t.substr(2,10),s=t.substr(12,10),u=t.substr(22,22),c=(0,r.zeroPad)(Number(a)+3600,10),d=l();return"05"+i+a+s+c+d+e+o(u+c+d+e)};e.default={signedHash:c,hexGrf:s},t.exports=e.default},function(t,e,i){var n;!function(){var r={};(function(t){function e(t,e){var i=t.split("."),n=qo;i[0]in n||!n.execScript||n.execScript("var "+i[0]);for(var r;i.length&&(r=i.shift());)i.length||void 0===e?n=n[r]?n[r]:n[r]={}:n[r]=e}function i(t){function e(){}var i=ke;e.prototype=i.prototype,t.Ve=i.prototype,t.prototype=new e,t.prototype.constructor=t,t.Te=function(t,e,n){return i.prototype[e].apply(t,Array.prototype.slice.call(arguments,2))}}function n(t){this.c=Math.exp(Math.log(.5)/t),this.b=this.a=0}function r(t,e,i){var n=Math.pow(t.c,e);i=i*(1-n)+n*t.a,isNaN(i)||(t.a=i,t.b+=e)}function a(t){return t.a/(1-Math.pow(t.c,t.b))}function o(){this.b=new n(2),this.c=new n(5),this.a=0}function s(){}function l(){}function u(t,e,i,n){this.severity=t,this.category=e,this.code=i,this.data=Array.prototype.slice.call(arguments,3),this.handled=!1}function c(t){var e;t instanceof c?(d(this,t.fa),this.Aa=t.Aa,this.ja=t.ja,h(this,t.Ja),this.ca=t.ca,p(this,m(t.a)),this.ta=t.ta):t&&(e=String(t).match(Xo))?(d(this,e[1]||"",!0),this.Aa=f(e[2]||""),this.ja=f(e[3]||"",!0),h(this,e[4]),this.ca=f(e[5]||"",!0),p(this,e[6]||"",!0),this.ta=f(e[7]||"")):this.a=new v(null)}function d(t,e,i){t.fa=i?f(e,!0):e,t.fa&&(t.fa=t.fa.replace(/:$/,""))}function h(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.Ja=e}else t.Ja=null}function p(t,e,i){e instanceof v?t.a=e:(i||(e=y(e,ts)),t.a=new v(e))}function f(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function y(t,e,i){return"string"==typeof t?(t=encodeURI(t).replace(e,g),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function g(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function v(t){this.b=t||null}function m(t){var e=new v;if(e.b=t.b,t.a){var i,n={};for(i in t.a)n[i]=t.a[i].concat();e.a=n,e.c=t.c}return e}function b(){var t,e,i=new Promise(function(i,n){t=i,e=n});return i.resolve=t,i.reject=e,i}function _(t,e,i){var n=A();this.j=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.f=null==t.baseDelay?n.baseDelay:t.baseDelay,this.i=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.h=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.a=0,this.b=this.f,this.c=e||!1,this.g=i||null,this.c&&(this.a=1)}function E(t){if(t.a>=t.j){if(!t.c)return Promise.reject();t.a=1,t.b=t.f}var e=new b;return t.a?(k(t,e.resolve,t.b*(1+(2*Math.random()-1)*t.i)),t.b*=t.h):e.resolve(),t.a++,e}function A(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}}function k(t,e,i){if(t.g)if(t.g()||!i)e();else{var n=Math.min(200,i);T(function(){k(this,e,i-n)}.bind(t),n)}else T(e,i)}function T(e,i){t.setTimeout(e,i)}function w(t,e,i,n,r){var a,o=r in n;for(a in e){var s=r+"."+a,l=o?n[r]:i[a];(o||a in t)&&(void 0===e[a]?void 0===l||o?delete t[a]:t[a]=l:l.constructor==Object&&e[a]&&e[a].constructor==Object?(t[a]||(t[a]=l),w(t[a],e[a],l,n,s)):typeof e[a]==typeof l&&null!=e[a]&&e[a].constructor==l.constructor&&(t[a]=e[a]))}}function C(t){function e(t){switch(typeof t){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return t;default:if(!t)return t;if(0<=i.indexOf(t))return null;var n=t.constructor==Array;if(t.constructor!=Object&&!n)return null;i.push(t);var r,a=n?[]:{};for(r in t)a[r]=e(t[r]);return n&&(a.length=t.length),a}}var i=[];return e(t)}function S(t,e){return t.reduce(function(t,e,i){return e.catch(t.bind(null,i))}.bind(null,e),Promise.reject())}function L(t,e){return t.concat(e)}function P(){}function O(t){return null!=t}function R(t,e,i){return i.indexOf(t)==e}function I(t){this.f=!1,this.a=[],this.b=[],this.c=[],this.g=t||null}function x(t,e){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e}}function D(t,e,i,n,r,a,o){if(t.f||o())return Promise.reject();var s=new c(i.uris[r]),l=s.fa;if(l||(l=location.protocol,l=l.slice(0,-1),d(s,l),i.uris[r]=s.toString()),!(l=is[l]))return Promise.reject(new u(2,1,1e3,s));var h=Date.now();return l(i.uris[r],i,e).then(function(t){void 0==t.timeMs&&(t.timeMs=Date.now()-h);var i=Date.now(),n=Promise.resolve();return this.c.forEach(function(i){n=n.then(function(){return Promise.resolve(i(e,t))}.bind(this))}.bind(this)),n=n.catch(function(t){var e=2;throw t instanceof u&&(e=t.severity),new u(e,1,1007,t)}),n.then(function(){return t.timeMs+=Date.now()-i,t.timeMs+=a,t})}.bind(t)).catch(function(t){if(t&&1==t.severity)return r=(r+1)%i.uris.length,o()?Promise.reject():E(n).then(function(){return D(this,e,i,n,r,a,o)}.bind(this),function(){throw t});throw t}.bind(t))}function M(t,e){for(var i=[],n=0;n<t.length;++n){for(var r=!1,a=0;a<i.length&&!(r=e?e(t[n],i[a]):t[n]===i[a]);++a);r||i.push(t[n])}return i}function N(t,e,i){for(var n=0;n<t.length;++n)if(i(t[n],e))return n;return-1}function B(t,e){var i=t.indexOf(e);-1<i&&t.splice(i,1)}function F(){this.a={}}function U(){this.a=new F}function j(t,e,i,n){t.a&&(e=new H(e,i,n),t.a.push(i,e))}function G(t,e,i,n){j(t,e,i,function(t){this.ia(e,i),n(t)}.bind(t))}function V(t){if(t.a){var e,i=t.a,n=[];for(e in i.a)n.push.apply(n,i.a[e]);for(i=0;i<n.length;++i)n[i].ia();t.a.a={}}}function H(t,e,i){this.target=t,this.type=e,this.a=i,this.target.addEventListener(e,i,!1)}function Y(e,i){var n,r=i||{};for(n in r)this[n]=r[n];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function K(t,e){if(!e.length)return t;var i=e.map(function(t){return new c(t)});return t.map(function(t){return new c(t)}).map(function(t){return i.map(t.resolve.bind(t))}).reduce(L,[]).map(function(t){return t.toString()})}function $(t,e){return{keySystem:t,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:e||[],keyIds:[]}}function z(t){return!t||!Object.keys(t).length}function W(t){return Object.keys(t).map(function(e){return t[e]})}function q(t,e){return Object.keys(t).reduce(function(i,n){return i[n]=e(t[n],n),i},{})}function X(t,e){return Object.keys(t).every(function(i){return e(i,t[i])})}function Z(t,e){Object.keys(t).forEach(function(i){e(i,t[i])})}function Q(t,e){var i=t;return e&&(i+='; codecs="'+e+'"'),i}function J(t){if(!t)return"";t=new Uint8Array(t),239==t[0]&&187==t[1]&&191==t[2]&&(t=t.subarray(3)),t=escape(nt(t));try{return decodeURIComponent(t)}catch(t){throw new u(2,2,2004)}}function tt(t,e,i){if(!t)return"";if(!i&&t.byteLength%2)throw new u(2,2,2004);if(t instanceof ArrayBuffer)var n=t;else i=new Uint8Array(t.byteLength),i.set(new Uint8Array(t)),n=i.buffer;t=Math.floor(t.byteLength/2),i=new Uint16Array(t),n=new DataView(n);for(var r=0;r<t;r++)i[r]=n.getUint16(2*r,e);return nt(i)}function et(t){var e=new Uint8Array(t);if(239==e[0]&&187==e[1]&&191==e[2])return J(e);if(254==e[0]&&255==e[1])return tt(e.subarray(2),!1);if(255==e[0]&&254==e[1])return tt(e.subarray(2),!0);var i=function(t,e){return t.byteLength<=e||32<=t[e]&&126>=t[e]}.bind(null,e);if(!e[0]&&!e[2])return tt(t,!1);if(!e[1]&&!e[3])return tt(t,!0);if(i(0)&&i(1)&&i(2)&&i(3))return J(t);throw new u(2,2,2003)}function it(t){t=unescape(encodeURIComponent(t));for(var e=new Uint8Array(t.length),i=0;i<t.length;++i)e[i]=t.charCodeAt(i);return e.buffer}function nt(t){for(var e="",i=0;i<t.length;i+=16e3)e+=String.fromCharCode.apply(null,t.subarray(i,i+16e3));return e}function rt(t){this.a=null,this.b=function(){this.a=null,t()}.bind(this)}function at(t,e){t.cancel(),t.a=setTimeout(t.b,1e3*e)}function ot(t,e){t.cancel();var i=function(){this.b(),this.a=setTimeout(i,1e3*e)}.bind(t);t.a=setTimeout(i,1e3*e)}function st(e,i){var n=void 0==i||i,r=t.btoa(String.fromCharCode.apply(null,e)).replace(/\+/g,"-").replace(/\//g,"_");return n?r:r.replace(/=*$/,"")}function lt(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var i=new Uint8Array(e.length),n=0;n<e.length;++n)i[n]=e.charCodeAt(n);return i}function ut(e){for(var i=new Uint8Array(e.length/2),n=0;n<e.length;n+=2)i[n/2]=t.parseInt(e.substr(n,2),16);return i}function ct(t){for(var e="",i=0;i<t.length;++i){var n=t[i].toString(16);1==n.length&&(n="0"+n),e+=n}return e}function dt(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!=e[i])return!1;return!0}function ht(t){this.l=t,this.m=this.j=this.v=null,this.L=!1,this.b=null,this.f=new U,this.a=[],this.o=[],this.i=new b,this.h=null,this.g=function(e){this.i.reject(e),t.onError(e)}.bind(this),this.C={},this.D=new rt(this.be.bind(this)),this.X=this.c=!1,this.G=[],this.P=!1,this.B=new rt(this.ae.bind(this)),ot(this.B,1),this.i.catch(function(){})}function pt(t,e){if(!t.j)return G(t.f,e,"encrypted",function(){this.g(new u(2,6,6010))}.bind(t)),Promise.resolve();t.m=e,G(t.f,t.m,"play",t.Id.bind(t));var i=t.m.setMediaKeys(t.j),i=i.catch(function(t){return Promise.reject(new u(2,6,6003,t.message))}),n=null;return t.b.serverCertificate&&t.b.serverCertificate.length&&(n=t.j.setServerCertificate(t.b.serverCertificate).then(function(){}).catch(function(t){return Promise.reject(new u(2,6,6004,t.message))})),Promise.all([i,n]).then(function(){if(this.c)return Promise.reject();yt(this),this.b.initData.length||this.o.length||j(this.f,this.m,"encrypted",this.xd.bind(this))}.bind(t)).catch(function(t){return this.c?Promise.resolve():Promise.reject(t)}.bind(t))}function ft(t,e){return Promise.all(e.map(function(t){return kt(this,t).then(function(t){if(t){for(var e=new b,i=0;i<this.a.length;i++)if(this.a[i].ga==t){this.a[i].na=e;break}return Promise.all([t.remove(),e])}}.bind(this))}.bind(t)))}function yt(t){var e=t.b?t.b.initData:[];return e.forEach(function(t){Tt(this,t.initDataType,t.initData)}.bind(t)),t.o.forEach(function(t){kt(this,t)}.bind(t)),e.length||t.o.length||t.i.resolve(),t.i}function gt(t){return t.a.map(function(t){return t.ga.sessionId})}function vt(e,i,n,r,a){var o=_t(e);i.periods.forEach(function(e){e.variants.forEach(function(e){o&&(e.drmInfos=[o]),e.drmInfos.forEach(function(i){bt(this,i),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==i.keySystem&&(i.keySystem="com.chromecast.playready");var o=r[i.keySystem];o||(o={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:n?"required":"optional",sessionTypes:[n?"persistent-license":"temporary"],label:i.keySystem,drmInfos:[]},r[i.keySystem]=o,a.push(i.keySystem)),o.drmInfos.push(i),i.distinctiveIdentifierRequired&&(o.distinctiveIdentifier="required"),i.persistentStateRequired&&(o.persistentState="required");var s=[];e.video&&s.push(e.video),e.audio&&s.push(e.audio),s.forEach(function(t){("video"==t.type?o.videoCapabilities:o.audioCapabilities).push({robustness:("video"==t.type?i.videoRobustness:i.audioRobustness)||"",contentType:Q(t.mimeType,t.codecs)})}.bind(this))}.bind(this))}.bind(this))}.bind(e))}function mt(t,e,i){if(1==i.length&&""==i[0])return Promise.reject(new u(2,6,6e3));var n=new b,r=n;return[!0,!1].forEach(function(t){i.forEach(function(i){var n=e[i];n.drmInfos.some(function(t){return!!t.licenseServerUri})==t&&(n.audioCapabilities.length||delete n.audioCapabilities,n.videoCapabilities.length||delete n.videoCapabilities,r=r.catch(function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(i,[n])}.bind(this)))}.bind(this))}.bind(t)),r=r.catch(function(){return Promise.reject(new u(2,6,6001))}),r=r.then(function(t){if(this.c)return Promise.reject();var i=0<=navigator.userAgent.indexOf("Edge/"),n=t.getConfiguration();return this.v=(n.audioCapabilities||[]).concat(n.videoCapabilities||[]).map(function(t){return t.contentType}),i&&(this.v=null),i=e[t.keySystem],Et(this,t.keySystem,i,i.drmInfos),this.b.licenseServerUri?t.createMediaKeys():Promise.reject(new u(2,6,6012))}.bind(t)).then(function(t){if(this.c)return Promise.reject();this.j=t,this.L=!0}.bind(t)).catch(function(t){return this.c?Promise.resolve():(this.v=this.b=null,t instanceof u?Promise.reject(t):Promise.reject(new u(2,6,6002,t.message)))}.bind(t)),n.reject(),r}function bt(t,e){var i=e.keySystem;if(i){if(!e.licenseServerUri){var n=t.h.servers[i];n&&(e.licenseServerUri=n)}e.keyIds||(e.keyIds=[]),(i=t.h.advanced[i])&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=i.persistentStateRequired),e.videoRobustness||(e.videoRobustness=i.videoRobustness),e.audioRobustness||(e.audioRobustness=i.audioRobustness),e.serverCertificate||(e.serverCertificate=i.serverCertificate))}}function _t(e){if(z(e.h.clearKeys))return null;var i,n=[],r=[];for(i in e.h.clearKeys){var a=e.h.clearKeys[i],o=ut(i),a=ut(a),o={kty:"oct",kid:st(o,!1),k:st(a,!1)};n.push(o),r.push(o.kid)}return e=JSON.stringify({keys:n}),r=JSON.stringify({kids:r}),r=[{initData:new Uint8Array(it(r)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:r,keyIds:[]}}function Et(t,e,i,n){var r=[],a=[],o=[],s=[];At(n,r,a,o,s),t.b={keySystem:e,licenseServerUri:r[0],distinctiveIdentifierRequired:"required"==i.distinctiveIdentifier,persistentStateRequired:"required"==i.persistentState,audioRobustness:i.audioCapabilities?i.audioCapabilities[0].robustness:"",videoRobustness:i.videoCapabilities?i.videoCapabilities[0].robustness:"",serverCertificate:a[0],initData:o,keyIds:s}}function At(t,e,i,n,r){function a(t,e){return!(!t.keyId||t.keyId!=e.keyId)||t.initDataType==e.initDataType&&dt(t.initData,e.initData)}t.forEach(function(t){if(-1==e.indexOf(t.licenseServerUri)&&e.push(t.licenseServerUri),t.serverCertificate&&-1==N(i,t.serverCertificate,dt)&&i.push(t.serverCertificate),t.initData&&t.initData.forEach(function(t){-1==N(n,t,a)&&n.push(t)}),t.keyIds)for(var o=0;o<t.keyIds.length;++o)-1==r.indexOf(t.keyIds[o])&&r.push(t.keyIds[o])})}function kt(t,e){try{var i=t.j.createSession("persistent-license")}catch(e){var n=new u(2,6,6005,e.message);return t.g(n),Promise.reject(n)}j(t.f,i,"message",t.wc.bind(t)),j(t.f,i,"keystatuseschange",t.qc.bind(t));var r={initData:null,ga:i,loaded:!1,Ib:1/0,na:null};return t.a.push(r),i.load(e).then(function(t){if(!this.c){if(t)return r.loaded=!0,this.a.every(function(t){return t.loaded})&&this.i.resolve(),i;this.a.splice(this.a.indexOf(r),1),this.g(new u(2,6,6013))}}.bind(t),function(t){this.c||(this.a.splice(this.a.indexOf(r),1),this.g(new u(2,6,6005,t.message)))}.bind(t))}function Tt(t,e,i){try{var n=t.X?t.j.createSession("persistent-license"):t.j.createSession()}catch(e){return void t.g(new u(2,6,6005,e.message))}j(t.f,n,"message",t.wc.bind(t)),j(t.f,n,"keystatuseschange",t.qc.bind(t)),t.a.push({initData:i,ga:n,loaded:!1,Ib:1/0,na:null}),n.generateRequest(e,i.buffer).catch(function(t){if(!this.c){for(var e=0;e<this.a.length;++e)if(this.a[e].ga==n){this.a.splice(e,1);break}this.g(new u(2,6,6006,t.message))}}.bind(t))}function wt(t,e){for(var i,n=e.target,r=0;r<t.a.length;r++)if(t.a[r].ga==n){i=t.a[r];break}r=x([t.b.licenseServerUri],t.h.retryParameters),r.body=e.message,r.method="POST","com.microsoft.playready"!=t.b.keySystem&&"com.chromecast.playready"!=t.b.keySystem||Ct(r),t.l.Ta.request(2,r).then(function(t){return this.c?Promise.reject():n.update(t.data).then(function(){this.l.onEvent(new Y("drmsessionupdate")),i&&(i.na&&i.na.resolve(),setTimeout(function(){i.loaded=!0,this.a.every(function(t){return t.loaded})&&this.i.resolve()}.bind(this),5e3))}.bind(this))}.bind(t),function(t){if(this.c)return Promise.resolve();t=new u(2,6,6007,t),this.g(t),i&&i.na&&i.na.reject(t)}.bind(t)).catch(function(t){if(this.c)return Promise.resolve();t=new u(2,6,6008,t.message),this.g(t),i&&i.na&&i.na.reject(t)}.bind(t))}function Ct(t){var e=tt(t.body,!0,!0);if(-1==e.indexOf("PlayReadyKeyMessage"))t.headers["Content-Type"]="text/xml; charset=utf-8";else{for(var e=(new DOMParser).parseFromString(e,"application/xml"),i=e.getElementsByTagName("HttpHeader"),n=0;n<i.length;++n)t.headers[i[n].querySelector("name").textContent]=i[n].querySelector("value").textContent;t.body=lt(e.querySelector("Challenge").textContent).buffer}}function St(){var t=[],e=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],i=[{videoCapabilities:e,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:e}],n={};return"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(e){var r=navigator.requestMediaKeySystemAccess(e,i).then(function(t){var i=t.getConfiguration().sessionTypes,i=!!i&&0<=i.indexOf("persistent-license");return 0<=navigator.userAgent.indexOf("Tizen 3")&&(i=!1),n[e]={persistentState:i},t.createMediaKeys()}).catch(function(){n[e]=null});t.push(r)}),Promise.all(t).then(function(){return n})}function Lt(t,e){var i=t.keySystem();return!e.drmInfos.length||e.drmInfos.some(function(t){return t.keySystem==i})}function Pt(t,e){if(!t.length)return e;if(!e.length)return t;for(var i=[],n=0;n<t.length;n++)for(var r=0;r<e.length;r++)if(t[n].keySystem==e[r].keySystem){var a=t[n],r=e[r],o=[],o=o.concat(a.initData||[]),o=o.concat(r.initData||[]),s=[],s=s.concat(a.keyIds),s=s.concat(r.keyIds);i.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||r.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||r.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||r.persistentStateRequired,videoRobustness:a.videoRobustness||r.videoRobustness,audioRobustness:a.audioRobustness||r.audioRobustness,serverCertificate:a.serverCertificate||r.serverCertificate,initData:o,keyIds:s});break}return i}function Ot(t){return!t||1==t.length&&1e-6>t.end(0)-t.start(0)?null:t.length?t.end(t.length-1):null}function Rt(t,e){return!(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))&&(e>=t.start(0)&&e<=t.end(t.length-1))}function It(t,e){if(!t||!t.length||1==t.length&&1e-6>t.end(0)-t.start(0))return 0;for(var i=0,n=t.length-1;0<=n&&t.end(n)>e;--n)i+=t.end(n)-Math.max(t.start(n),e);return i}function xt(t){if(!t)return[];for(var e=[],i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e}function Dt(t){this.f=null,this.c=t,this.h=this.i=0,this.g=1/0,this.b=this.a=null}function Mt(t,e){e.length?(s("The use of stateless text parsers is deprecated."),as[t]=Bt.bind(null,e)):as[t]=e}function Nt(t,e,i,n){return Promise.resolve().then(function(){if(this.f&&this.c)if(null==i||null==n)this.f.parseInit(e);else{var t=this.f.parseMedia(e,{periodStart:this.i,segmentStart:i,segmentEnd:n}).filter(function(t){return t.startTime>=this.h&&t.startTime<this.g}.bind(this));this.c.append(t),null==this.a&&(this.a=Math.max(i,this.h)),this.b=Math.min(n,this.g)}}.bind(t))}function Bt(t){this.Ua=t}function Ft(t,e,i){this.g=t,this.f=e,this.j=i,this.b={},this.a=null,this.c={},this.h=new U,this.i=!1}function Ut(){var t={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="av1",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",video/mp2t; codecs="mp4a.40.2",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(e){t[e]=!!as[e]||MediaSource.isTypeSupported(e);var i=e.split(";")[0];t[i]=t[i]||t[e]}),t}function jt(t,e){t.a||(t.a=new Dt(t.j)),t.a.f=new as[e]}function Gt(t,e){if("text"==e)var i=t.a.a;else i=Vt(t,e),i=!i||1==i.length&&1e-6>i.end(0)-i.start(0)?null:1==i.length&&0>i.start(0)?0:i.length?i.start(0):null;return i}function Vt(t,e){try{return t.b[e].buffered}catch(t){return null}}function Ht(t,e,i,n,r){return"text"==e?Nt(t.a,i,n,r):$t(t,e,t.Ce.bind(t,e,i))}function Yt(t,e){return"text"==e?t.a.remove(0,1/0):$t(t,e,t.Cc.bind(t,e,0,t.f.duration))}function Kt(t,e,i,n,r){return"text"==e?(t.a.i=i,t=t.a,t.h=n,t.g=r,Promise.resolve()):Promise.all([$t(t,e,t.Rc.bind(t,e)),$t(t,e,t.te.bind(t,e,i)),$t(t,e,t.qe.bind(t,e,n,r))])}function $t(t,e,i){if(t.i)return Promise.reject();if(i={start:i,p:new b},t.c[e].push(i),1==t.c[e].length)try{i.start()}catch(n){"QuotaExceededError"==n.name?i.p.reject(new u(2,3,3017,e)):i.p.reject(new u(2,3,3015,n)),Wt(t,e)}return i.p}function zt(t,e){if(t.i)return Promise.reject();var i,n=[];for(i in t.b){var r=new b,a={start:function(t){t.resolve()}.bind(null,r),p:r};t.c[i].push(a),n.push(r),1==t.c[i].length&&a.start()}return Promise.all(n).then(function(){var t;try{e()}catch(t){var i=Promise.reject(new u(2,3,3015,t))}for(t in this.b)Wt(this,t);return i}.bind(t),function(){return Promise.reject()}.bind(t))}function Wt(t,e){t.c[e].shift();var i=t.c[e][0];if(i)try{i.start()}catch(n){i.p.reject(new u(2,3,3015,n)),Wt(t,e)}}function qt(t,e,i){return i==e||t>=os&&i==e.split("-")[0]||t>=ss&&i.split("-")[0]==e.split("-")[0]}function Xt(t){t=t.toLowerCase().split("-");var e=ls[t[0]];return e&&(t[0]=e),t.join("-")}function Zt(t,e,i){var n=t.video;return!(n&&(n.width<e.minWidth||n.width>e.maxWidth||n.width>i.width||n.height<e.minHeight||n.height>e.maxHeight||n.height>i.height||n.width*n.height<e.minPixels||n.width*n.height>e.maxPixels)||t.bandwidth<e.minBandwidth||t.bandwidth>e.maxBandwidth)}function Qt(t,e,i){var n=!1;return t.variants.forEach(function(t){var r=t.allowedByApplication;t.allowedByApplication=Zt(t,e,i),r!=t.allowedByApplication&&(n=!0)}),n}function Jt(t,e,i){var n=e.video,r=e.audio;for(e=0;e<i.variants.length;++e){var a=i.variants[e],o=t,s=r,l=n;(o&&o.L&&!Lt(o,a)?0:te(a.audio,o,s)&&te(a.video,o,l))||(i.variants.splice(e,1),--e)}for(e=0;e<i.textStreams.length;++e)t=i.textStreams[e],as[Q(t.mimeType,t.codecs)]||(i.textStreams.splice(e,1),--e)}function te(t,e,i){if(!t)return!0;var n=null;e&&e.L&&(n=e.v),e=Q(t.mimeType,t.codecs);var r,a=t.mimeType;for(r in rs){var o=t[r],s=rs[r];o&&(a+="; "+s+'="'+o+'"')}return!(!as[Q(t.mimeType,t.codecs)]&&!MediaSource.isTypeSupported(a)||n&&t.encrypted&&0>n.indexOf(e)||i&&(t.mimeType!=i.mimeType||t.codecs.split(".")[0]!=i.codecs.split(".")[0]))}function ee(t,e,i){var n=null;return ae(t.variants).map(function(t){var r;r=t.video&&t.audio?i==t.video.id&&e==t.audio.id:t.video&&i==t.video.id||t.audio&&e==t.audio.id;var a="";t.video&&(a+=t.video.codecs),t.audio&&(""!=a&&(a+=", "),a+=t.audio.codecs,n=t.audio.label);var o=t.audio?t.audio.codecs:null,s=t.video?t.video.codecs:null,l=null;t.video?l=t.video.mimeType:t.audio&&(l=t.audio.mimeType);var u=null;t.audio?u=t.audio.kind:t.video&&(u=t.video.kind);var c=M((t.audio?t.audio.roles:[]).concat(t.video?t.video.roles:[]));return{id:t.id,active:r,type:"variant",bandwidth:t.bandwidth,language:t.language,label:n,kind:u||null,width:t.video?t.video.width:null,height:t.video?t.video.height:null,frameRate:t.video?t.video.frameRate:void 0,mimeType:l,codecs:a,audioCodec:o,videoCodec:s,primary:t.primary,roles:c,videoId:t.video?t.video.id:null,audioId:t.audio?t.audio.id:null,channelsCount:t.audio?t.audio.channelsCount:null,audioBandwidth:t.audio&&t.audio.bandwidth?t.audio.bandwidth:null,videoBandwidth:t.video&&t.video.bandwidth?t.video.bandwidth:null}})}function ie(t,e){return t.textStreams.map(function(t){return{id:t.id,active:e==t.id,type:"text",language:t.language,label:t.label,kind:t.kind,mimeType:t.mimeType,codecs:t.codecs||null,audioCodec:null,videoCodec:null,primary:t.primary,roles:t.roles,channelsCount:null,audioBandwidth:null,videoBandwidth:null}})}function ne(t,e){for(var i=0;i<t.variants.length;i++)if(t.variants[i].id==e.id)return t.variants[i];return null}function re(t,e){for(var i=0;i<t.textStreams.length;i++)if(t.textStreams[i].id==e.id)return t.textStreams[i];return null}function ae(t){return t.filter(function(t){return t.allowedByApplication&&t.allowedByKeySystem})}function oe(t,e,i,n){var r=ae(t.variants),a=r.filter(function(t){return t.primary});a.length||(a=r);var o=a.length?a[0].language:"",a=a.filter(function(t){return t.language==o});if(e){var s=Xt(e);[ss,os,0].forEach(function(t){var e=!1;r.forEach(function(i){s=Xt(s);var r=Xt(i.language);qt(t,s,r)&&(e?a.push(i):(a=[i],e=!0),n&&(n.audio=!0))})})}return i&&(t=le(a,i),t.length)?t:(t=a.map(function(t){return(t.audio?t.audio.roles:[]).concat(t.video?t.video.roles:[])}).reduce(L,[]),t.length?le(a,t[0]):a)}function se(t,e,i,n){var r=t.textStreams,a=r.filter(function(t){return t.primary});a.length||(a=r);var o=a.length?a[0].language:"",a=a.filter(function(t){return t.language==o});if(e){var s=Xt(e);[ss,os,0].forEach(function(t){var e=!1;r.forEach(function(i){var r=Xt(i.language);qt(t,s,r)&&(e?a.push(i):(a=[i],e=!0),n&&(n.text=!0))})})}return i&&(t=ue(a,i),t.length)?t:(t=a.map(function(t){return t.roles}).reduce(L,[]),t.length?ue(a,t[0]):a)}function le(t,e){return t.filter(function(t){return t.audio&&0<=t.audio.roles.indexOf(e)||t.video&&0<=t.video.roles.indexOf(e)})}function ue(t,e){return t.filter(function(t){return 0<=t.roles.indexOf(e)})}function ce(t,e,i){for(var n=0;n<i.length;n++)if(i[n].audio==t&&i[n].video==e)return i[n];return null}function de(t,e,i){function n(t,e){return null==t?null==e:e.id==t}for(var r=0;r<i.length;r++)if(n(t,i[r].audio)&&n(e,i[r].video))return i[r];return null}function he(t,e){for(var i=t.periods.length-1;0<i;--i)if(e+ns>=t.periods[i].startTime)return i;return 0}function pe(t,e){for(var i=0;i<t.periods.length;++i){var n=t.periods[i];if("text"==e.type){for(var r=0;r<n.textStreams.length;++r)if(n.textStreams[r]==e)return i}else for(r=0;r<n.variants.length;++r){var a=n.variants[r];if(a.audio==e||a.video==e||a.video&&a.video.trickModeVideo==e)return i}}return-1}function fe(){this.h=null,this.c=!1,this.b=new o,this.g=[],this.i=!1,this.a=this.f=null}function ye(t,e){return e.filter(function(e){return Zt(e,t,{width:1/0,height:1/0})}).sort(function(t,e){return t.bandwidth-e.bandwidth})}function ge(t){return JSON.stringify(t,function(t,e){if("manager"!=t&&"function"!=typeof e){if(e instanceof Event||e instanceof Y){var i,n={};for(i in e){var r=e[i];r&&"object"==typeof r?"detail"==i&&(n[i]=r):i in Event||(n[i]=r)}return n}if(e instanceof TimeRanges)for(n={__type__:"TimeRanges",length:e.length,start:[],end:[]},i=0;i<e.length;++i)n.start.push(e.start(i)),n.end.push(e.end(i));else n="number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:0>e?"-Infinity":"Infinity":e;return n}})}function ve(t){return JSON.parse(t,function(t,e){return"NaN"==e?NaN:"-Infinity"==e?-1/0:"Infinity"==e?1/0:e&&"object"==typeof e&&"TimeRanges"==e.__type__?me(e):e})}function me(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}function be(t,e,i,n,r,a){this.L=t,this.g=e,this.P=i,this.j=!1,this.D=n,this.G=r,this.B=a,this.b=this.h=!1,this.C="",this.i=null,this.m=this.oc.bind(this),this.o=this.Ed.bind(this),this.a={video:{},player:{}},this.v=0,this.c={},this.f=null}function _e(t){var e=Es;e.removeUpdateListener(t.m),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.o)}function Ee(t){for(var e in t.c){var i=t.c[e];delete t.c[e],i.reject(new u(1,7,7e3))}}function Ae(t){t=ge(t),Es.sendMessage("urn:x-cast:com.google.shaka.v2",t,function(){},l)}function ke(){this.xb=new F,this.cb=this}function Te(t,e,i){ke.call(this),this.c=t,this.b=e,this.i=this.g=this.f=this.j=this.h=null,this.a=new be(i,this.xe.bind(this),this.ye.bind(this),this.ze.bind(this),this.Ae.bind(this),this.hc.bind(this)),we(this)}function we(t){t.a.init(),t.i=new U,us.forEach(function(t){j(this.i,this.c,t,this.Oe.bind(this))}.bind(t)),ps.forEach(function(t){j(this.i,this.b,t,this.$d.bind(this))}.bind(t)),t.h={};for(var e in t.c)Object.defineProperty(t.h,e,{configurable:!1,enumerable:!0,get:t.Ne.bind(t,e),set:t.Pe.bind(t,e)});t.j={};for(e in t.b)Object.defineProperty(t.j,e,{configurable:!1,enumerable:!0,get:t.Zd.bind(t,e)});t.f=new ke,t.f.cb=t.h,t.g=new ke,t.g.cb=t.j}function Ce(t,e,i,n){ke.call(this),this.a=t,this.b=e,this.j={video:t,player:e},this.m=i||function(){},this.o=n||function(t){return t},this.i=!1,this.f=!0,this.h=this.g=this.c=null,Se(this)}function Se(e){var i=cast.receiver.CastReceiverManager.getInstance();i.onSenderConnected=e.vc.bind(e),i.onSenderDisconnected=e.vc.bind(e),i.onSystemVolumeChanged=e.Zc.bind(e),e.g=i.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.g.onMessage=e.zd.bind(e),e.c=i.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.c.onMessage=e.Nd.bind(e),i.start(),us.forEach(function(t){this.a.addEventListener(t,this.yc.bind(this,"video"))}.bind(e)),ps.forEach(function(t){this.b.addEventListener(t,this.yc.bind(this,"player"))}.bind(e)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.b.Ub(3840,2160):e.b.Ub(1920,1080),e.b.addEventListener("loading",function(){this.f=!1,Le(this)}.bind(e)),e.a.addEventListener("playing",function(){this.f=!1,Le(this)}.bind(e)),e.a.addEventListener("pause",function(){Le(this)}.bind(e)),e.b.addEventListener("unloading",function(){this.f=!0,Le(this)}.bind(e)),e.a.addEventListener("ended",function(){t.setTimeout(function(){this.a&&this.a.ended&&(this.f=!0,Le(this))}.bind(this),5e3)}.bind(e))}function Le(t){Promise.resolve().then(function(){this.dispatchEvent(new Y("caststatuschanged")),Re(this,0)}.bind(t))}function Pe(t,e,i){for(var n in e.player)t.b[n](e.player[n]);t.m(i),i=Promise.resolve();var r=t.a.autoplay;e.manifest&&(t.a.autoplay=!1,i=t.b.load(e.manifest,e.startTime),i.catch(function(t){this.b.dispatchEvent(new Y("error",{detail:t}))}.bind(t))),i.then(function(){var t;for(t in e.video){var i=e.video[t];this.a[t]=i}for(t in e.playerAfterLoad)i=e.playerAfterLoad[t],this.b[t](i);this.a.autoplay=r,e.manifest&&(this.a.play(),Re(this,0))}.bind(t))}function Oe(t,e,i,n){t.i&&(t=ge(e),n?i.getCastChannel(n).send(t):i.broadcast(t))}function Re(t,e,i){var n=As,n={mediaSessionId:0,playbackRate:t.a.playbackRate,playerState:t.f?n.IDLE:t.b.Pa?n.Nc:t.a.paused?n.Oc:n.Pc,currentTime:t.a.currentTime,supportedMediaCommands:15,volume:{level:t.a.volume,muted:t.a.muted}};i&&(n.media=i),Oe(t,{requestId:e,type:"MEDIA_STATUS",status:[n]},t.g)}function Ie(t,e){var i=xe(t,e);return 1!=i.length?null:i[0]}function xe(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return t.tagName==e})}function De(t){var e=t.firstChild;return e&&e.nodeType==Node.TEXT_NODE?t.textContent.trim():null}function Me(t,e,i,n){var r=null;return t=t.getAttribute(e),null!=t&&(r=i(t)),null==r?void 0!=n?n:null:r}function Ne(t){return t?(/^\d+\-\d+\-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:Math.floor(t/1e3)):null}function Be(t){return t&&(t=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null}function Fe(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null}function Ue(t){return t=Number(t),t%1?null:t}function je(t){return t=Number(t),!(t%1)&&0<t?t:null}function Ge(t){return t=Number(t),!(t%1)&&0<=t?t:null}function Ve(t){var e;return t=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1]/e[2]):Number(t),isNaN(t)?null:t}function He(t,e,i){t=$e(t);var n=null,r=[],a=[],o=t.map(function(t){return t.keyId}).filter(O);if(o.length&&1<o.filter(R).length)throw new u(2,4,4010);i||(a=t.filter(function(t){return"urn:mpeg:dash:mp4protection:2011"!=t.Fc||(n=t.init||n,!1)}),a.length&&(r=Ke(n,e,a),r.length||(r=[$("",n)]))),!t.length||!i&&a.length||(r=W(ks).map(function(t){return $(t,n)}));var s=o[0]||null;return s&&r.forEach(function(t){t.initData.forEach(function(t){t.keyId=s})}),{cc:s,Ue:n,drmInfos:r,fc:!0}}function Ye(t,e,i,n){var r=He(t,e,n);if(i.fc)t=1==i.drmInfos.length&&!i.drmInfos[0].keySystem,e=!r.drmInfos.length,(!i.drmInfos.length||t&&!e)&&(i.drmInfos=r.drmInfos),i.fc=!1;else if(0<r.drmInfos.length&&(i.drmInfos=i.drmInfos.filter(function(t){return r.drmInfos.some(function(e){return e.keySystem==t.keySystem})}),!i.drmInfos.length))throw new u(2,4,4008);return r.cc||i.cc}function Ke(t,e,i){return i.map(function(i){var n=ks[i.Fc];return n?[$(n,i.init||t)]:e(i.node)||[]}).reduce(L,[])}function $e(t){return t.map(function(t){var e=t.getAttribute("schemeIdUri"),i=t.getAttribute("cenc:default_KID"),n=xe(t,"cenc:pssh").map(De);if(!e)return null;if(e=e.toLowerCase(),i&&(i=i.replace(/-/g,"").toLowerCase(),0<=i.indexOf(" ")))throw new u(2,4,4009);var r=[];try{r=n.map(function(t){return{initDataType:"cenc",initData:lt(t),keyId:null}})}catch(t){throw new u(2,4,4007)}return{node:t,Fc:e,keyId:i,init:0<r.length?r:null}}).filter(O)}function ze(e,i,n,r,a){null!=a&&(a=Math.round(a));var o={RepresentationID:i,Number:n,Bandwidth:r,Time:a};return e.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\$/g,function(e,i,n){if("$$"==e)return"$";var r=o[i];return null==r?e:("RepresentationID"==i&&n&&(n=void 0),e=r.toString(),n=t.parseInt(n,10)||1,Array(Math.max(0,n-e.length)+1).join("0")+e)})}function We(t,e){var i=qe(t,e,"timescale"),n=1;i&&(n=je(i)||1),i=qe(t,e,"duration"),(i=je(i||""))&&(i/=n);var r=qe(t,e,"startNumber"),a=Number(qe(t,e,"presentationTimeOffset"))||0,o=Ge(r||"");null!=r&&null!=o||(o=1);var s=Xe(t,e,"SegmentTimeline"),r=null;if(s){for(var r=n,l=t.T.duration||1/0,s=xe(s,"S"),u=[],c=0,d=0;d<s.length;++d){var h=s[d],p=Me(h,"t",Ge),f=Me(h,"d",Ge),h=Me(h,"r",Ue);if(null!=p&&(p-=a),!f)break;if(p=null!=p?p:c,0>(h=h||0))if(d+1<s.length){if(null==(h=Me(s[d+1],"t",Ge)))break;if(p>=h)break;h=Math.ceil((h-p)/f)-1}else{if(1/0==l)break;if(p/r>=l)break;h=Math.ceil((l*r-p)/f)-1}0<u.length&&p!=c&&(u[u.length-1].end=p/r);for(var y=0;y<=h;++y)c=p+f,u.push({start:p/r,end:c/r,Le:p}),p=c}r=u}return{timescale:n,R:i,ya:o,Z:a/n||0,Zb:a,I:r}}function qe(t,e,i){return[e(t.A),e(t.W),e(t.Y)].filter(O).map(function(t){return t.getAttribute(i)}).reduce(function(t,e){return t||e})}function Xe(t,e,i){return[e(t.A),e(t.W),e(t.Y)].filter(O).map(function(t){return Ie(t,i)}).reduce(function(t,e){return t||e})}function Ze(t,e){var i=new DOMParser;try{var n=J(t),r=i.parseFromString(n,"text/xml")}catch(t){}if(r&&r.documentElement.tagName==e)var a=r.documentElement;return a&&0<a.getElementsByTagName("parsererror").length?null:a}function Qe(t,e,i,n,r,a){for(var o=t.getAttribute("xlink:href"),s=t.getAttribute("xlink:actuate")||"onRequest",l=0;l<t.attributes.length;l++){var c=t.attributes[l].nodeName;-1!=c.indexOf("xlink:")&&(t.removeAttribute(c),--l)}if(5<=a)return Promise.reject(new u(2,4,4028));if("onLoad"!=s)return Promise.reject(new u(2,4,4027));var d=K([n],[o]);return r.request(0,x(d,e)).then(function(n){if(!(n=Ze(n.data,t.tagName)))return Promise.reject(new u(2,4,4001,o));for(;t.childNodes.length;)t.removeChild(t.childNodes[0]);for(;n.childNodes.length;){var s=n.childNodes[0];n.removeChild(s),t.appendChild(s)}for(s=0;s<n.attributes.length;s++){var l=n.attributes[s].nodeName,c=n.getAttribute(l);t.setAttribute(l,c)}return Je(t,e,i,d[0],r,a+1)}.bind(t))}function Je(t,e,i,n,r,a){if(a=a||0,t.getAttribute("xlink:href")){var o=Qe(t,e,i,n,r,a);return i&&(o=o.catch(function(){return Je(t,e,i,n,r,a)})),o}for(o=0;o<t.childNodes.length;o++){var s=t.childNodes[o];s instanceof Element&&"urn:mpeg:dash:resolve-to-zero:2013"==s.getAttribute("xlink:href")&&(t.removeChild(s),--o)}for(var l=[],o=0;o<t.childNodes.length;o++)s=t.childNodes[o],s.nodeType==Node.ELEMENT_NODE&&(s=Je(s,e,i,n,r,a),l.push(s));return Promise.all(l).then(function(){return t})}function ti(t,e,i){this.a=t,this.U=e,this.K=i}function ei(t,e,i,n,r,a){this.position=t,this.startTime=e,this.endTime=i,this.a=n,this.U=r,this.K=a}function ii(t,e){this.O=t,this.a=e==Ts,this.w=0}function ni(){throw new u(2,3,3e3)}function ri(t,e,i){var n=new Uint8Array(i-e);return n.set(new Uint8Array(t.O.buffer,e,i-e)),n.buffer}function ai(){this.b=[],this.a=[]}function oi(t){for(;t.u.ea();)t.Ua.rb(t.start,t.u)}function si(t){for(var e=t.u.F();0<e;--e)t.Ua.rb(t.start,t.u)}function li(t){return function(e){t(e.u.Ka(e.u.O.byteLength-e.u.w))}}function ui(t){for(var e=0,i=0;i<t.length;i++)e=e<<8|t.charCodeAt(i);return e}function ci(t,e,i,n){var r,a=(new ai).da("sidx",function(t){r=di(e,n,i,t)});if(t&&a.parse(t),r)return r;throw new u(2,3,3004)}function di(t,e,i,n){var r=[];n.u.J(4);var a=n.u.F();if(!a)throw new u(2,3,3005);if(n.version)var o=n.u.Wa(),s=n.u.Wa();else o=n.u.F(),s=n.u.F();n.u.J(2);var l=n.u.Ac();for(t=t+n.size+s,s=0;s<l;s++){var c=n.u.F(),d=(2147483648&c)>>>31,c=2147483647&c,h=n.u.F();if(n.u.J(4),1==d)throw new u(2,3,3006);r.push(new ei(r.length,o/a-e,(o+h)/a-e,function(){return i},t,t+c-1)),o+=h,t+=c}return r}function hi(t){this.a=t}function pi(t,e){for(var i;t.a.length&&(i=t.a[t.a.length-1],i.startTime>=e);)t.a.pop();for(;t.a.length&&(i=t.a[0],0>=i.endTime);)t.a.shift();t.a.length&&(i=t.a[0],i.startTime<ns&&(t.a[0]=new ei(i.position,0,i.endTime,i.a,i.U,i.K)),i=t.a[t.a.length-1],t.a[t.a.length-1]=new ei(i.position,i.startTime,e,i.a,i.U,i.K))}function fi(t){this.b=t,this.a=new ii(t,0),ws||(ws=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function yi(t){var e=gi(t);if(7<e.length)throw new u(2,3,3002);for(var i=0,n=0;n<e.length;n++)i=256*i+e[n];e=i,i=gi(t);t:{for(n=0;n<ws.length;n++)if(dt(i,ws[n])){n=!0;break t}n=!1}if(n)i=t.b.byteLength-t.a.w;else{if(8==i.length&&224&i[1])throw new u(2,3,3001);for(var n=i[0]&(1<<8-i.length)-1,r=1;r<i.length;r++)n=256*n+i[r];i=n}return i=t.a.w+i<=t.b.byteLength?i:t.b.byteLength-t.a.w,n=new DataView(t.b.buffer,t.b.byteOffset+t.a.w,i),t.a.J(i),new vi(e,n)}function gi(t){var e,i=t.a.Ob();for(e=1;8>=e&&!(i&1<<8-e);e++);if(8<e)throw new u(2,3,3002);var n=new Uint8Array(e);for(n[0]=i,i=1;i<e;i++)n[i]=t.a.Ob();return n}function vi(t,e){this.id=t,this.a=e}function mi(t){if(8<t.a.byteLength)throw new u(2,3,3002);if(8==t.a.byteLength&&224&t.a.getUint8(0))throw new u(2,3,3001);for(var e=0,i=0;i<t.a.byteLength;i++)var n=t.a.getUint8(i),e=256*e+n;return e}function bi(){}function _i(t,e,i,n,r,a){function o(){return r}var s=[];t=new fi(t.a);for(var l=null,u=null;t.ea();){var c=yi(t);if(187==c.id){var d=Ei(c);d&&(c=i*d.Me,d=e+d.ee,null!=l&&s.push(new ei(s.length,l-a,c-a,o,u,d-1)),l=c,u=d)}}return null!=l&&s.push(new ei(s.length,l-a,n-a,o,u,null)),s}function Ei(t){var e=new fi(t.a);if(t=yi(e),179!=t.id)throw new u(2,3,3013);if(t=mi(t),e=yi(e),183!=e.id)throw new u(2,3,3012);for(var e=new fi(e.a),i=0;e.ea();){var n=yi(e);if(241==n.id){i=mi(n);break}}return{Me:t,ee:i}}function Ai(t,e){var i=Xe(t,e,"Initialization");if(!i)return null;var n=t.A.$,r=i.getAttribute("sourceURL");r&&(n=K(t.A.$,[r]));var r=0,a=null;return(i=Me(i,"range",Fe))&&(r=i.start,a=i.end),new ti(function(){return n},r,a)}function ki(t,e){var i=Number(qe(t,wi,"presentationTimeOffset"))||0,n=qe(t,wi,"timescale"),r=1;n&&(r=je(n)||1);var i=i/r||0,n=Ai(t,wi),a=t.A.contentType,r=t.A.mimeType.split("/")[1];if("text"!=a&&"mp4"!=r&&"webm"!=r)throw new u(2,4,4006);if("webm"==r&&!n)throw new u(2,4,4005);var a=Xe(t,wi,"RepresentationIndex"),o=qe(t,wi,"indexRange"),s=t.A.$,o=Fe(o||"");if(a){var l=a.getAttribute("sourceURL");l&&(s=K(t.A.$,[l])),o=Me(a,"range",Fe,o)}if(!o)throw new u(2,4,4002);return r=Ti(t,e,n,s,o.start,o.end,r,i),{createSegmentIndex:r.createSegmentIndex,findSegmentPosition:r.findSegmentPosition,getSegmentReference:r.getSegmentReference,initSegmentReference:n,Z:i}}function Ti(t,e,i,n,r,a,o,s){var l=t.presentationTimeline,u=!t.Da||!t.T.Cb,c=t.T.duration,d=e,h=null;return{createSegmentIndex:function(){var t=[d(n,r,a),"webm"==o?d(i.a(),i.U,i.K):null];return d=null,Promise.all(t).then(function(t){var e=t[0];t=t[1]||null,e="mp4"==o?ci(e,r,n,s):(new bi).parse(e,t,n,s),l.Ha(0,e),h=new hi(e),u&&pi(h,c)})},findSegmentPosition:function(t){return h.find(t)},getSegmentReference:function(t){return h.get(t)}}}function wi(t){return t.Xa}function Ci(t,e){var i=Ai(t,Si),n=Pi(t),r=We(t,Si),a=r.ya;a||(a=1);var o=0;if(r.R?o=r.R*(a-1):r.I&&0<r.I.length&&(o=r.I[0].start),n={R:r.R,startTime:o,ya:a,Z:r.Z,I:r.I,Ga:n},!n.R&&!n.I&&1<n.Ga.length)throw new u(2,4,4002);if(!n.R&&!t.T.duration&&!n.I&&1==n.Ga.length)throw new u(2,4,4002);if(n.I&&!n.I.length)throw new u(2,4,4002);return a=r=null,t.Y.id&&t.A.id&&(a=t.Y.id+","+t.A.id,r=e[a]),o=Li(t.T.duration,n.ya,t.A.$,n),r?(r.pb(o),r.zb(t.presentationTimeline.ka()-t.T.start)):(t.presentationTimeline.Ha(0,o),r=new hi(o),a&&t.Da&&(e[a]=r)),t.Da&&t.T.Cb||pi(r,t.T.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:r.find.bind(r),getSegmentReference:r.get.bind(r),initSegmentReference:i,Z:n.Z}}function Si(t){return t.pa}function Li(t,e,i,n){var r=n.Ga.length;n.I&&n.I.length!=n.Ga.length&&(r=Math.min(n.I.length,n.Ga.length));for(var a=[],o=n.startTime,s=0;s<r;s++){var l=n.Ga[s],u=K(i,[l.ud]),c=null!=n.R?o+n.R:n.I?n.I[s].end:o+t;a.push(new ei(s+e,o,c,function(t){return t}.bind(null,u),l.start,l.end)),o=c}return a}function Pi(t){return[t.A.pa,t.W.pa,t.Y.pa].filter(O).map(function(t){return xe(t,"SegmentURL")}).reduce(function(t,e){return 0<t.length?t:e}).map(function(e){e.getAttribute("indexRange")&&!t.kc&&(t.kc=!0);var i=e.getAttribute("media");return e=Me(e,"mediaRange",Fe,{start:0,end:null}),{ud:i,start:e.start,end:e.end}})}function Oi(t,e,i,n){var r=Di(t),a=We(t,Ri),o=qe(t,Ri,"media"),s=qe(t,Ri,"index");if(a={R:a.R,timescale:a.timescale,ya:a.ya,Z:a.Z,Zb:a.Zb,I:a.I,Fb:o,Sa:s},o=0+(a.Sa?1:0),o+=a.I?1:0,!(o+=a.R?1:0))throw new u(2,4,4002);if(1!=o&&(a.Sa&&(a.I=null),a.R=null),!a.Sa&&!a.Fb)throw new u(2,4,4002);if(a.Sa){if("mp4"!=(i=t.A.mimeType.split("/")[1])&&"webm"!=i)throw new u(2,4,4006);if("webm"==i&&!r)throw new u(2,4,4005);n=ze(a.Sa,t.A.id,null,t.bandwidth||null,null),n=K(t.A.$,[n]),t=Ti(t,e,r,n,0,null,i,a.Z)}else a.R?(n||t.presentationTimeline.Gb(a.R),t=Ii(t,a)):(n=e=null,t.Y.id&&t.A.id&&(n=t.Y.id+","+t.A.id,e=i[n]),o=xi(t,a),e?(e.pb(o),e.zb(t.presentationTimeline.ka()-t.T.start)):(t.presentationTimeline.Ha(0,o),e=new hi(o),n&&t.Da&&(i[n]=e)),t.Da&&t.T.Cb||pi(e,t.T.duration),t={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e)});return{createSegmentIndex:t.createSegmentIndex,findSegmentPosition:t.findSegmentPosition,getSegmentReference:t.getSegmentReference,initSegmentReference:r,Z:a.Z}}function Ri(t){return t.Ya}function Ii(t,e){var i=t.T.duration,n=e.R,r=e.ya,a=e.timescale,o=e.Fb,s=t.bandwidth||null,l=t.A.id,u=t.A.$;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0>t||i&&t>=i?null:Math.floor(t/n)},getSegmentReference:function(t){var e=t*n;return 0>e||i&&e>=i?null:new ei(t,e,e+n,function(){var i=ze(o,l,t+r,s,e*a);return K(u,[i])},0,null)}}}function xi(t,e){for(var i=[],n=0;n<e.I.length;n++){var r=n+e.ya;i.push(new ei(r,e.I[n].start,e.I[n].end,function(t,e,i,n,r,a){return t=ze(t,e,r,i,a),K(n,[t]).map(function(t){return t.toString()})}.bind(null,e.Fb,t.A.id,t.bandwidth||null,t.A.$,r,e.I[n].Le+e.Zb),0,null))}return i}function Di(t){var e=qe(t,Ri,"initialization");if(!e)return null;var i=t.A.id,n=t.bandwidth||null,r=t.A.$;return new ti(function(){var t=ze(e,i,null,n,null);return K(r,[t])},0,null)}function Mi(){var t,e={};for(t in Cs)e[t]=!0;for(t in Ss)e[t]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(t){e[t]=!!Cs[t]}),["mpd","m3u8","ism"].forEach(function(t){e[t]=!!Ss[t]}),e}function Ni(t,e,i,n){var r=n;return r||(n=new c(t).ca.split("/").pop().split("."),1<n.length&&(n=n.pop().toLowerCase(),r=Ss[n])),r?Promise.resolve(r):(i=x([t],i),i.method="HEAD",e.request(0,i).then(function(e){return(e=e.headers["content-type"])&&(e=e.toLowerCase()),(r=Cs[e])?r:Promise.reject(new u(2,4,4e3,t))},function(t){return t.severity=2,Promise.reject(t)}))}function Bi(t,e){this.c=t,this.j=e,this.f=this.a=1/0,this.b=1,this.i=0,this.h=!0,this.g=0}function Fi(){this.l=this.a=null,this.f=[],this.b=null,this.h=[],this.g=1,this.i={},this.j=0,this.c=null}function Ui(t){return t.l.networkingEngine.request(0,x(t.f,t.a.retryParameters),function(){return!this.l}.bind(t)).then(function(t){if(this.l)return ji(this,t.data,t.uri)}.bind(t))}function ji(t,e,i){if(!(e=Ze(e,"MPD")))throw new u(2,4,4001,i);return Je(e,t.a.retryParameters,t.a.dash.xlinkFailGracefully,i,t.l.networkingEngine).then(function(t){return Gi(this,t,i)}.bind(t))}function Gi(t,e,i){i=[i];var n=xe(e,"Location").map(De).filter(O);0<n.length&&(i=t.f=n),n=xe(e,"BaseURL").map(De),i=K(i,n);var r=Me(e,"minBufferTime",Be);t.j=Me(e,"minimumUpdatePeriod",Be,-1);var a=Me(e,"availabilityStartTime",Ne),n=Me(e,"timeShiftBufferDepth",Be),o=Me(e,"suggestedPresentationDelay",Be),s=Me(e,"maxSegmentDuration",Be),l=e.getAttribute("type")||"static";if(t.b)var u=t.b.presentationTimeline;else{var c=Math.max(10,1.5*r);u=new Bi(a,null!=o?o:c)}var a=Vi(t,{Da:"static"!=l,presentationTimeline:u,Y:null,T:null,W:null,A:null,bandwidth:0,kc:!1},i,e),o=a.duration,d=a.periods;return u.sb("static"==l),"static"!=l&&a.dc||u.ha(o||1/0),u.Kc(null!=n?n:1/0),u.Gb(s||1),t.b?Promise.resolve():(e=xe(e,"UTCTiming"),Zi(t,i,e,u.S()).then(function(t){this.l&&(u.Ic(t),this.b={presentationTimeline:u,periods:d,offlineSessionIds:[],minBufferTime:r||0})}.bind(t)))}function Vi(t,e,i,n){var r=Me(n,"mediaPresentationDuration",Be),a=[],o=0;n=xe(n,"Period");for(var s=0;s<n.length;s++){var l=n[s],o=Me(l,"start",Be,o),u=Me(l,"duration",Be),c=null;if(s!=n.length-1){var d=Me(n[s+1],"start",Be);null!=d&&(c=d-o)}else null!=r&&(c=r-o);if(null==c&&(c=u),l=Hi(t,e,i,{start:o,duration:c,node:l,Cb:null==c||s==n.length-1}),a.push(l),u=e.Y.id,-1==t.h.indexOf(u)&&(t.h.push(u),t.b&&(t.l.filterNewPeriod(l),t.b.periods.push(l))),null==c){o=null;break}o+=c}return t.b||t.l.filterAllPeriods(a),null!=r?{periods:a,duration:r,dc:!1}:{periods:a,duration:o,dc:!0}}function Hi(t,e,i,n){e.Y=zi(n.node,null,i),e.T=n,e.Y.id||(e.Y.id="__shaka_period_"+n.start),xe(n.node,"EventStream").forEach(t.Xd.bind(t,n.start,n.duration)),i=xe(n.node,"AdaptationSet").map(t.Vd.bind(t,e)).filter(O);var r=i.map(function(t){return t.ge}).reduce(L,[]),a=r.filter(R);if(e.Da&&r.length!=a.length)throw new u(2,4,4018);var o=i.filter(function(t){return!t.Yb});if(i.filter(function(t){return t.Yb}).forEach(function(t){var e=t.streams[0],i=t.Yb;o.forEach(function(t){t.id==i&&t.streams.forEach(function(t){t.trickModeVideo=e})})}),r=Yi(o,"video"),a=Yi(o,"audio"),!r.length&&!a.length)throw new u(2,4,4004);for(a.length||(a=[null]),r.length||(r=[null]),e=[],i=0;i<a.length;i++)for(var s=0;s<r.length;s++)Ki(t,a[i],r[s],e);for(t=Yi(o,"text"),r=[],i=0;i<t.length;i++)r.push.apply(r,t[i].streams);return{startTime:n.start,textStreams:r,variants:e}}function Yi(t,e){return t.filter(function(t){return t.contentType==e})}function Ki(t,e,i,n){if(e||i)if(e&&i){var r=e.drmInfos,a=i.drmInfos;if(r.length&&a.length?0<Pt(r,a).length:1)for(var o=Pt(e.drmInfos,i.drmInfos),r=0;r<e.streams.length;r++)for(var s=0;s<i.streams.length;s++)a=(i.streams[s].bandwidth||0)+(e.streams[r].bandwidth||0),a={id:t.g++,language:e.language,primary:e.Eb||i.Eb,audio:e.streams[r],video:i.streams[s],bandwidth:a,drmInfos:o,allowedByApplication:!0,allowedByKeySystem:!0},n.push(a)}else for(o=e||i,r=0;r<o.streams.length;r++)a=o.streams[r].bandwidth||0,a={id:t.g++,language:o.language||"und",primary:o.Eb,audio:e?o.streams[r]:null,video:i?o.streams[r]:null,bandwidth:a,drmInfos:o.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},n.push(a)}function $i(e,i){0>e.j||(e.c=t.setTimeout(e.Be.bind(e),1e3*Math.max(Math.max(3,e.j)-i,0)))}function zi(t,e,i){e=e||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0,Hb:null},i=i||e.$;var n=xe(t,"BaseURL").map(De),r=t.getAttribute("contentType")||e.contentType,a=t.getAttribute("mimeType")||e.mimeType,o=t.getAttribute("codecs")||e.codecs,s=Me(t,"frameRate",Ve)||e.frameRate,l=!!xe(t,"InbandEventStream").length,u=xe(t,"AudioChannelConfiguration"),u=Wi(u)||e.Hb;return r||(r=Qi(a,o)),{$:K(i,n),Xa:Ie(t,"SegmentBase")||e.Xa,pa:Ie(t,"SegmentList")||e.pa,Ya:Ie(t,"SegmentTemplate")||e.Ya,width:Me(t,"width",Ge)||e.width,height:Me(t,"height",Ge)||e.height,contentType:r,mimeType:a,codecs:o,frameRate:s,containsEmsgBoxes:l||e.containsEmsgBoxes,id:t.getAttribute("id"),Hb:u}}function Wi(t){for(var e=0;e<t.length;++e){var i=t[e],n=i.getAttribute("schemeIdUri");if(n&&(i=i.getAttribute("value")))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return i.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(n=parseInt(i,10)))continue;return n;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=parseInt(i,16)){for(t=0;n;)1&n&&++t,n>>=1;return t}}}return null}function qi(t){var e=0+(t.Xa?1:0);return e+=t.pa?1:0,(e+=t.Ya?1:0)?(1!=e&&(t.Xa&&(t.pa=null),t.Ya=null),!0):"text"==t.contentType||"application"==t.contentType}function Xi(t,e,i,n){return e=K(e,[i]),e=x(e,t.a.retryParameters),e.method=n,t.l.networkingEngine.request(0,e).then(function(t){if("HEAD"==n){if(!t.headers||!t.headers.date)return 0;t=t.headers.date}else t=J(t.data);return t=Date.parse(t),isNaN(t)?0:t-Date.now()})}function Zi(t,e,i,n){i=i.map(function(t){return{scheme:t.getAttribute("schemeIdUri"),value:t.getAttribute("value")}});var r=t.a.dash.clockSyncUri;return n&&!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),S(i,function(t){var i=t.value;switch(t.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Xi(this,e,i,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Xi(this,e,i,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return t=Date.parse(i),isNaN(t)?0:t-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:return Promise.reject()}}.bind(t)).catch(function(){return 0})}function Qi(t,e){return as[Q(t,e)]?"text":t.split("/")[0]}function Ji(t,e,i,n){this.uri=t,this.type=e,this.V=i,this.segments=n||null}function tn(t,e,i,n){this.id=t,this.name=e,this.a=i,this.value=n||null}function en(t,e){this.name=t,this.value=e}function nn(t,e,i){return i=i||null,(t=t.getAttribute(e))?t.value:i}function rn(t,e){this.V=e,this.uri=t}function an(t,e){return t.filter(function(t){return t.name==e})}function on(t,e){var i=an(t,e);return i.length?i[0]:null}function sn(t,e,i){return t.filter(function(t){var n=t.getAttribute("TYPE");return t=t.getAttribute("GROUP-ID"),n.value==e&&t.value==i})}function ln(t){this.b=t,this.a=0}function un(t,e){e.lastIndex=t.a;var i=(i=e.exec(t.b))?{position:i.index,length:i[0].length,je:i}:null;return t.a!=t.b.length&&i&&i.position==t.a?(t.a+=i.length,i.je):null}function cn(t){return t.a==t.b.length?null:(t=un(t,/[^ \t\n]*/gm))?t[0]:null}function dn(){this.a=0}function hn(t,e,i){e=J(e),e=e.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var n=e.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new u(2,4,4015);e=0;for(var r=[],a=1;a<n.length;)if(/^#(?!EXT)/m.test(n[a]))a+=1;else{var o=n[a];if(o=fn(t.a++,o),0<=Ls.indexOf(o.name))e=1;else if(0<=Ps.indexOf(o.name)){if(1!=e)throw new u(2,4,4017);return n=n.splice(a,n.length-a),t=pn(t,n,r),new Ji(i,e,r,t)}r.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new en("URI",n[a])),a+=1)}return new Ji(i,e,r)}function pn(t,e,i){var n=[],r=[];return e.forEach(function(t){/^(#EXT)/.test(t)?(t=fn(this.a++,t),0<=Ls.indexOf(t.name)?i.push(t):r.push(t)):/^#(?!EXT)/m.test(t)||(n.push(new rn(t.trim(),r)),r=[])}.bind(t)),n}function fn(t,e){var i=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!i)throw new u(2,4,4016);var n=i[1],r=i[2],i=[];if(r&&0<=r.indexOf("="))for(var a,r=new ln(r),o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=un(r,o);)i.push(new en(a[1],a[2]||a[3]));else if(r)return new tn(t,n,i,r);return new tn(t,n,i)}function yn(t){return new Promise(function(e){var i=yn.parse(t);e({uri:t,data:i.data,headers:{"content-type":i.contentType}})})}function gn(){this.g=this.l=null,this.D=1,this.f={},this.C={},this.i={},this.o={},this.a=null,this.m="",this.v=new dn,this.h=this.b=null,this.c=!1,this.B=null,this.j=0}function vn(t,e,i){Un(t,i).then(function(t){if(t=hn(this.v,t.data,t.uri),1!=t.type)throw new u(2,4,4017);for(var i=on(t.V,"EXT-X-MEDIA-SEQUENCE"),i=Rn(this,t,i?Number(i.value):0),n=e.Db,r=[],a=n.endTime,o=0;o<i.length;o++){var s=i[o];if(s.position>n.position){var l=s.endTime-s.startTime,c=a,d=a+l,a=a+l;r.push(new ei(s.position,c,d,s.a,s.U,s.K))}}i=r,e.le.pb(i),i.length&&(e.Db=i[i.length-1]),on(t.V,"EXT-X-ENDLIST")&&(t=e.Db.endTime,Gn(this,!1),this.a.ha(t))}.bind(t))}function mn(t,e,i){if(e=hn(t.v,e,i),0!=e.type)throw new u(2,4,4022);return bn(t,e).then(function(t){this.l.filterAllPeriods([t]),this.c&&this.a.Jc(3*this.j),this.B={presentationTimeline:this.a,periods:[t],offlineSessionIds:[],minBufferTime:0}}.bind(t))}function bn(t,e){var i=e.V,n=an(e.V,"EXT-X-MEDIA").filter(function(t){return"SUBTITLES"==Bn(t,"TYPE")}.bind(t)).map(function(t){return kn(this,t,e)}.bind(t));return Promise.all(n).then(function(t){var n=an(i,"EXT-X-STREAM-INF").map(function(t){return _n(this,t,e)}.bind(this));return Promise.all(n).then(function(e){return e=e.reduce(L,[]),this.c||In(this,e),{startTime:0,variants:e,textStreams:t}}.bind(this))}.bind(t))}function _n(t,e,i){var n=nn(e,"CODECS","avc1.42E01E,mp4a.40.2").split(","),r=e.getAttribute("RESOLUTION"),a=null,o=null,s=nn(e,"FRAME-RATE"),l=Number(Bn(e,"BANDWIDTH"));if(r)var u=r.value.split("x"),a=u[0],o=u[1];var c=Nn(t,i);i=an(i.V,"EXT-X-MEDIA");var d=nn(e,"AUDIO"),h=nn(e,"VIDEO");if(d?i=sn(i,"AUDIO",d):h&&(i=sn(i,"VIDEO",h)),u=xn("text",n)){var p=nn(e,"SUBTITLES");p&&(p=sn(i,"SUBTITLES",p),p.length&&(t.f[p[0].id].stream.codecs=u)),n.splice(n.indexOf(u),1)}i=i.map(function(t){return Tn(this,t,n,c)}.bind(t));var f=[],y=[];return Promise.all(i).then(function(t){if(d?f=t:h&&(y=t),f.length||y.length)if(f.length)if(Bn(e,"URI")==f[0].Rb){t="audio";var i=!0}else t="video";else t="audio";else i=!1,1==n.length?(t=xn("video",n),t=r||s||t?"video":"audio"):(t="video",n=[n.join(",")]);return i?Promise.resolve():Cn(this,e,n,t,c)}.bind(t)).then(function(t){return t&&("audio"==t.stream.type?f=[t]:y=[t]),En(this,f,y,l,a,o,s)}.bind(t))}function En(t,e,i,n,r,a,o){i.forEach(function(t){(t=t.stream)&&(t.width=Number(r)||void 0,t.height=Number(a)||void 0,t.frameRate=Number(o)||void 0)}.bind(t)),e.length||(e=[null]),i.length||(i=[null]);for(var s=[],l=0;l<e.length;l++)for(var u=0;u<i.length;u++){var c=e[l]?e[l].stream:null,d=i[u]?i[u].stream:null,h=e[l]?e[l].drmInfos:null,p=i[u]?i[u].drmInfos:null;if(c&&d){if(!(h.length&&p.length?0<Pt(h,p).length:1))continue;var f=Pt(h,p)}else c?f=h:d&&(f=p);h=(i[l]?i[l].Rb:"")+" - "+(e[l]?e[l].Rb:""),t.C[h]||(c=An(t,c,d,n,f),s.push(c),t.C[h]=c)}return s}function An(t,e,i,n,r){return{id:t.D++,language:e?e.language:"und",primary:!!e&&e.primary||!!i&&i.primary,audio:e,video:i,bandwidth:n,drmInfos:r,allowedByApplication:!0,allowedByKeySystem:!0}}function kn(t,e,i){return Bn(e,"TYPE"),i=Nn(t,i),Tn(t,e,[],i).then(function(t){return t.stream})}function Tn(t,e,i,n){if(t.f[e.id])return Promise.resolve().then(function(){return this.f[e.id]}.bind(t));var r=Bn(e,"TYPE").toLowerCase();"subtitles"==r&&(r="text");var a=Xt(nn(e,"LANGUAGE","und")),o=nn(e,"NAME"),s=e.getAttribute("DEFAULT"),l=e.getAttribute("AUTOSELECT"),u=nn(e,"CHANNELS"),u="audio"==r?wn(u):null,c=Bn(e,"URI"),c=K([t.m],[c])[0];return Sn(t,c,i,r,n,a,!!s||!!l,o,u).then(function(t){return this.f[e.id]=t,this.o[c]=t}.bind(t))}function wn(t){return t?(t=t.split("/")[0],parseInt(t,10)):null}function Cn(t,e,i,n,r){var a=Bn(e,"URI"),a=K([t.m],[a])[0];return Sn(t,a,i,n,r,"und",!1,null,null).then(function(t){return this.o[a]=t}.bind(t))}function Sn(t,e,i,n,r,a,o,s,l){var c=e;return e=K([t.m],[e])[0],Un(t,e).then(function(t){if(t=hn(this.v,t.data,t.uri),1!=t.type)throw new u(2,4,4017);var e=on(t.V,"EXT-X-MEDIA-SEQUENCE"),d=Rn(this,t,e?Number(e.value):0),h=new hi(d);Ln(this,t),this.a||Pn(this,d[d.length-1].endTime),r=Nn(this,t)||r;var p=null;if("text"!=n&&(p=On(t)),this.a.Ha(0,d),!this.c){var e=d[d.length-1].endTime-d[0].startTime,f=this.a.aa();(1/0==f||f<e)&&this.a.ha(e)}var y=Dn(n,i),g=void 0;"text"==n&&(g="subtitle");var v=[];t.segments.forEach(function(t){t=an(t.V,"EXT-X-KEY"),v.push.apply(v,t)});var m=!1,b=[],_=null;if(v.forEach(function(t){if("NONE"!=Bn(t,"METHOD")){m=!0;var e=Bn(t,"KEYFORMAT");(t=(e=Is[e])?e(t):null)&&(t.keyIds.length&&(_=t.keyIds[0]),b.push(t))}}),m&&!b.length)throw new u(2,4,4026);return Mn(this,n,y,d[0].a()[0]).then(function(t){return t={id:this.D++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:h.find.bind(h),getSegmentReference:h.get.bind(h),initSegmentReference:p,presentationTimeOffset:r||0,mimeType:t,codecs:y,kind:g,encrypted:m,keyId:_,language:a,label:s||null,type:n,primary:o,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:l},this.i[t.id]=h,{stream:t,le:h,drmInfos:b,Rb:c,Db:d[d.length-1]}}.bind(this))}.bind(t))}function Ln(t,e){var i=on(e.V,"EXT-X-PLAYLIST-TYPE");if(on(e.V,"EXT-X-ENDLIST")||i&&"VOD"==i.value)Gn(t,!1);else{if(!i)throw new u(2,4,4029);i=Fn(e.V,"EXT-X-TARGETDURATION"),i=Number(i.value),t.b?t.b>i&&(t.b=i):(Gn(t,!0),t.b=i),t.j=Math.max(i,t.j)}}function Pn(t,e){var i=null,n=0;t.c&&(i=Date.now()/1e3-e,n=3*t.j),t.a=new Bi(i,n),t.a.sb(!t.c)}function On(t){var e=an(t.V,"EXT-X-MAP");if(!e.length)return null;if(1<e.length)throw new u(2,4,4020);var e=e[0],i=Bn(e,"URI"),n=K([t.uri],[i])[0];return t=0,i=null,(e=nn(e,"BYTERANGE"))&&(t=e.split("@"),e=Number(t[0]),t=Number(t[1]),i=t+e-1),new ti(function(){return[n]},t,i)}function Rn(t,e,i){var n=e.segments,r=[];return n.forEach(function(t){var a,o=t.V,s=K([e.uri],[t.uri])[0],l=Fn(o,"EXTINF").value.split(","),l=Number(l[0]);a=(t=n.indexOf(t))?r[t-1].endTime:0;var l=a+l,u=0,c=null;(o=on(o,"EXT-X-BYTERANGE"))&&(o=o.value.split("@"),c=Number(o[0]),u=o[1]?Number(o[1]):r[t-1].K+1,c=u+c-1,t==n.length-1&&(c=null)),r.push(new ei(i+t,a,l,function(){return[s]},u,c))}.bind(t)),r}function In(t,e){e.forEach(function(t){var e=this.a.aa(),i=t.video;t=t.audio,i&&this.i[i.id]&&pi(this.i[i.id],e),t&&this.i[t.id]&&pi(this.i[t.id],e)}.bind(t))}function xn(t,e){for(var i=Os[t],n=0;n<i.length;n++)for(var r=0;r<e.length;r++)if(i[n].test(e[r].trim()))return e[r].trim();return"text"==t?"":null}function Dn(t,e){if(1==e.length)return e[0];var i=xn(t,e);if(null!=i)return i;throw new u(2,4,4025,e)}function Mn(t,e,i,n){var r=n.split("."),a=r[r.length-1];return(r=Rs[e][a])?Promise.resolve(r):"text"==e?i&&"vtt"!=i?Promise.resolve("application/mp4"):Promise.resolve("text/vtt"):(e=x([n],t.g.retryParameters),e.method="HEAD",t.l.networkingEngine.request(1,e).then(function(t){if(!(t=t.headers["content-type"]))throw new u(2,4,4021,a);return t.split(";")[0]}))}function Nn(t,e){var i=on(e.V,"EXT-X-START");return i?Number(Bn(i,"TIME-OFFSET")):t.g.hls.defaultTimeOffset}function Bn(t,e){var i=t.getAttribute(e);if(!i)throw new u(2,4,4023,e);return i.value}function Fn(t,e){var i=on(t,e);if(!i)throw new u(2,4,4024,e);return i}function Un(t,e){return t.l.networkingEngine.request(0,x([e],t.g.retryParameters),function(){return!this.l}.bind(t))}function jn(e,i){null!=e.b&&null!=i&&(e.h=t.setTimeout(e.G.bind(e),1e3*i))}function Gn(e,i){e.c=i,e.a&&e.a.sb(!i),i||null==e.h||(t.clearTimeout(e.h),e.h=null,e.b=null)}function Vn(t,e,i,n,r,a){this.a=t,this.c=e,this.v=i,this.m=n,this.P=r,this.L=a,this.b=new U,this.j=!1,this.i=1,this.h=this.f=null,this.g=new rt(this.wd.bind(this)),this.G=t.readyState,this.o=!1,this.D=this.X=-1,this.B=this.C=!1,0<t.readyState?this.rc():(G(this.b,t,"loadedmetadata",this.rc.bind(this)),j(this.b,t,"timeupdate",function(){at(this.g,.1)}.bind(this))),e=this.tc.bind(this),j(this.b,t,"ratechange",this.Jd.bind(this)),j(this.b,t,"waiting",e),this.h=new rt(e),ot(this.h,.25)}function Hn(t,e){0<t.a.readyState?t.a.currentTime=qn(t,e):t.m=e}function Yn(t){return 0<t.a.readyState?t.a.paused?t.a.currentTime:qn(t,t.a.currentTime):Kn(t)}function Kn(t){if(null!=t.m)return qn(t,t.m);var e=t.c.presentationTimeline;return e=1/0>e.aa()?e.ka():e.ob(),t.m=e}function $n(t,e){t.f&&(t.f.cancel(),t.f=null),t.i=e,t.a.playbackRate=t.j||0>e?0:e,!t.j&&0>e&&(t.f=new rt(function(){this.a.currentTime+=e/4}.bind(t)),ot(t.f,.25))}function zn(t,e){var i=Rt.bind(null,t.a.buffered),n=1*Math.max(t.c.minBufferTime||0,t.v.rebufferingGoal),r=t.c.presentationTimeline,a=r.ua(),o=r.Ea(n),s=r.Ea(5),n=r.Ea(n+5);return e>a?a:e<r.Ea(0)?i(s)?s:n:e>=o||i(e)?e:n}function Wn(t,e,i){t.a.currentTime=i;var n=0,r=function(){!this.a||10<=n++||this.a.currentTime!=e||(this.a.currentTime=i,setTimeout(r,100))}.bind(t);setTimeout(r,100)}function qn(t,e){var i=t.c.presentationTimeline.ka();return e<i?i:(i=t.c.presentationTimeline.ua(),e>i?i:e)}function Xn(t,e,i,n,r,a,o){this.a=t,this.C=e,this.g=i,this.B=n,this.m=r,this.h=a,this.D=o,this.c=[],this.j=new U,this.b=!1,this.i=-1,this.f=null,Qn(this)}function Zn(t){var e=C(t);return e.eventElement=t.eventElement,e}function Qn(e){Jn(e),e.f=t.setTimeout(e.G.bind(e),250)}function Jn(e){e.f&&(t.clearTimeout(e.f),e.f=null)}function tr(t,e){this.l=e,this.a=t,this.g=null,this.h=1,this.m=Promise.resolve(),this.f=[],this.i={},this.b={},this.o=!1,this.v=null,this.c=this.j=!1}function er(t){var e=Yn(t.l.Va);return t.a.periods[he(t.a,e)]}function ir(t){var e=t.b.video||t.b.audio;return e?t.a.periods[e.wa]:null}function nr(t){return q(t.b,function(t){return t.oa||t.stream})}function rr(t,e){var i=t.b.video;if(i){var n=i.stream;if(n)if(e){var r=n.trickModeVideo;if(r){var a=i.oa;a||(or(t,r,!1),i.oa=n)}}else(a=i.oa)&&(i.oa=null,or(t,a,!0))}}function ar(t,e,i){e.video&&or(t,e.video,i),e.audio&&or(t,e.audio,i)}function or(t,e,i){var n=t.b[e.type];if(!n&&"text"==e.type&&t.g.ignoreTextStreamFailures)ur(t,{text:e});else if(n){var r=pe(t.a,e);i&&r!=n.wa?lr(t):(n.oa&&(e.trickModeVideo?(n.oa=e,e=e.trickModeVideo):n.oa=null),(r=t.f[r])&&r.La&&(r=t.i[e.id])&&r.La&&n.stream!=e&&("text"==e.type&&jt(t.l.M,Q(e.mimeType,e.codecs)),n.stream=e,n.qb=!0,i&&(n.sa?n.vb=!0:n.xa?(n.ra=!0,n.vb=!0):(Cr(n),Tr(t,n,!0)))))}}function sr(t){var e=Yn(t.l.Va);Object.keys(t.b).every(function(t){var i=this.l.M;return"text"==t?(t=i.a,t=e>=t.a&&e<t.b):(t=Vt(i,t),t=Rt(t,e)),t}.bind(t))||lr(t)}function lr(t){for(var e in t.b){var i=t.b[e];i.sa||i.ra||(i.xa?i.ra=!0:null==Gt(t.l.M,e)?null==i.qa&&wr(t,i,0):(Cr(i),Tr(t,i,!1)))}}function ur(t,e,i){var n=Yn(t.l.Va),r=he(t.a,n),a={},n=[];return e.variant&&e.variant.audio&&(a.audio=e.variant.audio,n.push(e.variant.audio)),e.variant&&e.variant.video&&(a.video=e.variant.video,n.push(e.variant.video)),e.text&&(a.text=e.text,n.push(e.text)),t.l.M.init(a),hr(t),dr(t,n).then(function(){if(!this.c)for(var t in a){var e=a[t];this.b[t]||(this.b[t]={stream:e,type:t,Fa:null,la:null,oa:null,qb:!0,wa:r,endOfStream:!1,xa:!1,qa:null,ra:!1,vb:!1,sa:!1,Qb:!1,Ra:!1,Dc:i||0},wr(this,this.b[t],0))}}.bind(t))}function cr(t,e){var i=t.f[e];if(i)return i.N;i={N:new b,La:!1},t.f[e]=i;var n=t.a.periods[e].variants.map(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),t.video&&t.video.trickModeVideo&&e.push(t.video.trickModeVideo),e}).reduce(L,[]).filter(R);return n.push.apply(n,t.a.periods[e].textStreams),t.m=t.m.then(function(){if(!this.c)return dr(this,n)}.bind(t)).then(function(){this.c||(this.f[e].N.resolve(),this.f[e].La=!0)}.bind(t)).catch(function(t){this.c||(this.f[e].N.reject(),delete this.f[e],this.l.onError(t))}.bind(t)),i.N}function dr(t,e){e.map(function(t){return t.id}).filter(R);for(var i=[],n=0;n<e.length;++n){var r=e[n],a=t.i[r.id];a?i.push(a.N):(t.i[r.id]={N:new b,La:!1},i.push(r.createSegmentIndex()))}return Promise.all(i).then(function(){if(!this.c)for(var t=0;t<e.length;++t){var i=this.i[e[t].id];i.La||(i.N.resolve(),i.La=!0)}}.bind(t)).catch(function(t){if(!this.c)return this.i[r.id].N.reject(),delete this.i[r.id],Promise.reject(t)}.bind(t))}function hr(t){var e=t.a.presentationTimeline.aa();1/0>e?t.l.M.ha(e):t.l.M.ha(Math.pow(2,32))}function pr(t,e){var i=Yn(t.l.Va),n=e.Fa&&e.la?t.a.periods[pe(t.a,e.Fa)].startTime+e.la.endTime:Math.max(i,e.Dc),r=pe(t.a,e.stream),a=he(t.a,n),o=t.l.M,s=e.type;return"text"==s?(o=o.a,o=null==o.b||o.b<i?0:o.b-Math.max(i,o.a)):(o=Vt(o,s),o=It(o,i)),s=Math.max(t.h*Math.max(t.a.minBufferTime||0,t.g.rebufferingGoal),t.h*t.g.bufferingGoal),n>=t.a.presentationTimeline.aa()?(e.endOfStream=!0,null):(e.endOfStream=!1,e.wa=a,a!=r?null:o>=s?.5:(n=t.l.M,a=e.type,n="text"==a?n.a.b:Ot(Vt(n,a)),e.la&&e.stream==e.Fa?(a=e.la.position+1,n=fr(t,e,r,a)):(a=e.la?e.stream.findSegmentPosition(Math.max(0,t.a.periods[pe(t.a,e.Fa)].startTime+e.la.endTime-t.a.periods[r].startTime)):e.stream.findSegmentPosition(Math.max(0,(n||i)-t.a.periods[r].startTime)),null==a?n=null:(o=null,null==n&&(o=fr(t,e,r,Math.max(0,a-1))),n=o||fr(t,e,r,a))),n?(e.Dc=0,yr(t,e,i,r,n),null):1))}function fr(t,e,i,n){return i=t.a.periods[i],(e=e.stream.getSegmentReference(n))?(t=t.a.presentationTimeline,n=t.ua(),i.startTime+e.endTime<t.ka()||i.startTime+e.startTime>n?null:e):null}function yr(t,e,i,n,r){var a=t.a.periods[n],o=e.stream,s=t.a.presentationTimeline.aa(),l=t.a.periods[n+1];n=vr(t,e,n,a.startTime,l?l.startTime:s),e.xa=!0,e.qb=!1,s=kr(t,r),Promise.all([n,s]).then(function(t){if(!this.c&&!this.j)return mr(this,e,i,a,o,r,t[1])}.bind(t)).then(function(){this.c||this.j||(e.xa=!1,e.Qb=!1,e.ra||this.l.Kb(),wr(this,e,0),_r(this,o))}.bind(t)).catch(function(t){this.c||this.j||(e.xa=!1,"text"==e.type&&this.g.ignoreTextStreamFailures?delete this.b.text:3017==t.code?gr(this,e,t):(e.Ra=!0,t.severity=2,Sr(this,t)))}.bind(t))}function gr(t,e,i){if(!W(t.b).some(function(t){return t!=e&&t.Qb})){var n=Math.round(100*t.h);if(20<n)t.h-=.2;else{if(!(4<n))return e.Ra=!0,t.j=!0,void t.l.onError(i);t.h-=.04}e.Qb=!0}wr(t,e,4)}function vr(t,e,i,n,r){return e.qb?(i=Kt(t.l.M,e.type,t.a.periods[i].startTime-e.stream.presentationTimeOffset,n,r),e.stream.initSegmentReference?(t=kr(t,e.stream.initSegmentReference).then(function(t){if(!this.c)return Ht(this.l.M,e.type,t,null,null)}.bind(t)).catch(function(t){return e.qb=!0,Promise.reject(t)}),Promise.all([i,t])):i):Promise.resolve()}function mr(t,e,i,n,r,a,o){return r.containsEmsgBoxes&&(new ai).da("emsg",t.Wd.bind(t,n,a)).parse(o),br(t,e,i).then(function(){if(!this.c)return Ht(this.l.M,e.type,o,a.startTime+n.startTime,a.endTime+n.startTime)}.bind(t)).then(function(){if(!this.c)return e.Fa=r,e.la=a,Promise.resolve()}.bind(t))}function br(t,e,i){var n=Gt(t.l.M,e.type);return null==n?Promise.resolve():(i=i-n-t.g.bufferBehind,0>=i?Promise.resolve():t.l.M.remove(e.type,n,n+i).then(function(){}.bind(t)))}function _r(t,e){if(!t.o&&(t.o=W(t.b).every(function(t){return"text"==t.type||!t.ra&&!t.sa&&t.la}),t.o)){var i=pe(t.a,e);for(t.f[i]||cr(t,i).then(function(){this.l.lc()}.bind(t)).catch(P),i=0;i<t.a.periods.length;++i)cr(t,i).catch(P);t.l.Od&&t.l.Od()}}function Er(t,e){if(e.wa!=pe(t.a,e.stream)){var i=e.wa,n=W(t.b);n.every(function(t){return t.wa==i})&&n.every(Ar)&&cr(t,i).then(function(){if(!this.c&&n.every(function(t){var e=pe(this.a,t.stream);return Ar(t)&&t.wa==i&&e!=i}.bind(this))){var t=this.a.periods[i],e=this.l.mc(t),r={};e.variant&&e.variant.video&&(r.video=e.variant.video),e.variant&&e.variant.audio&&(r.audio=e.variant.audio),e.text&&(r.text=e.text);for(var a in this.b)if(!r[a]&&"text"!=a)return void this.l.onError(new u(2,5,5005));for(a in r)if(!this.b[a]){if("text"!=a)return void this.l.onError(new u(2,5,5005));ur(this,{text:r.text},t.startTime),delete r[a]}for(a in this.b)(t=r[a])?(or(this,t,!1),wr(this,this.b[a],0)):delete this.b[a];this.l.lc()}}.bind(t)).catch(P)}}function Ar(t){return!t.xa&&null==t.qa&&!t.ra&&!t.sa}function kr(t,e){var i=x(e.a(),t.g.retryParameters);if(e.U||null!=e.K){var n="bytes="+e.U+"-";null!=e.K&&(n+=e.K),i.headers.Range=n}return t.l.Ta.request(1,i).then(function(t){return t.data})}function Tr(t,e,i){e.ra=!1,e.vb=!1,e.sa=!0,Yt(t.l.M,e.type).then(function(){if(!this.c&&i){var t=this.l.M,n=e.type;return"text"==n?Promise.resolve():$t(t,n,t.$c.bind(t,n))}}.bind(t)).then(function(){this.c||(e.Fa=null,e.la=null,e.sa=!1,e.endOfStream=!1,wr(this,e,0))}.bind(t))}function wr(e,i,n){i.qa=t.setTimeout(e.Ee.bind(e,i),1e3*n)}function Cr(e){null!=e.qa&&(t.clearTimeout(e.qa),e.qa=null)}function Sr(t,e){E(t.v).then(function(){this.l.onError(e),e.handled||this.g.failureCallback(e)}.bind(t))}function Lr(t,e){return new Promise(function(i,n){var r=new XMLHttpRequest;r.open(e.method,t,!0),r.responseType="arraybuffer",r.timeout=e.retryParameters.timeout,r.withCredentials=e.allowCrossSiteCredentials,r.onload=function(e){e=e.target;var r=e.getAllResponseHeaders().split("\r\n").reduce(function(t,e){var i=e.split(": ");return t[i[0].toLowerCase()]=i.slice(1).join(": "),t},{});if(200<=e.status&&299>=e.status&&202!=e.status)e.responseURL&&(t=e.responseURL),i({uri:t,data:e.response,headers:r,fromCache:!!r["x-shaka-from-cache"]});else{var a=null;try{a=et(e.response)}catch(t){}n(new u(401==e.status||403==e.status?2:1,1,1001,t,e.status,a,r))}},r.onerror=function(){n(new u(1,1,1002,t))},r.ontimeout=function(){n(new u(1,1,1003,t))};for(var a in e.headers)r.setRequestHeader(a,e.headers[a]);r.send(e.body)})}function Pr(){this.a=null,this.b=[],this.c={}}function Or(t,e,i){return xr(t,e,"readwrite",function(t){t.put(i)})}function Rr(t,e,i){return xr(t,"segment","readwrite",function(t){for(var n=0;n<e.length;n++)t.delete(e[n]).onsuccess=i||function(){}})}function Ir(t,e){var i=0;return xr(t,e,"readonly",function(t){t.openCursor(null,"prev").onsuccess=function(t){(t=t.target.result)&&(i=t.key+1)}}).then(function(){return i})}function xr(t,e,i,n){var r={transaction:t.a.transaction([e],i),N:new b};return r.transaction.oncomplete=function(){this.b.splice(this.b.indexOf(r),1),r.N.resolve()}.bind(t),r.transaction.onabort=function(t){this.b.splice(this.b.indexOf(r),1),Mr(r.transaction,r.N,t)}.bind(t),r.transaction.onerror=function(t){t.preventDefault()}.bind(t),e=r.transaction.objectStore(e),n(e),t.b.push(r),r.N}function Dr(e,i,n){var r=t.indexedDB.open("shaka_offline_db",1),a=!1,o=new b;return r.onupgradeneeded=function(t){a=!0,t=t.target.result;for(var e in i)t.createObjectStore(e,{keyPath:i[e]})},r.onsuccess=function(t){n&&!a?(t.target.result.close(),setTimeout(function(){Dr(this,i,n-1).then(o.resolve,o.reject)}.bind(this),1e3)):(this.a=t.target.result,o.resolve())}.bind(e),r.onerror=Mr.bind(null,r,o),o}function Mr(t,e,i){t.error?e.reject(new u(2,9,9001,t.error)):e.reject(new u(2,9,9002)),i.preventDefault()}function Nr(t){var e=Br(t.periods[0],[],new Bi(null,0)),i=ee(e,null,null),e=ie(e,null);return i.push.apply(i,e),{offlineUri:"offline:"+t.key,originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:void 0==t.expiration?1/0:t.expiration,tracks:i,appMetadata:t.appMetadata}}function Br(t,e,i){var n=t.streams.filter(function(t){return"text"==t.contentType});return e=Ur(t.streams.filter(function(t){return"audio"==t.contentType}),t.streams.filter(function(t){return"video"==t.contentType}),e),n=n.map(Gr),t.streams.forEach(function(t){t=Fr(t),i.Ha(0,t)}),{startTime:t.startTime,variants:e,textStreams:n}}function Fr(t){return t.segments.map(function(t,e){return new ei(e,t.startTime,t.endTime,function(){return[t.uri]},0,null)})}function Ur(t,e,i){var n=[];if(!t.length&&!e.length)return n;t.length?e.length||(e=[null]):t=[null];for(var r=0,a=0;a<t.length;a++)for(var o=0;o<e.length;o++)if(jr(t[a],e[o])){var s=t[a],l=e[o],u=i;s={id:r++,language:s?s.language:"",primary:!!s&&s.primary||!!l&&l.primary,audio:Gr(s),video:Gr(l),bandwidth:0,drmInfos:u,allowedByApplication:!0,allowedByKeySystem:!0},n.push(s)}return n}function jr(t,e){if(!(t&&e&&t.variantIds&&e.variantIds))return!0;for(var i=0;i<t.variantIds.length;i++)if(e.variantIds.some(function(e){return e==t.variantIds[i]}))return!0;return!1}function Gr(t){if(!t)return null;var e=Fr(t),e=new hi(e);return{id:t.id,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e),initSegmentReference:t.initSegmentUri?new ti(function(){return[t.initSegmentUri]},0,null):null,presentationTimeOffset:t.presentationTimeOffset,mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate||void 0,kind:t.kind,encrypted:t.encrypted,keyId:t.keyId,language:t.language,label:t.label||null,type:t.contentType,primary:t.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null}}function Vr(){return t.indexedDB?new Pr:null}function Hr(t,e,i,n){this.b={},this.m=[],this.o=n,this.j=t,this.v=e,this.B=i,this.i=this.a=null,this.f=this.g=this.h=this.c=0}function Yr(t,e,i,n,r){t.b[e]=t.b[e]||[],t.b[e].push({uris:i.a(),U:i.U,K:i.K,bc:n,Sb:r})}function Kr(t,e){t.c=0,t.h=0,t.g=0,t.f=0,W(t.b).forEach(function(t){t.forEach(function(t){null!=t.K?this.c+=t.K-t.U+1:this.g+=t.bc}.bind(this))}.bind(t)),t.a=e,t.a.size=t.c;var i=W(t.b).map(function(t){var e=0,i=function(){return this.o?e>=t.length?Promise.resolve():$r(this,t[e++]).then(i):Promise.reject(new u(2,9,9002))}.bind(this);return i()}.bind(t));return t.b={},t.i=Promise.all(i).then(function(){return Or(this.j,"manifest",e)}.bind(t)).then(function(){this.m=[]}.bind(t)),t.i}function $r(t,e){var i=x(e.uris,t.B);(e.U||null!=e.K)&&(i.headers.Range="bytes="+e.U+"-"+(null==e.K?"":e.K));var n;return t.v.request(1,i).then(function(t){return this.a?(n=t.data.byteLength,this.m.push(e.Sb.key),e.Sb.data=t.data,Or(this.j,"segment",e.Sb)):Promise.reject(new u(2,9,9002))}.bind(t)).then(function(){if(!this.a)return Promise.reject(new u(2,9,9002));null==e.K?(this.a.size+=n,this.f+=e.bc):this.h+=n;var t=(this.h+this.f)/(this.c+this.g),i=Nr(this.a);this.o.progressCallback(i,t)}.bind(t))}function zr(){this.a=-1}function Wr(t){var e=new Bi(null,0);e.ha(t.duration);var i=t.drmInfo?[t.drmInfo]:[];return{presentationTimeline:e,minBufferTime:10,offlineSessionIds:t.sessionIds,periods:t.periods.map(function(t){return Br(t,i,e)})}}function qr(t){if(/^offline:([0-9]+)$/.exec(t)){var e={uri:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}};return Promise.resolve(e)}if(e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t)){var i=Number(e[1]),n=Vr();return n?n.init(xs).then(function(){return n.get("segment",i)}).then(function(e){return n.s().then(function(){if(!e)throw new u(2,9,9003,i);return{uri:t,data:e.data,headers:{}}})}):Promise.reject(new u(2,9,9e3))}return Promise.reject(new u(2,1,9004,t))}function Xr(t){this.a=null;for(var e=0;e<t.textTracks.length;++e){var i=t.textTracks[e];i.mode="disabled","Shaka Player TextTrack"==i.label&&(this.a=i)}this.a||(this.a=t.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden",this.b=this.a.cues}function Zr(e){if(e.startTime>=e.endTime)return null;var i=new VTTCue(e.startTime,e.endTime,e.payload);i.lineAlign=e.lineAlign,i.positionAlign=e.positionAlign,i.size=e.size;try{i.align=e.textAlign}catch(t){}if("center"==e.textAlign&&"center"!=i.align&&(i.align="middle"),e.writingDirection==qs?i.vertical="lr":e.writingDirection==Xs&&(i.vertical="rl"),e.lineInterpretation==Qs&&(i.snapToLines=!1),null!=e.line&&(i.line=e.line),null!=e.position&&(i.position=e.position),t.VTTRegion&&e.region){var n=new VTTRegion;n.viewportAnchorX=e.region.x,n.viewportAnchorY=e.region.y,n.width=e.region.width,n.height=e.region.height,i.region=n}return i}function Qr(t,e){for(var i=t.b,n=[],r=0;r<i.length;++r)e(i[r])&&n.push(i[r]);for(r=0;r<n.length;++r)t.a.removeCue(n[r])}function Jr(){this.a=Promise.resolve(),this.b=this.c=this.f=!1,this.i=new Promise(function(t){this.g=t}.bind(this))}function ta(t){return t.f||(t.a=t.a.then(function(t){return this.c=!0,Promise.resolve(t)}.bind(t),function(t){return this.c=!0,this.b?(this.g(),Promise.reject(this.h)):Promise.reject(t)}.bind(t))),t.f=!0,t.a}function ea(t,e){ke.call(this),this.G=!1,this.f=t,this.kb=!1,this.B=null,this.o=new U,this.g=this.jb=this.b=this.i=this.a=this.C=this.h=this.hb=this.L=this.P=this.m=this.v=null,this.Qc=1e9,this.fb=[],this.Pa=!1,this.Ca=!0,this.Oa=this.Qa=this.Ba=null,this.$b=!1,this.X=null,this.ib=[],this.D={},this.c=pa(this),this.gb={width:1/0,height:1/0},this.j=fa(),this.eb=0,this.Na=this.c.preferredAudioLanguage,this.ab=this.c.preferredTextLanguage,this.wb=this.bb="",this.ac=!0,e&&e(this),this.v=new I(this.we.bind(this)),this.hb=ra(this),j(this.o,this.f,"error",this.Qd.bind(this))}function ia(t){if(!t.Ba)return Promise.resolve();var e=Promise.resolve();return t.i&&(e=t.i.stop(),t.i=null),t=t.Ba.cancel(new u(2,7,7e3)),Promise.all([e,t])}function na(t){function e(t){return(t.video?t.video.codecs.split(".")[0]:"")+"-"+(t.audio?t.audio.codecs.split(".")[0]:"")}var i={};t.b.periods.forEach(function(t){t.variants.forEach(function(t){var n=e(t);n in i||(i[n]=[]),i[n].push(t)})});var n=null,r=1/0;Z(i,function(t,e){var i=0,a=0;e.forEach(function(t){i+=t.bandwidth||0,++a});var o=i/a;o<r&&(n=t,r=o)}),t.b.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return e(t)==n})})}function ra(e){e.P=new MediaSource;var i=new b;return j(e.o,e.P,"sourceopen",i.resolve),e.f.src=t.URL.createObjectURL(e.P),i}function aa(t,e){if(t.i&&t.i.configure(t.c.manifest),t.m&&t.m.configure(t.c.drm),t.a){t.a.configure(t.c.streaming);try{t.b.periods.forEach(t.lb.bind(t))}catch(e){t.Ma(e)}var i=er(t.a);ba(t,i,e)}t.g&&(oa(t),t.c.abr.enabled&&!t.Ca?t.g.enable():t.g.disable())}function oa(t){t.g.configure?t.g.configure(t.c.abr):(s("AbrManager API has changed. AbrManager.setDefaultEstimate() and AbrManager.setRestrictions() are deprecated. AbrManager.configure() is used instead. Please upgrade to the new API. The old API will be removed in v2.3."),t.g.setDefaultEstimate(t.c.abr.defaultBandwidthEstimate),t.g.setRestrictions(t.c.abr.restrictions))}function sa(t,e,i){e.video&&ua(t,e.video),e.audio&&ua(t,e.audio);var n=ir(t.a),r=nr(t.a);e!=ce(r.audio,r.video,n?n.variants:[])&&t.j.switchHistory.push({timestamp:Date.now()/1e3,id:e.id,type:"variant",fromAdaptation:i,bandwidth:e.bandwidth})}function la(t,e,i){ua(t,e),t.j.switchHistory.push({timestamp:Date.now()/1e3,id:e.id,type:"text",fromAdaptation:i,bandwidth:null})}function ua(t,e){var i=pe(t.b,e);t.D[i]||(t.D[i]={}),t.D[i][e.type]=e.id}function ca(t){t.o&&(t.o.ia(t.P,"sourceopen"),t.o.ia(t.f,"loadeddata"),t.o.ia(t.f,"playing"),t.o.ia(t.f,"pause"),t.o.ia(t.f,"ended")),t.f&&(t.f.removeAttribute("src"),t.f.load());var e=Promise.all([t.g?t.g.stop():null,t.m?t.m.s():null,t.L?t.L.s():null,t.h?t.h.s():null,t.C?t.C.s():null,t.a?t.a.s():null,t.i?t.i.stop():null,t.B?t.B.s():null]);return t.m=null,t.L=null,t.h=null,t.C=null,t.a=null,t.i=null,t.B=null,t.b=null,t.jb=null,t.hb=null,t.P=null,t.ib=[],t.D={},t.j=fa(),e}function da(t){return t.i?ca(t).then(function(){this.G||(this.Lc(!1),this.hb=ra(this))}.bind(t)):Promise.resolve()}function ha(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0)}}}function pa(t){return{drm:{retryParameters:A(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:A(),dash:{customScheme:function(t){if(t)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1},hls:{defaultTimeOffset:0}},streaming:{retryParameters:A(),failureCallback:t.Xc.bind(t),rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1},abrFactory:fe,textDisplayFactory:function(t){return new Xr(t)}.bind(null,t.f),abr:{enabled:!0,defaultBandwidthEstimate:5e5,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0}}function fa(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function ya(t,e,i){t.Ca?(t.Oa=e,t.$b=i||!1):ar(t.a,e,i||!1)}function ga(t){if(t.b){var e=Date.now()/1e3;t.Pa?t.j.bufferingTime+=e-t.eb:t.j.playTime+=e-t.eb,t.eb=e}}function va(t,e){function i(t,e){if(!t)return null;var i=t.findSegmentPosition(e-r.startTime);return null==i?null:(i=t.getSegmentReference(i))?i.startTime+r.startTime:null}var n=nr(t.a),r=er(t.a),a=i(n.video,e),n=i(n.audio,e);return null!=a&&null!=n?Math.max(a,n):null!=a?a:null!=n?n:e}function ma(t,e){if(!e||!e.length)return t.Ma(new u(2,4,4012)),null;if(t.g.setVariants(e),t.g.chooseStreams){s("AbrManager API has changed. AbrManager.chooseStreams() is deprecated. Please implement AbrManager.chooseVariant() to upgrade. The old API will be removed in v2.3.");var i=t.g.chooseStreams(["video","audio"]);return ce(i.audio,i.video,e)}return t.g.chooseVariant()}function ba(t,e,i){var n=oe(e,t.Na,t.bb);e=se(e,t.ab,t.wb),(n=ma(t,n))&&(sa(t,n,!0),ya(t,n,i)),(i=e[0])&&(la(t,i,!0),t.Ca?t.X=i:or(t.a,i,!0)),_a(t)}function _a(t){Promise.resolve().then(function(){this.G||this.dispatchEvent(new Y("adaptation"))}.bind(t))}function Ea(t){Promise.resolve().then(function(){this.G||this.dispatchEvent(new Y("trackschanged"))}.bind(t))}function Aa(t){t.dispatchEvent(new Y("texttrackvisibility"))}function ka(t){if(!t||t.constructor!=ea)throw new u(2,9,9008);this.a=Vr(),this.g=t,this.b=Ca(this),this.c=null,this.v=!1,this.j=null,this.h=-1,this.m=0,this.f=null,this.i=new Hr(this.a,t.v,t.getConfiguration().streaming.retryParameters,this.b)}function Ta(){return!!t.indexedDB}function wa(t,e,i,n){function r(){}var a,o,s,l=t.g.v,u=t.g.getConfiguration();return Ni(e,l,u.manifest.retryParameters,n).then(function(t){return Ra(this),s=new t,s.configure(u.manifest),s.start(e,{networkingEngine:l,filterAllPeriods:this.o.bind(this),filterNewPeriod:this.B.bind(this),onTimelineRegionAdded:function(){},onEvent:function(){},onError:i})}.bind(t)).then(function(t){return Ra(this),a=t,o=new ht({Ta:l,onError:i,Jb:r,onExpirationUpdated:function(){},onEvent:function(){}}),o.configure(u.drm),o.init(a,this.b.usePersistentLicense||!1)}.bind(t)).then(function(){return Ra(this),Pa(a)}.bind(t)).then(function(){return Ra(this),yt(o)}.bind(t)).then(function(){return Ra(this),s.stop()}.bind(t)).then(function(){return Ra(this),{manifest:a,Yc:o}}.bind(t)).catch(function(t){if(s)return s.stop().then(function(){throw t});throw t})}function Ca(t){return{trackSelectionCallback:t.C.bind(t),progressCallback:function(t,e){if(t||e)return null},usePersistentLicense:!0}}function Sa(t){return t.a?t.a.a?Promise.resolve():t.a.init(xs):Promise.reject(new u(2,9,9e3))}function La(t){var e=t.c?t.c.s():Promise.resolve();return t.c=null,t.f=null,t.v=!1,t.j=null,t.h=-1,e}function Pa(t){var e=t.periods.map(function(t){return t.variants}).reduce(L,[]).map(function(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e}).reduce(L,[]).filter(R);return t=t.periods.map(function(t){return t.textStreams}).reduce(L,[]),e.push.apply(e,t),Promise.all(e.map(function(t){return t.createSegmentIndex()}))}function Oa(t,e,i,n,r){for(var a=[],o=t.f.presentationTimeline.ka(),s=o,l=i.findSegmentPosition(o),u=null!=l?i.getSegmentReference(l):null;u;)s=t.a.c.segment++,Yr(t.i,i.type,u,(u.endTime-u.startTime)*n/8,{key:s,data:null,manifestKey:t.h,streamNumber:i.id,segmentNumber:s}),a.push({startTime:u.startTime,endTime:u.endTime,uri:"offline:"+t.h+"/"+i.id+"/"+s}),s=u.endTime+e.startTime,u=i.getSegmentReference(++l);return t.m=Math.max(t.m,s-o),e=null,i.initSegmentReference&&(s=t.a.c.segment++,e="offline:"+t.h+"/"+i.id+"/"+s,Yr(t.i,i.contentType,i.initSegmentReference,0,{key:s,data:null,manifestKey:t.h,streamNumber:i.id,segmentNumber:-1})),t=[],null!=r&&t.push(r),{id:i.id,primary:i.primary,presentationTimeOffset:i.presentationTimeOffset||0,contentType:i.type,mimeType:i.mimeType,codecs:i.codecs,frameRate:i.frameRate,kind:i.kind,language:i.language,label:i.label,width:i.width||null,height:i.height||null,initSegmentUri:e,encrypted:i.encrypted,keyId:i.keyId,segments:a,variantIds:t}}function Ra(t){if(!t.g)throw new u(2,9,9002)}function Ia(t){Ms.push(t)}function xa(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var i=new Event(e,t);else i=document.createEvent("Event"),i.initEvent(e,t.bubbles,t.cancelable);t.target.dispatchEvent(i)}function Da(t,e,i){if("input"==t)switch(this.type){case"range":t="change"}Ns.call(this,t,e,i)}function Ma(t){this.f=[],this.b=[],this.a=[],(new ai).da("pssh",this.c.bind(this)).parse(t.buffer)}function Na(t,e){try{var i=new Ba(t,e);return Promise.resolve(i)}catch(t){return Promise.reject(t)}}function Ba(t,e){this.keySystem=t;for(var i=!1,n=0;n<e.length;++n){var r=e[n],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label},o=!1;if(r.audioCapabilities)for(var s=0;s<r.audioCapabilities.length;++s){var l=r.audioCapabilities[s];if(l.contentType){o=!0;var u=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.audioCapabilities.push(l),i=!0)}}if(r.videoCapabilities)for(s=0;s<r.videoCapabilities.length;++s)l=r.videoCapabilities[s],l.contentType&&(o=!0,u=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.videoCapabilities.push(l),i=!0));if(o||(i=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==r.persistentState&&(i=!1),i)return void(this.a=a)}throw r=Error("Unsupported keySystem"),r.name="NotSupportedError",r.code=DOMException.NOT_SUPPORTED_ERR,r}function Fa(t){var e=this.mediaKeys;return e&&e!=t&&ja(e,null),delete this.mediaKeys,(this.mediaKeys=t)?ja(t,this):Promise.resolve()}function Ua(t){this.a=new MSMediaKeys(t),this.b=new U}function ja(t,e){function i(){e.msSetMediaKeys(n.a),e.removeEventListener("loadedmetadata",i)}if(V(t.b),!e)return Promise.resolve();j(t.b,e,"msneedkey",Va);var n=t;try{return 1<=e.readyState?e.msSetMediaKeys(t.a):e.addEventListener("loadedmetadata",i),Promise.resolve()}catch(t){return Promise.reject(t)}}function Ga(t){ke.call(this),this.c=null,this.g=t,this.b=this.a=null,this.f=new U,this.sessionId="",this.expiration=NaN,this.closed=new b,this.keyStatuses=new Ka}function Va(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="cenc";var i=t.initData;if(i){var n=new Ma(i);if(1>=n.a.length)t=i;else{var r=[];for(t=0;t<n.a.length;t++)r.push(i.subarray(n.a[t].start,n.a[t].end+1));for(i=M(r,Ha),t=n=0;t<i.length;t++)n+=i[t].length;for(n=new Uint8Array(n),t=r=0;t<i.length;t++)n.set(i[t],r),r+=i[t].length;t=n}}else t=i;e.initData=t,this.dispatchEvent(e)}function Ha(t,e){return dt(t,e)}function Ya(t,e){var i=t.keyStatuses;i.size=void 0==e?0:1,i.a=e,t.dispatchEvent(new Y("keystatuseschange"))}function Ka(){this.size=0,this.a=void 0}function $a(){return Promise.reject(Error("The key system specified is not supported."))}function za(t){return t?Promise.reject(Error("MediaKeys not supported.")):Promise.resolve()}function Wa(){throw new TypeError("Illegal constructor.")}function qa(){throw new TypeError("Illegal constructor.")}function Xa(e){Fs=e,Us=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=Qa,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Ja,t.MediaKeys=eo,t.MediaKeySystemAccess=to}function Za(t){var e=Fs;return e?e+t.charAt(0).toUpperCase()+t.slice(1):t}function Qa(t,e){try{var i=new to(t,e);return Promise.resolve(i)}catch(t){return Promise.reject(t)}}function Ja(t){var e=this.mediaKeys;return e&&e!=t&&io(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&io(t,this),Promise.resolve()}function to(t,e){this.a=this.keySystem=t;var i=!1;"org.w3.clearkey"==t&&(this.a="webkit-org.w3.clearkey",i=!1);for(var n=!1,r=document.getElementsByTagName("video"),a=r.length?r[0]:document.createElement("video"),o=0;o<e.length;++o){r=e[o];var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label},l=!1;if(r.audioCapabilities)for(var u=0;u<r.audioCapabilities.length;++u){var c=r.audioCapabilities[u];if(c.contentType){var l=!0,d=c.contentType.split(";")[0];a.canPlayType(d,this.a)&&(s.audioCapabilities.push(c),n=!0)}}if(r.videoCapabilities)for(u=0;u<r.videoCapabilities.length;++u)c=r.videoCapabilities[u],c.contentType&&(l=!0,a.canPlayType(c.contentType,this.a)&&(s.videoCapabilities.push(c),n=!0));if(l||(n=a.canPlayType("video/mp4",this.a)||a.canPlayType("video/webm",this.a)),"required"==r.persistentState&&(i?(s.persistentState="required",s.sessionTypes=["persistent-license"]):n=!1),n)return void(this.b=s)}throw i="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(i="None of the requested configurations were supported."),i=Error(i),i.name="NotSupportedError",i.code=DOMException.NOT_SUPPORTED_ERR,i}function eo(t){this.g=t,this.b=null,this.a=new U,this.c=[],this.f={}}function io(t,e){t.b=e,V(t.a);var i=Fs;e&&(j(t.a,e,i+"needkey",t.Ud.bind(t)),j(t.a,e,i+"keymessage",t.Td.bind(t)),j(t.a,e,i+"keyadded",t.Rd.bind(t)),j(t.a,e,i+"keyerror",t.Sd.bind(t)))}function no(t,e){var i=t.f[e];return i||((i=t.c.shift())?(i.sessionId=e,t.f[e]=i):null)}function ro(t,e,i){ke.call(this),this.f=t,this.h=!1,this.a=this.b=null,this.c=e,this.g=i,this.sessionId="",this.expiration=NaN,this.closed=new b,this.keyStatuses=new so}function ao(t,e,i){if(t.h)return Promise.reject(Error("The session is already initialized."));t.h=!0;try{if("persistent-license"==t.g)if(i)var n=new Uint8Array(it("LOAD_SESSION|"+i));else{var r=it("PERSISTENT|"),a=new Uint8Array(r.byteLength+e.byteLength);a.set(new Uint8Array(r),0),a.set(new Uint8Array(e),r.byteLength),n=a}else n=new Uint8Array(e)}catch(t){return Promise.reject(t)}t.b=new b;var o=Za("generateKeyRequest");try{t.f[o](t.c,n)}catch(e){if("InvalidStateError"!=e.name)return t.b=null,Promise.reject(e);setTimeout(function(){try{this.f[o](this.c,n)}catch(t){this.b.reject(t),this.b=null}}.bind(t),10)}return t.b}function oo(t,e){var i=t.keyStatuses;i.size=void 0==e?0:1,i.a=e,t.dispatchEvent(new Y("keystatuseschange"))}function so(){this.size=0,this.a=void 0}function lo(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=t.apply(this,arguments);return e.abort=function(){},e}}function uo(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,i){return t.call(this,e,i-.001)}}function co(){var t=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var e,i=0,n=0;n<this.sourceBuffers.length;++n)e=this.sourceBuffers[n],e=e.buffered.end(e.buffered.length-1),i=Math.max(i,e);if(!isNaN(this.duration)&&i<this.duration)for(this.jc=!0,n=0;n<this.sourceBuffers.length;++n)e=this.sourceBuffers[n],e.ec=!1;return t.apply(this,arguments)};var e=!1,i=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=i.apply(this,arguments);return t.mediaSource_=this,t.addEventListener("updateend",ho,!1),e||(this.addEventListener("sourceclose",po,!1),e=!0),t}}function ho(t){var e=t.target,i=e.mediaSource_;if(i.jc){for(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),e.ec=!0,t=0;t<i.sourceBuffers.length;++t)if(0==i.sourceBuffers[t].ec)return;i.jc=!1}}function po(t){t=t.target;for(var e=0;e<t.sourceBuffers.length;++e)t.sourceBuffers[e].removeEventListener("updateend",ho,!1);t.removeEventListener("sourceclose",po,!1)}function fo(){var t=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(e){return"mp2t"!=e.split(/ *; */)[0].split("/")[1]&&t(e)}}function yo(){var t=MediaSource.isTypeSupported,e=/^dv(?:he|av)\./;MediaSource.isTypeSupported=function(i){for(var n,r,a=i.split(/ *; */),o=a[0],s={},l=1;l<a.length;++l)n=a[l].split("="),r=n[0],n=n[1].replace(/"(.*)"/,"$1"),s[r]=n;if(!(n=s.codecs))return t(i);var u=!1,c=!1;i=n.split(",").filter(function(t){return e.test(t)?(c=!0,!1):(/^(hev|hvc)1\.2/.test(t)&&(u=!0),!0)}),c&&(u=!1),s.codecs=i.join(","),u&&(s.eotf="smpte2084");for(r in s)n=s[r],o+="; "+r+'="'+n+'"';return cast.__platform__.canDisplayType(o)}}function go(t){if(this.c=[],this.b=[],this.za=js,t)try{t(this.ma.bind(this),this.a.bind(this))}catch(t){this.a(t)}}function vo(t){var e=new go;return e.ma(void 0),e.then(function(){return t})}function mo(t){var e=new go;return e.a(t),e}function bo(t){function e(t,e,i){t.za==js&&(r[e]=i,++n==r.length&&t.ma(r))}var i=new go;if(!t.length)return i.ma([]),i;for(var n=0,r=Array(t.length),a=i.a.bind(i),o=0;o<t.length;++o)t[o]&&t[o].then?t[o].then(e.bind(null,i,o),a):e(i,o,t[o]);return i}function _o(t){for(var e=new go,i=e.ma.bind(e),n=e.a.bind(e),r=0;r<t.length;++r)t[r]&&t[r].then?t[r].then(i,n):i(t[r]);return e}function Eo(t,e,i){Vs.push(function(){if(i&&"function"==typeof i){try{var t=i(this.ub)}catch(t){return void e.a(t)}try{var n=t&&t.then}catch(t){return void e.a(t)}t instanceof go?t==e?e.a(new TypeError("Chaining cycle detected")):t.then(e.ma.bind(e),e.a.bind(e)):n?Ao(t,n,e):e.ma(t)}else 1==this.za?e.ma(this.ub):e.a(this.ub)}.bind(t)),null==Gs&&(Gs=To(ko))}function Ao(t,e,i){try{var n=!1;e.call(t,function(t){if(!n){n=!0;try{var e=t&&t.then}catch(t){return void i.a(t)}e?Ao(t,e,i):i.ma(t)}},i.a.bind(i))}catch(t){i.a(t)}}function ko(){for(;Vs.length;){null!=Gs&&(wo(Gs),Gs=null);var t=Vs;Vs=[];for(var e=0;e<t.length;++e)t[e]()}}function To(){return 0}function wo(){}function Co(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function So(e,i,n){return new t.TextTrackCue(e,i,n)}function Lo(e,i,n){return new t.TextTrackCue(e+"-"+i+"-"+n,e,i,n)}function Po(t,e,i){this.startTime=t,this.endTime=e,this.payload=i,this.region={x:0,y:0,width:100,height:100},this.position=null,this.positionAlign=Hs,this.size=100,this.textAlign=Ys,this.writingDirection=Ws,this.lineInterpretation=Zs,this.line=null,this.lineHeight="",this.lineAlign=Js,this.displayAlign=$s,this.fontSize=this.backgroundColor=this.color="",this.fontWeight=el,this.fontStyle=il,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}function Oo(){}function Ro(t){var e=[];if(!t)return e;for(var i=t.childNodes,n=0;n<i.length;n++){var r="span"==i[n].nodeName&&"p"==t.nodeName;i[n].nodeType!=Node.ELEMENT_NODE||"br"==i[n].nodeName||r||(r=Ro(i[n]),e=e.concat(r))}return e.length||e.push(t),e}function Io(t,e){for(var i=t.childNodes,n=0;n<i.length;n++)if("br"==i[n].nodeName&&0<n)i[n-1].textContent+="\n";else if(0<i[n].childNodes.length)Io(i[n],e);else if(e){var r=i[n].textContent.trim(),r=r.replace(/\s+/g," ");i[n].textContent=r}}function xo(t,e){for(var i=e.split(" "),n=0;n<i.length;n++)switch(i[n]){case"underline":0>t.textDecoration.indexOf("underline")&&t.textDecoration.push("underline");break;case"noUnderline":0<=t.textDecoration.indexOf("underline")&&B(t.textDecoration,"underline");break;case"lineThrough":0>t.textDecoration.indexOf("lineThrough")&&t.textDecoration.push("lineThrough");break;case"noLineThrough":0<=t.textDecoration.indexOf("lineThrough")&&B(t.textDecoration,"lineThrough");break;case"overline":0>t.textDecoration.indexOf("overline")&&t.textDecoration.push("overline");break;case"noOverline":0<=t.textDecoration.indexOf("overline")&&B(t.textDecoration,"overline")}}function Do(t,e,i,n){return(t=No(t,i,n))?t:Mo(e,i,n)}function Mo(t,e,i){for(var n=Ro(t),r=0;r<n.length;r++){var a=n[r].getAttribute(i);if(a)return a}return(t=Bo(t,"style",e))?t.getAttribute(i):null}function No(t,e,i){return(t=Bo(t,"style",e))?t.getAttribute(i):null}function Bo(t,e,i){if(!t||1>i.length)return null;var n=null,r=t;for(t=null;r&&!(t=r.getAttribute(e))&&(r=r.parentNode)instanceof Element;);if(e=t)for(t=0;t<i.length;t++)if(i[t].getAttribute("xml:id")==e){n=i[t];break}return n}function Fo(t,e){var i=null;if(rl.test(t))var i=rl.exec(t),n=Number(i[1]),r=Number(i[2]),a=Number(i[3]),o=Number(i[4]),o=o+(Number(i[5])||0)/e.b,a=a+o/e.frameRate,i=a+60*r+3600*n;else al.test(t)?i=Uo(al,t):ol.test(t)?i=Uo(ol,t):sl.test(t)?(i=sl.exec(t),i=Number(i[1])/e.frameRate):ll.test(t)?(i=ll.exec(t),i=Number(i[1])/e.a):ul.test(t)&&(i=Uo(ul,t));return i}function Uo(t,e){var i=t.exec(e);return i&&""!=i[0]?(Number(i[4])||0)/1e3+(Number(i[3])||0)+60*(Number(i[2])||0)+3600*(Number(i[1])||0):null}function jo(t,e,i,n){this.frameRate=Number(t)||30,this.b=Number(e)||1,this.a=Number(n),this.a||(this.a=t?this.frameRate*this.b:1),i&&(t=/^(\d+) (\d+)$/g.exec(i))&&(this.frameRate*=t[1]/t[2])}function Go(){this.a=new Oo}function Vo(){}function Ho(t,e){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(e))?(i=i[1],t.textAlign="middle"==i?Ys:Ks[i.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(e))?t.writingDirection="lr"==i[1]?qs:Xs:(i=/^size:([\d\.]+)%$/.exec(e))?t.size=Number(i[1]):(i=/^position:([\d\.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(e))?(t.position=Number(i[1]),i[2]&&(i=i[2],t.positionAlign="line-left"==i||"start"==i?"line-left":"line-right"==i||"end"==i?"line-right":"center")):(i=/^line:([\d\.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=Qs,t.line=Number(i[1]),i[2]&&(t.lineAlign=tl[i[2].toUpperCase()])):(i=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=Zs,t.line=Number(i[1]),i[2]&&(t.lineAlign=tl[i[2].toUpperCase()]))}function Yo(t){if(!(t=un(t,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var e=Number(t[2]),i=Number(t[3]);return 59<e||59<i?null:Number(t[4])/1e3+i+60*e+3600*(Number(t[1])||0)}function Ko(){this.a=null}function $o(t,e,i){var n,r,a;return(new ai).H("payl",li(function(t){n=J(t)})).H("iden",li(function(t){r=J(t)})).H("sttg",li(function(t){a=J(t)})).parse(t),n?zo(n,r,a,e,i):null}function zo(t,e,i,n,r){if(t=new Po(n,r,t),e&&(t.id=e),i)for(e=new ln(i),i=cn(e);i;)Ho(t,i),un(e,/[ \t]+/gm),i=cn(e);return t}var Wo,qo=this;qo.Re=!0,o.prototype.getBandwidthEstimate=function(t){return 128e3>this.a?t:Math.min(a(this.b),a(this.c))},t.console&&t.console.log.bind&&(s=console.warn.bind(console)),e("shaka.util.Error",u),u.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},u.Severity={RECOVERABLE:1,CRITICAL:2},u.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},u.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_LIVE_CONTENT_NOT_SUPPORTED:4029,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,CONTENT_UNSUPPORTED_BY_BROWSER:9009};var Xo=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;Wo=c.prototype,Wo.fa="",Wo.Aa="",Wo.ja="",Wo.Ja=null,Wo.ca="",Wo.ta="",Wo.toString=function(){var t=[],e=this.fa;if(e&&t.push(y(e,Zo,!0),":"),e=this.ja){t.push("//");var i=this.Aa;i&&t.push(y(i,Zo,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e=this.Ja,null!=e&&t.push(":",String(e))}return(e=this.ca)&&(this.ja&&"/"!=e.charAt(0)&&t.push("/"),t.push(y(e,"/"==e.charAt(0)?Jo:Qo,!0))),(e=this.a.toString())&&t.push("?",e),(e=this.ta)&&t.push("#",y(e,es)),t.join("")},Wo.resolve=function(t){var e=new c(this);"data"===e.fa&&(e=new c);var i=!!t.fa;i?d(e,t.fa):i=!!t.Aa,i?e.Aa=t.Aa:i=!!t.ja,i?e.ja=t.ja:i=null!=t.Ja;var n=t.ca;if(i)h(e,t.Ja);else if(i=!!t.ca){if("/"!=n.charAt(0))if(this.ja&&!this.ca)n="/"+n;else{var r=e.ca.lastIndexOf("/");-1!=r&&(n=e.ca.substr(0,r+1)+n)}if(".."==n||"."==n)n="";else if(-1!=n.indexOf("./")||-1!=n.indexOf("/.")){for(var r=!n.lastIndexOf("/",0),n=n.split("/"),a=[],o=0;o<n.length;){var s=n[o++];"."==s?r&&o==n.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==n.length&&a.push("")):(a.push(s),r=!0)}n=a.join("/")}}return i?e.ca=n:i=""!==t.a.toString(),i?p(e,m(t.a)):i=!!t.ta,i&&(e.ta=t.ta),e};var Zo=/[#\/\?@]/g,Qo=/[\#\?:]/g,Jo=/[\#\?]/g,ts=/[\#\?@]/g,es=/#/g;v.prototype.a=null,v.prototype.c=null,v.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var t,e=[];for(t in this.a)for(var i=encodeURIComponent(t),n=this.a[t],r=0;r<n.length;r++){var a=i;""!==n[r]&&(a+="="+encodeURIComponent(n[r])),e.push(a)}return this.b=e.join("&")},e("shaka.net.NetworkingEngine",I),I.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3};var is={};I.registerScheme=function(t,e){is[t]=e},I.unregisterScheme=function(t){delete is[t]},I.prototype.ce=function(t){this.b.push(t)},I.prototype.registerRequestFilter=I.prototype.ce,I.prototype.Je=function(t){var e=this.b;0<=(t=e.indexOf(t))&&e.splice(t,1)},I.prototype.unregisterRequestFilter=I.prototype.Je,I.prototype.Vc=function(){this.b=[]},I.prototype.clearAllRequestFilters=I.prototype.Vc,I.prototype.de=function(t){this.c.push(t)},I.prototype.registerResponseFilter=I.prototype.de,I.prototype.Ke=function(t){var e=this.c;0<=(t=e.indexOf(t))&&e.splice(t,1)},I.prototype.unregisterResponseFilter=I.prototype.Ke,I.prototype.Wc=function(){this.c=[]},I.prototype.clearAllResponseFilters=I.prototype.Wc,I.prototype.s=function(){this.f=!0,this.b=[],this.c=[];for(var t=[],e=0;e<this.a.length;++e)t.push(this.a[e].catch(P));return Promise.all(t)},I.prototype.destroy=I.prototype.s,I.prototype.request=function(t,e,i){var n=i||function(){return!1};if(this.f)return Promise.reject();e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?C(e.retryParameters):A(),e.uris=C(e.uris);var r=Date.now(),a=Promise.resolve();return this.b.forEach(function(i){a=a.then(i.bind(null,t,e))}),a=a.catch(function(t){throw new u(2,1,1006,t)}),a=a.then(function(){var a=Date.now()-r,o=new _(e.retryParameters,!1,i);return E(o).then(function(){return D(this,t,e,o,0,a,n)}.bind(this))}.bind(this)),this.a.push(a),a.then(function(e){return 0<=this.a.indexOf(a)&&this.a.splice(this.a.indexOf(a),1),this.g&&!e.fromCache&&1==t&&this.g(e.timeMs,e.data.byteLength),e}.bind(this)).catch(function(t){return t&&(t.severity=2),0<=this.a.indexOf(a)&&this.a.splice(this.a.indexOf(a),1),Promise.reject(t)}.bind(this))},I.prototype.request=I.prototype.request,F.prototype.push=function(t,e){this.a.hasOwnProperty(t)?this.a[t].push(e):this.a[t]=[e]},F.prototype.get=function(t){return(t=this.a[t])?t.slice():null},F.prototype.remove=function(t,e){var i=this.a[t];if(i)for(var n=0;n<i.length;++n)i[n]==e&&(i.splice(n,1),--n)},U.prototype.s=function(){return V(this),this.a=null,Promise.resolve()},U.prototype.ia=function(t,e){if(this.a)for(var i=this.a.get(e)||[],n=0;n<i.length;++n){var r=i[n];r.target==t&&(r.ia(),this.a.remove(e,r))}},H.prototype.ia=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null},Y.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},Y.prototype.stopImmediatePropagation=function(){this.a=!0},Y.prototype.stopPropagation=function(){};var ns=1/15,rs={codecs:"codecs",frameRate:"framerate",bandwidth:"bitrate",width:"width",height:"height",channelsCount:"channels"};e("shaka.util.StringUtils.fromUTF8",J),e("shaka.util.StringUtils.fromUTF16",tt),e("shaka.util.StringUtils.fromBytesAutoDetect",et),e("shaka.util.StringUtils.toUTF8",it),rt.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},e("shaka.util.Uint8ArrayUtils.toBase64",st),e("shaka.util.Uint8ArrayUtils.fromBase64",lt),e("shaka.util.Uint8ArrayUtils.fromHex",ut),e("shaka.util.Uint8ArrayUtils.toHex",ct),e("shaka.util.Uint8ArrayUtils.equal",dt),e("shaka.util.Uint8ArrayUtils.concat",function(t){for(var e=0,i=0;i<arguments.length;++i)e+=arguments[i].length;for(var e=new Uint8Array(e),n=0,i=0;i<arguments.length;++i)e.set(arguments[i],n),n+=arguments[i].length;return e}),Wo=ht.prototype,Wo.s=function(){this.c=!0;var t=this.a.map(function(t){return(t.ga.close()||Promise.resolve()).catch(P)});return this.i.reject(),this.f&&t.push(this.f.s()),this.m&&t.push(this.m.setMediaKeys(null).catch(P)),this.B&&(this.B.cancel(),this.B=null),this.D&&(this.D.cancel(),this.D=null),this.f=this.m=this.j=this.v=this.b=null,this.a=[],this.o=[],this.l=this.g=this.h=null,Promise.all(t)},Wo.configure=function(t){this.h=t},Wo.init=function(t,e){var i={},n=[];return this.X=e,this.o=t.offlineSessionIds,vt(this,t,e||0<t.offlineSessionIds.length,i,n),n.length?mt(this,i,n):(this.L=!0,Promise.resolve())},Wo.keySystem=function(){return this.b?this.b.keySystem:""},Wo.nb=function(){var t=this.a.map(function(t){return t=t.ga.expiration,isNaN(t)?1/0:t});return Math.min.apply(Math,t)},Wo.xd=function(t){for(var e=new Uint8Array(t.initData),i=0;i<this.a.length;++i)if(dt(e,this.a[i].initData))return;Tt(this,t.initDataType,e)},Wo.wc=function(t){this.h.delayLicenseRequestUntilPlayed&&this.m.paused&&!this.P?this.G.push(t):wt(this,t)},Wo.qc=function(t){t=t.target;var e;for(e=0;e<this.a.length&&this.a[e].ga!=t;++e);if(e!=this.a.length){var i=!1;t.keyStatuses.forEach(function(t,n){if("string"==typeof n){var r=n;n=t,t=r}if("com.microsoft.playready"==this.b.keySystem&&16==n.byteLength){var r=new DataView(n),a=r.getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,a,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(this.a[e].loaded=!0,this.a.every(function(t){return t.loaded})&&this.i.resolve()),"expired"==t&&(i=!0),r=ct(new Uint8Array(n)),this.C[r]=t}.bind(this));var n=t.expiration-Date.now();(0>n||i&&1e3>n)&&!this.a[e].na&&(this.a.splice(e,1),t.close()),at(this.D,.5)}},Wo.be=function(){function t(t,e){return"expired"==e}!z(this.C)&&X(this.C,t)&&this.g(new u(2,6,6014)),this.l.Jb(this.C)},Wo.Id=function(){for(var t=0;t<this.G.length;t++)wt(this,this.G[t]);this.P=!0,this.G=[]},Wo.ae=function(){this.a.forEach(function(t){var e=t.Ib,i=t.ga.expiration;isNaN(i)&&(i=1/0),i!=e&&(this.l.onExpirationUpdated(t.ga.sessionId,i),t.Ib=i)}.bind(this))};var as={};e("shaka.text.TextEngine.registerParser",Mt),e("shaka.text.TextEngine.unregisterParser",function(t){delete as[t]}),Dt.prototype.s=function(){return this.c=this.f=null,Promise.resolve()},Dt.prototype.re=function(t){this.c=t},Dt.prototype.setDisplayer=Dt.prototype.re,Dt.prototype.remove=function(t,e){return Promise.resolve().then(function(){!this.c||!this.c.remove(t,e)||null==this.a||e<=this.a||t>=this.b||(t<=this.a&&e>=this.b?this.a=this.b=null:t<=this.a&&e<this.b?this.a=e:t>this.a&&e>=this.b&&(this.b=t))}.bind(this))},Bt.prototype.parseInit=function(t){this.Ua(t,0,null,null)},Bt.prototype.parseMedia=function(t,e){return this.Ua(t,e.periodStart,e.segmentStart,e.segmentEnd)},Wo=Ft.prototype,Wo.s=function(){this.i=!0;var t,e=[];for(t in this.c){var i=this.c[t],n=i[0];for(this.c[t]=i.slice(0,1),n&&e.push(n.p.catch(P)),n=1;n<i.length;++n)i[n].p.catch(P),i[n].p.reject()}return this.a&&e.push(this.a.s()),Promise.all(e).then(function(){this.h.s(),this.j=this.a=this.f=this.g=this.h=null,this.b={},this.c={}}.bind(this))},Wo.init=function(t){for(var e in t){var i=t[e],i=Q(i.mimeType,i.codecs);"text"==e?jt(this,i):(i=this.f.addSourceBuffer(i),j(this.h,i,"error",this.De.bind(this,e)),j(this.h,i,"updateend",this.Ia.bind(this,e)),this.b[e]=i,this.c[e]=[])}},Wo.Ab=function(){var t=this.a&&null!=this.a.a?[{start:this.a.a,end:this.a.b}]:[];return{total:xt(this.g.buffered),audio:xt(Vt(this,"audio")),video:xt(Vt(this,"video")),text:t}},Wo.remove=function(t,e,i){return"text"==t?this.a.remove(e,i):$t(this,t,this.Cc.bind(this,t,e,i))},Wo.endOfStream=function(t){return zt(this,function(){t?this.f.endOfStream(t):this.f.endOfStream()}.bind(this))},Wo.ha=function(t){return zt(this,function(){this.f.duration=t}.bind(this))},Wo.aa=function(){return this.f.duration},Wo.Ce=function(t,e){this.b[t].appendBuffer(e)},Wo.Cc=function(t,e,i){i<=e?this.Ia(t):this.b[t].remove(e,i)},Wo.Rc=function(t){var e=this.b[t].appendWindowStart,i=this.b[t].appendWindowEnd;this.b[t].abort(),this.b[t].appendWindowStart=e,this.b[t].appendWindowEnd=i,this.Ia(t)},Wo.$c=function(t){this.g.currentTime-=.001,this.Ia(t)},Wo.te=function(t,e){this.b[t].timestampOffset=e,this.Ia(t)},Wo.qe=function(t,e,i){this.b[t].appendWindowStart=0,this.b[t].appendWindowEnd=i,this.b[t].appendWindowStart=e,this.Ia(t)},Wo.De=function(t){this.c[t][0].p.reject(new u(2,3,3014,this.g.error?this.g.error.code:0))},Wo.Ia=function(t){var e=this.c[t][0];e&&(e.p.resolve(),Wt(this,t))};var os=1,ss=2,ls={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};e("shaka.abr.SimpleAbrManager",fe),fe.prototype.stop=function(){this.h=null,this.c=!1,this.g=[],this.f=null},fe.prototype.stop=fe.prototype.stop,fe.prototype.init=function(t){this.h=t},fe.prototype.init=fe.prototype.init,fe.prototype.chooseVariant=function(){var t=ye(this.a.restrictions,this.g),e=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);if(this.g.length&&!t.length)throw new u(2,4,4012);for(var i=t[0]||null,n=0;n<t.length;++n){var r=t[n],a=(t[n+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;e>=r.bandwidth/this.a.bandwidthDowngradeTarget&&e<=a&&(i=r)}return this.f=Date.now(),i},fe.prototype.chooseVariant=fe.prototype.chooseVariant,fe.prototype.enable=function(){this.c=!0},fe.prototype.enable=fe.prototype.enable,fe.prototype.disable=function(){this.c=!1},fe.prototype.disable=fe.prototype.disable,fe.prototype.segmentDownloaded=function(t,e){var i=this.b;if(!(16e3>e)){var n=8e3*e/t,a=t/1e3;i.a+=e,r(i.b,a,n),r(i.c,a,n)}if(null!=this.f&&this.c)t:{if(this.i){if(Date.now()-this.f<1e3*this.a.switchInterval)break t}else{if(!(128e3<=this.b.a))break t;this.i=!0}i=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(i)}},fe.prototype.segmentDownloaded=fe.prototype.segmentDownloaded,fe.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},fe.prototype.getBandwidthEstimate=fe.prototype.getBandwidthEstimate,fe.prototype.setVariants=function(t){this.g=t},fe.prototype.setVariants=fe.prototype.setVariants,fe.prototype.configure=function(t){this.a=t},fe.prototype.configure=fe.prototype.configure;var us="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),cs="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),ds=["loop","playbackRate"],hs=["pause","play"],ps="adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading".split(" "),fs="drmInfo getAudioLanguages getBufferedInfo getConfiguration getExpiration getManifest getManifestUri getPlaybackRate getTextLanguages getTextTracks getStats getVariantTracks isAudioOnly isBuffering isInProgress isLive isTextTrackVisible keySystem seekRange".split(" "),ys=["getPlayheadTimeAsDate","getPresentationStartTimeAsDate"],gs=[["getConfiguration","configure"]],vs=[["isTextTrackVisible","setTextTrackVisibility"]],ms="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),bs=["load","unload"],_s=!1,Es=null;Wo=be.prototype,Wo.s=function(){return Ee(this),Es&&_e(this),this.G=this.D=this.g=null,this.b=this.h=!1,this.o=this.m=this.f=this.c=this.a=this.i=null,Promise.resolve()},Wo.ba=function(){return this.b},Wo.Pb=function(){return this.C},Wo.init=function(){if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){delete t.__onGCastApiAvailable,this.h=!0,this.g();var e=new chrome.cast.SessionRequest(this.L),e=new chrome.cast.ApiConfig(e,this.pc.bind(this),this.Kd.bind(this),"origin_scoped");chrome.cast.initialize(e,function(){},function(){}),_s&&setTimeout(this.g.bind(this),20),(e=Es)&&e.status!=chrome.cast.SessionStatus.STOPPED?this.pc(e):Es=null}else t.__onGCastApiAvailable=function(t){t&&this.init()}.bind(this)},Wo.Tb=function(t){this.i=t,this.b&&Ae({type:"appData",appData:this.i})},Wo.cast=function(t){return this.h?_s?this.b?Promise.reject(new u(1,8,8002)):(this.f=new b,chrome.cast.requestSession(this.Lb.bind(this,t),this.nc.bind(this)),this.f):Promise.reject(new u(1,8,8001)):Promise.reject(new u(1,8,8e3))},Wo.mb=function(){this.b&&(Ee(this),Es&&(_e(this),Es.stop(function(){},function(){}),Es=null))},Wo.get=function(t,e){if("video"==t){if(0<=hs.indexOf(e))return this.Bc.bind(this,t,e)}else if("player"==t){if(0<=ys.indexOf(e)&&!this.get("player","isLive")())return function(){};if(0<=ms.indexOf(e))return this.Bc.bind(this,t,e);if(0<=bs.indexOf(e))return this.fe.bind(this,t,e);if(0<=fs.indexOf(e))return this.xc.bind(this,t,e)}return this.xc(t,e)},Wo.set=function(t,e,i){this.a[t][e]=i,Ae({type:"set",targetName:t,property:e,value:i})},Wo.Lb=function(t,e){Es=e,e.addUpdateListener(this.m),e.addMessageListener("urn:x-cast:com.google.shaka.v2",this.o),this.oc(),Ae({type:"init",initState:t,appData:this.i}),this.f.resolve()},Wo.nc=function(t){var e=8003;switch(t.code){case"cancel":e=8004;break;case"timeout":e=8005;break;case"receiver_unavailable":e=8006}this.f.reject(new u(2,8,e,t))},Wo.xc=function(t,e){return this.a[t][e]},Wo.Bc=function(t,e){Ae({type:"call",targetName:t,methodName:e,args:Array.prototype.slice.call(arguments,2)})},Wo.fe=function(t,e){var i=Array.prototype.slice.call(arguments,2),n=new b,r=this.v.toString();return this.v++,this.c[r]=n,Ae({type:"asyncCall",targetName:t,methodName:e,args:i,id:r}),n},Wo.pc=function(t){var e=this.B();this.f=new b,this.j=!0,this.Lb(e,t)},Wo.Kd=function(t){_s="available"==t,this.g()},Wo.oc=function(){var t=!!Es&&"connected"==Es.status;if(this.b&&!t){this.G();for(var e in this.a)this.a[e]={};Ee(this)}this.C=(this.b=t)?Es.receiver.friendlyName:"",this.g()},Wo.Ed=function(t,e){var i=ve(e);switch(i.type){case"event":var n=i.targetName,r=i.event;this.D(n,new Y(r.type,r));break;case"update":r=i.update;for(n in r){var i=this.a[n]||{};for(a in r[n])i[a]=r[n][a]}this.j&&(this.P(),this.j=!1);break;case"asyncComplete":n=i.id;var a=i.error;if(i=this.c[n],delete this.c[n],i)if(a){n=new u(a.severity,a.category,a.code);for(r in a)n[r]=a[r];i.reject(n)}else i.resolve()}},ke.prototype.addEventListener=function(t,e){this.xb.push(t,e)},ke.prototype.removeEventListener=function(t,e){this.xb.remove(t,e)},ke.prototype.dispatchEvent=function(t){for(var e=this.xb.get(t.type)||[],i=0;i<e.length;++i){t.target=this.cb,t.currentTarget=this.cb;var n=e[i];try{n.handleEvent?n.handleEvent(t):n.call(this,t)}catch(t){}if(t.a)break}return t.defaultPrevented},i(Te),e("shaka.cast.CastProxy",Te),Te.prototype.s=function(t){return t&&this.a&&this.a.mb(),t=[this.i?this.i.s():null,this.b?this.b.s():null,this.a?this.a.s():null],this.a=this.i=this.j=this.h=this.b=this.c=null,Promise.all(t)},Te.prototype.destroy=Te.prototype.s,Te.prototype.pd=function(){return this.h},Te.prototype.getVideo=Te.prototype.pd,Te.prototype.fd=function(){return this.j},Te.prototype.getPlayer=Te.prototype.fd,Te.prototype.Sc=function(){return!!this.a&&(this.a.h&&_s)},Te.prototype.canCast=Te.prototype.Sc,Te.prototype.ba=function(){return!!this.a&&this.a.ba()},Te.prototype.isCasting=Te.prototype.ba,Te.prototype.Pb=function(){return this.a?this.a.Pb():""},Te.prototype.receiverName=Te.prototype.Pb,Te.prototype.cast=function(){var t=this.hc();return this.a.cast(t).then(function(){return this.b.tb()}.bind(this))},Te.prototype.cast=Te.prototype.cast,Te.prototype.Tb=function(t){this.a.Tb(t)},Te.prototype.setAppData=Te.prototype.Tb,Te.prototype.Ge=function(){var t=this.a;if(t.b){var e=t.B();chrome.cast.requestSession(t.Lb.bind(t,e),t.nc.bind(t))}},Te.prototype.suggestDisconnect=Te.prototype.Ge,Te.prototype.mb=function(){this.a.mb()},Te.prototype.forceDisconnect=Te.prototype.mb,Wo=Te.prototype,Wo.hc=function(){var t={video:{},player:{},playerAfterLoad:{},manifest:this.b.jb,startTime:null};return this.c.pause(),ds.forEach(function(e){t.video[e]=this.c[e]}.bind(this)),this.c.ended||(t.startTime=this.c.currentTime),gs.forEach(function(e){var i=e[1];e=this.b[e[0]](),t.player[i]=e}.bind(this)),vs.forEach(function(e){var i=e[1];e=this.b[e[0]](),t.playerAfterLoad[i]=e}.bind(this)),t},Wo.xe=function(){this.dispatchEvent(new Y("caststatuschanged"))},Wo.ye=function(){this.f.dispatchEvent(new Y(this.h.paused?"pause":"play"))},Wo.Ae=function(){gs.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(this));var t=this.a.get("player","getManifestUri")(),e=this.a.get("video","ended"),i=Promise.resolve(),n=this.c.autoplay,r=null;e||(r=this.a.get("video","currentTime")),t&&(this.c.autoplay=!1,i=this.b.load(t,r),i.catch(function(t){this.b.dispatchEvent(new Y("error",{detail:t}))}.bind(this)));var a={};ds.forEach(function(t){a[t]=this.a.get("video",t)}.bind(this)),i.then(function(){ds.forEach(function(t){this.c[t]=a[t]}.bind(this)),vs.forEach(function(t){var e=t[1];t=this.a.get("player",t[0])(),this.b[e](t)}.bind(this)),this.c.autoplay=n,t&&this.c.play()}.bind(this))},Wo.Ne=function(t){if("addEventListener"==t)return this.f.addEventListener.bind(this.f);if("removeEventListener"==t)return this.f.removeEventListener.bind(this.f);if(this.a.ba()&&!Object.keys(this.a.a.video).length){var e=this.c[t];if("function"!=typeof e)return e}return this.a.ba()?this.a.get("video",t):(e=this.c[t],"function"==typeof e&&(e=e.bind(this.c)),e)},Wo.Pe=function(t,e){this.a.ba()?this.a.set("video",t,e):this.c[t]=e},Wo.Oe=function(t){this.a.ba()||this.f.dispatchEvent(new Y(t.type,t))},Wo.Zd=function(t){return"addEventListener"==t?this.g.addEventListener.bind(this.g):"removeEventListener"==t?this.g.removeEventListener.bind(this.g):"getMediaElement"==t?function(){return this.h}.bind(this):"getNetworkingEngine"==t?this.b.ic.bind(this.b):this.a.ba()&&!Object.keys(this.a.a.video).length&&0<=fs.indexOf(t)||!this.a.ba()?(t=this.b[t],t.bind(this.b)):this.a.get("player",t)},Wo.$d=function(t){this.a.ba()||this.g.dispatchEvent(t)},Wo.ze=function(t,e){this.a.ba()&&("video"==t?this.f.dispatchEvent(e):"player"==t&&this.g.dispatchEvent(e))},i(Ce),e("shaka.cast.CastReceiver",Ce),Ce.prototype.isConnected=function(){return this.i},Ce.prototype.isConnected=Ce.prototype.isConnected,Ce.prototype.sd=function(){return this.f},Ce.prototype.isIdle=Ce.prototype.sd,Ce.prototype.s=function(){var e=this.b?this.b.s():Promise.resolve();return null!=this.h&&t.clearTimeout(this.h),this.m=this.j=this.b=this.a=null,this.i=!1,this.f=!0,this.h=this.g=this.c=null,e.then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},Ce.prototype.destroy=Ce.prototype.s,Wo=Ce.prototype,Wo.vc=function(){this.i=!!cast.receiver.CastReceiverManager.getInstance().getSenders().length,Le(this)},Wo.yc=function(t,e){this.Mb(),Oe(this,{type:"event",targetName:t,event:e},this.c)},Wo.Mb=function(){null!=this.h&&t.clearTimeout(this.h),this.h=t.setTimeout(this.Mb.bind(this),500);var e={video:{},player:{}};cs.forEach(function(t){e.video[t]=this.a[t]}.bind(this));var i=fs;this.b.S()&&(i=i.concat(ys)),i.forEach(function(t){e.player[t]=this.b[t]()}.bind(this)),(i=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=i.level,e.video.muted=i.muted),Oe(this,{type:"update",update:e},this.c)},Wo.Zc=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Oe(this,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},this.c),Oe(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.c)},Wo.Nd=function(t){var e=ve(t.data);switch(e.type){case"init":Pe(this,e.initState,e.appData),this.Mb();break;case"appData":this.m(e.appData);break;case"set":var i=e.targetName,n=e.property,r=e.value;if("video"==i){if(e=cast.receiver.CastReceiverManager.getInstance(),"volume"==n){e.setSystemVolumeLevel(r);break}if("muted"==n){e.setSystemVolumeMuted(r);break}}this.j[i][n]=r;break;case"call":i=e.targetName,n=e.methodName,r=e.args,i=this.j[i],i[n].apply(i,r);break;case"asyncCall":i=e.targetName,n=e.methodName,r=e.args,e=e.id,t=t.senderId,i=this.j[i],i[n].apply(i,r).then(this.Gc.bind(this,t,e,null),this.Gc.bind(this,t,e))}},Wo.zd=function(t){var e=ve(t.data);switch(e.type){case"PLAY":this.a.play(),Re(this,0);break;case"PAUSE":this.a.pause(),Re(this,0);break;case"SEEK":t=e.currentTime;var i=e.resumeState;null!=t&&(this.a.currentTime=Number(t)),i&&"PLAYBACK_START"==i?(this.a.play(),Re(this,0)):i&&"PLAYBACK_PAUSE"==i&&(this.a.pause(),Re(this,0));break;case"STOP":this.b.tb().then(function(){Re(this,0)}.bind(this));break;case"GET_STATUS":Re(this,Number(e.requestId));break;case"VOLUME":i=e.volume,t=i.level;var i=i.muted,n=this.a.volume,r=this.a.muted;null!=t&&(this.a.volume=Number(t)),null!=i&&(this.a.muted=i),n==this.a.volume&&r==this.a.muted||Re(this,0);break;case"LOAD":i=e.media.contentId,t=e.currentTime;var a=this.o(i);this.a.autoplay=!0,this.b.load(a,t).then(function(){Re(this,0,{contentId:a,streamType:this.b.S()?"LIVE":"BUFFERED",contentType:""})}.bind(this)).catch(function(t){var i="LOAD_FAILED";7==t.category&&7e3==t.code&&(i="LOAD_CANCELLED"),Oe(this,{requestId:Number(e.requestId),type:i},this.g)}.bind(this));break;default:Oe(this,{requestId:Number(e.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.g)}},Wo.Gc=function(t,e,i){Oe(this,{type:"asyncComplete",id:e,error:i},this.c,t)};var As={IDLE:"IDLE",Pc:"PLAYING",Nc:"BUFFERING",Oc:"PAUSED"},ks={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};e("shaka.media.InitSegmentReference",ti),e("shaka.media.SegmentReference",ei),e("shaka.util.DataViewReader",ii);var Ts=1;ii.Endianness={Qe:0,Se:Ts},ii.prototype.ea=function(){return this.w<this.O.byteLength},ii.prototype.hasMoreData=ii.prototype.ea,ii.prototype.hd=function(){return this.w},ii.prototype.getPosition=ii.prototype.hd,ii.prototype.bd=function(){return this.O.byteLength},ii.prototype.getLength=ii.prototype.bd,ii.prototype.Ob=function(){try{var t=this.O.getUint8(this.w)}catch(t){ni()}return this.w+=1,t},ii.prototype.readUint8=ii.prototype.Ob,ii.prototype.Ac=function(){try{var t=this.O.getUint16(this.w,this.a)}catch(t){ni()}return this.w+=2,t},ii.prototype.readUint16=ii.prototype.Ac,ii.prototype.F=function(){try{var t=this.O.getUint32(this.w,this.a)}catch(t){ni()}return this.w+=4,t},ii.prototype.readUint32=ii.prototype.F,ii.prototype.zc=function(){try{var t=this.O.getInt32(this.w,this.a)}catch(t){ni()}return this.w+=4,t},ii.prototype.readInt32=ii.prototype.zc,ii.prototype.Wa=function(){try{if(this.a)var t=this.O.getUint32(this.w,!0),e=this.O.getUint32(this.w+4,!0);else e=this.O.getUint32(this.w,!1),t=this.O.getUint32(this.w+4,!1)}catch(t){ni()}if(2097151<e)throw new u(2,3,3001);return this.w+=8,e*Math.pow(2,32)+t},ii.prototype.readUint64=ii.prototype.Wa,ii.prototype.Ka=function(t){this.w+t>this.O.byteLength&&ni();var e=ri(this,this.w,this.w+t);return this.w+=t,new Uint8Array(e)},ii.prototype.readBytes=ii.prototype.Ka,ii.prototype.J=function(t){this.w+t>this.O.byteLength&&ni(),this.w+=t},ii.prototype.skip=ii.prototype.J,ii.prototype.Nb=function(){for(var t=this.w;this.ea()&&this.O.getUint8(this.w);)this.w+=1;return t=ri(this,t,this.w),this.w+=1,J(t)},ii.prototype.readTerminatedString=ii.prototype.Nb,e("shaka.util.Mp4Parser",ai),ai.prototype.H=function(t,e){var i=ui(t);return this.b[i]=0,this.a[i]=e,this},ai.prototype.box=ai.prototype.H,ai.prototype.da=function(t,e){var i=ui(t);return this.b[i]=1,this.a[i]=e,this},ai.prototype.fullBox=ai.prototype.da,ai.prototype.parse=function(t){for(t=new ii(new DataView(t),0);t.ea();)this.rb(0,t)},ai.prototype.parse=ai.prototype.parse,ai.prototype.rb=function(t,e){var i=e.w,n=e.F(),r=e.F();switch(n){case 0:n=e.O.byteLength-i;break;case 1:n=e.Wa()}var a=this.a[r];if(a){var o=null,s=null;1==this.b[r]&&(s=e.F(),o=s>>>24,s&=16777215),r=i+n-e.w,r=0<r?e.Ka(r).buffer:new ArrayBuffer(0),r=new ii(new DataView(r),0),a({Ua:this,version:o,gc:s,u:r,size:n,start:i+t})}else e.J(i+n-e.w)},ai.prototype.parseNext=ai.prototype.rb,ai.children=oi,ai.sampleDescription=si,ai.allData=li,e("shaka.media.SegmentIndex",hi),hi.prototype.s=function(){return this.a=null,Promise.resolve()},hi.prototype.destroy=hi.prototype.s,hi.prototype.find=function(t){for(var e=this.a.length-1;0<=e;--e){var i=this.a[e];if(t>=i.startTime&&t<i.endTime)return i.position}return this.a.length&&t<this.a[0].startTime?this.a[0].position:null},hi.prototype.find=hi.prototype.find,hi.prototype.get=function(t){return this.a.length?(t-=this.a[0].position,0>t||t>=this.a.length?null:this.a[t]):null},hi.prototype.get=hi.prototype.get,hi.prototype.pb=function(t){for(var e,i,n,r=[],a=e=0;e<this.a.length&&a<t.length;)i=this.a[e],n=t[a],i.startTime<n.startTime?(r.push(i),e++):(i.startTime>n.startTime?e||r.push(n):(.1<Math.abs(i.endTime-n.endTime)?(n=new ei(i.position,n.startTime,n.endTime,n.a,n.U,n.K),r.push(n)):r.push(i),e++),a++);for(;e<this.a.length;)r.push(this.a[e++]);if(r.length)for(e=r[r.length-1].position+1;a<t.length;)n=t[a++],n=new ei(e++,n.startTime,n.endTime,n.a,n.U,n.K),r.push(n);else r=t;this.a=r},hi.prototype.merge=hi.prototype.pb,hi.prototype.zb=function(t){for(var e=0;e<this.a.length&&!(this.a[e].endTime>t);++e);this.a.splice(0,e)},hi.prototype.evict=hi.prototype.zb;var ws;fi.prototype.ea=function(){return this.a.ea()},bi.prototype.parse=function(t,e,i,n){var r;if(e=new fi(new DataView(e)),440786851!=yi(e).id)throw new u(2,3,3008);var a=yi(e);if(408125543!=a.id)throw new u(2,3,3009);for(e=a.a.byteOffset,a=new fi(a.a),r=null;a.ea();){var o=yi(a);if(357149030==o.id){r=o;break}}if(!r)throw new u(2,3,3010);for(a=new fi(r.a),r=1e6,o=null;a.ea();){var s=yi(a);if(2807729==s.id)r=mi(s);else if(17545==s.id)if(o=s,4==o.a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new u(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new u(2,3,3011);if(a=r/1e9,r=o*a,t=yi(new fi(new DataView(t))),475249515!=t.id)throw new u(2,3,3007);return _i(t,e,a,r,i,n)};var Cs={},Ss={};e("shaka.media.ManifestParser.registerParserByExtension",function(t,e){Ss[t]=e}),e("shaka.media.ManifestParser.registerParserByMime",function(t,e){Cs[t]=e}),e("shaka.media.PresentationTimeline",Bi),Bi.prototype.aa=function(){return this.a},Bi.prototype.getDuration=Bi.prototype.aa,Bi.prototype.ha=function(t){this.a=t},Bi.prototype.setDuration=Bi.prototype.ha,Bi.prototype.jd=function(){return this.c},Bi.prototype.getPresentationStartTime=Bi.prototype.jd,Bi.prototype.Ic=function(t){this.i=t},Bi.prototype.setClockOffset=Bi.prototype.Ic,Bi.prototype.sb=function(t){this.h=t},Bi.prototype.setStatic=Bi.prototype.sb,Bi.prototype.ld=function(){return this.f},Bi.prototype.getSegmentAvailabilityDuration=Bi.prototype.ld,Bi.prototype.Kc=function(t){this.f=t},Bi.prototype.setSegmentAvailabilityDuration=Bi.prototype.Kc,Bi.prototype.Jc=function(t){this.j=t},Bi.prototype.setDelay=Bi.prototype.Jc,Bi.prototype.Ha=function(t,e){e.length&&(this.b=e.reduce(function(t,e){return Math.max(t,e.endTime-e.startTime)},this.b))},Bi.prototype.notifySegments=Bi.prototype.Ha,Bi.prototype.Gb=function(t){this.b=Math.max(this.b,t)},Bi.prototype.notifyMaxSegmentDuration=Bi.prototype.Gb,Bi.prototype.S=function(){return 1/0==this.a&&!this.h},Bi.prototype.isLive=Bi.prototype.S,Bi.prototype.va=function(){return 1/0!=this.a&&!this.h},Bi.prototype.isInProgress=Bi.prototype.va,Bi.prototype.ka=function(){return this.Ea(0)},Bi.prototype.getSegmentAvailabilityStart=Bi.prototype.ka,Bi.prototype.Ea=function(t){if(1/0==this.f)return this.g;var e=this.ua();return Math.max(this.g,Math.min(e-this.f+t,e))},Bi.prototype.getSafeAvailabilityStart=Bi.prototype.Ea,Bi.prototype.Hc=function(t){this.g=t},Bi.prototype.setAvailabilityStart=Bi.prototype.Hc,Bi.prototype.ua=function(){return this.S()||this.va()?Math.min(Math.max(0,(Date.now()+this.i)/1e3-this.b-this.c),this.a):this.a},Bi.prototype.getSegmentAvailabilityEnd=Bi.prototype.ua,Bi.prototype.ob=function(){return Math.max(0,this.ua()-(this.S()||this.va()?this.j:0))},Bi.prototype.getSeekRangeEnd=Bi.prototype.ob,e("shaka.dash.DashParser",Fi),Wo=Fi.prototype,Wo.configure=function(t){this.a=t},Wo.start=function(t,e){return this.f=[t],this.l=e,Ui(this).then(function(){return this.l&&$i(this,0),this.b}.bind(this))},Wo.stop=function(){return this.a=this.l=null,this.f=[],this.b=null,this.h=[],this.i={},null!=this.c&&(t.clearTimeout(this.c),this.c=null),Promise.resolve()},Wo.update=function(){Ui(this).catch(function(t){this.l&&this.l.onError(t)}.bind(this))},Wo.onExpirationUpdated=function(){},Wo.Vd=function(t,e){t.W=zi(e,t.Y,null);var i=!1,n=xe(e,"Role"),r=n.map(function(t){return t.getAttribute("value")}).filter(O),a=void 0;"text"==t.W.contentType&&(a="subtitle");for(var o=0;o<n.length;o++){var s=n[o].getAttribute("schemeIdUri");if(null==s||"urn:mpeg:dash:role:2011"==s)switch(s=n[o].getAttribute("value")){case"main":i=!0;break;case"caption":case"subtitle":a=s}}var l=null,c=!1;if(xe(e,"EssentialProperty").forEach(function(t){"http://dashif.org/guidelines/trickmode"==t.getAttribute("schemeIdUri")?l=t.getAttribute("value"):c=!0}),c)return null;var n=xe(e,"ContentProtection"),d=He(n,this.a.dash.customScheme,this.a.dash.ignoreDrmInfo),n=Xt(e.getAttribute("lang")||"und"),s=e.getAttribute("label"),o=xe(e,"Representation"),r=o.map(this.Yd.bind(this,t,d,a,n,s,i,r)).filter(function(t){return!!t});if(!r.length)throw new u(2,4,4003);return t.W.contentType&&"application"!=t.W.contentType||(t.W.contentType=Qi(r[0].mimeType,r[0].codecs),r.forEach(function(e){e.type=t.W.contentType})),r.forEach(function(t){d.drmInfos.forEach(function(e){t.keyId&&e.keyIds.push(t.keyId)})}),a=o.map(function(t){return t.getAttribute("id")}).filter(O),{id:t.W.id||"__fake__"+this.g++,contentType:t.W.contentType,language:n,Eb:i,streams:r,drmInfos:d.drmInfos,Yb:l,ge:a}},Wo.Yd=function(t,e,i,n,r,a,o,s){if(t.A=zi(s,t.W,null),!qi(t.A))return null;t.bandwidth=Me(s,"bandwidth",je)||0;var l=this.he.bind(this);if(t.A.Xa)l=ki(t,l);else if(t.A.pa)l=Ci(t,this.i);else if(t.A.Ya)l=Oi(t,l,this.i,!!this.b);else{var u=t.A.$,c=t.T.duration||0;l={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(t){return 0<=t&&t<c?1:null},getSegmentReference:function(t){return 1!=t?null:new ei(1,0,c,function(){return u},0,null)},initSegmentReference:null,Z:0}}return s=xe(s,"ContentProtection"),s=Ye(s,this.a.dash.customScheme,e,this.a.dash.ignoreDrmInfo),{id:this.g++,createSegmentIndex:l.createSegmentIndex,findSegmentPosition:l.findSegmentPosition,getSegmentReference:l.getSegmentReference,initSegmentReference:l.initSegmentReference,presentationTimeOffset:l.Z,mimeType:t.A.mimeType,codecs:t.A.codecs,frameRate:t.A.frameRate,bandwidth:t.bandwidth,width:t.A.width,height:t.A.height,kind:i,encrypted:0<e.drmInfos.length,keyId:s,language:n,label:r,type:t.W.contentType,primary:a,trickModeVideo:null,containsEmsgBoxes:t.A.containsEmsgBoxes,roles:o,channelsCount:t.A.Hb}},Wo.Be=function(){this.c=null;var t=Date.now();Ui(this).then(function(){this.l&&$i(this,(Date.now()-t)/1e3)}.bind(this)).catch(function(t){this.l&&(t.severity=1,this.l.onError(t),$i(this,0))}.bind(this))},Wo.Xd=function(t,e,i){var n=i.getAttribute("schemeIdUri")||"",r=i.getAttribute("value")||"",a=Me(i,"timescale",Ge)||1;xe(i,"Event").forEach(function(i){var o=Me(i,"presentationTime",Ge)||0,s=Me(i,"duration",Ge)||0,o=o/a+t,s=o+s/a;null!=e&&(o=Math.min(o,t+e),s=Math.min(s,t+e)),i={schemeIdUri:n,value:r,startTime:o,endTime:s,id:i.getAttribute("id")||"",eventElement:i},this.l.onTimelineRegionAdded(i)}.bind(this))},Wo.he=function(t,e,i){return t=x(t,this.a.retryParameters),null!=e&&(t.headers.Range="bytes="+e+"-"+(null!=i?i:"")),this.l.networkingEngine.request(1,t).then(function(t){return t.data})},Ss.mpd=Fi,Cs["application/dash+xml"]=Fi,tn.prototype.toString=function(){function t(t){return t.name+'="'+t.value+'"'}return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(t).join(","):"#"+this.name},tn.prototype.getAttribute=function(t){var e=this.a.filter(function(e){return e.name==t});return e.length?e[0]:null};var Ls="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Ps="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");e("shaka.net.DataUriPlugin",yn),yn.parse=function(e){var i=e.split(":");if(2>i.length||"data"!=i[0])throw new u(2,1,1004,e);if(i=i.slice(1).join(":").split(","),2>i.length)throw new u(2,1,1004,e);var n=i[0],i=t.decodeURIComponent(i.slice(1).join(",")),n=n.split(";"),r=null;if(1<n.length&&(r=n[1]),"base64"==r)e=lt(i).buffer;else{if(r)throw new u(2,1,1005,e);e=it(i)}return{data:e,contentType:n[0]}},is.data=yn,e("shaka.hls.HlsParser",gn),Wo=gn.prototype,Wo.configure=function(t){this.g=t},Wo.start=function(t,e){return this.l=e,this.m=t,Un(this,t).then(function(e){return mn(this,e.data,t).then(function(){return jn(this,this.b),this.B}.bind(this))}.bind(this))},Wo.stop=function(){return this.g=this.l=null,this.f={},this.C={},this.B=null,Promise.resolve()},Wo.update=function(){if(this.c){for(var t=[],e=Object.keys(this.o),i=0;i<e.length;i++){var n=e[i];t.push(vn(this,this.o[n],n))}return Promise.all(t)}},Wo.onExpirationUpdated=function(){};var Os={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},Rs={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};gn.prototype.G=function(){this.l&&(this.h=null,this.update().then(function(){jn(this,this.b)}.bind(this)).catch(function(t){this.l&&(t.severity=1,this.l.onError(t),jn(this,0))}.bind(this)))};var Is={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(t){if("SAMPLE-AES-CENC"!=Bn(t,"METHOD"))return null;var e=Bn(t,"URI"),e=yn.parse(e),e=new Uint8Array(e.data),e=$("com.widevine.alpha",[{initDataType:"cenc",initData:e}]);return(t=nn(t,"KEYID"))&&(e.keyIds=[t.substr(2).toLowerCase()]),e}};Ss.m3u8=gn,Cs["application/x-mpegurl"]=gn,Cs["application/vnd.apple.mpegurl"]=gn,Wo=Vn.prototype,Wo.s=function(){var t=this.b.s();return this.b=null,this.f&&(this.f.cancel(),this.f=null),this.h&&(this.h.cancel(),this.h=null),this.g&&(this.g.cancel(),this.g=null),this.L=this.P=this.v=this.c=this.a=null,t},Wo.Bb=function(){return this.i},Wo.Kb=function(){this.B=!0,this.tc()},Wo.Jd=function(){var t=this.j||0>this.i?0:this.i;this.a.playbackRate&&this.a.playbackRate!=t&&$n(this,this.a.playbackRate)},Wo.rc=function(){var t=Kn(this);this.b.ia(this.a,"timeupdate"),this.g.cancel(),.001>Math.abs(this.a.currentTime-t)?(j(this.b,this.a,"seeking",this.uc.bind(this)),j(this.b,this.a,"playing",this.sc.bind(this))):(G(this.b,this.a,"seeking",this.Ld.bind(this)),this.a.currentTime=t)},Wo.Ld=function(){j(this.b,this.a,"seeking",this.uc.bind(this)),j(this.b,this.a,"playing",this.sc.bind(this))},Wo.tc=function(){if(this.a.readyState&&!this.a.paused){this.a.readyState!=this.G&&(this.o=!1,this.G=this.a.readyState);var t=this.v.smallGapLimit,e=this.a.currentTime,i=this.a.buffered;if(e<this.c.presentationTimeline.ka())i=zn(this,e),Wn(this,e,i);else{t:{if(i&&i.length&&!(1==i.length&&1e-6>i.end(0)-i.start(0))){var n=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(n=.5);for(var r=0;r<i.length;r++)if(i.start(r)>e&&(!r||i.end(r-1)-e<=n)){n=r;break t}}n=null}if(null==n){if(3>this.a.readyState&&0<this.a.playbackRate)if(this.D!=e)this.D=e,this.X=Date.now(),this.C=!1;else if(!this.C&&this.X<Date.now()-1e3)for(n=0;n<i.length;n++)if(e>=i.start(n)&&e<i.end(n)-.5){this.a.currentTime+=.1,this.D=this.a.currentTime,this.C=!0;break}}else if((n||this.B)&&!((r=i.start(n))>=this.c.presentationTimeline.ob())){var a=r-e,t=a<=t,o=!1;t||this.o||(this.o=!0,a=new Y("largegap",{currentTime:e,gapSize:a}),a.cancelable=!0,this.L(a),this.v.jumpLargeGaps&&!a.defaultPrevented&&(o=!0)),(t||o)&&(n&&i.end(n-1),Wn(this,e,r))}}}},Wo.wd=function(){this.m=zn(this,this.a.currentTime)},Wo.uc=function(){this.B=!1;var t=this.a.currentTime,e=zn(this,t);.001<Math.abs(e-t)?Wn(this,t,e):(this.o=!1,this.P())},Wo.sc=function(){var t=this.a.currentTime,e=zn(this,t);.001<Math.abs(e-t)&&Wn(this,t,e)},Xn.prototype.s=function(){var t=this.j?this.j.s():Promise.resolve();return this.j=null,Jn(this),this.D=this.h=this.m=this.B=this.g=this.C=this.a=null,this.c=[],t},Xn.prototype.v=function(t){if(!this.c.some(function(e){return e.info.schemeIdUri==t.schemeIdUri&&e.info.startTime==t.startTime&&e.info.endTime==t.endTime})){var e={info:t,status:1};this.c.push(e);var i=new Y("timelineregionadded",{detail:Zn(t)});this.h(i),this.o(!0,e)}},Xn.prototype.o=function(t,e){var i=e.info.startTime>this.a.currentTime?1:e.info.endTime<this.a.currentTime?3:2,n=2==e.status,r=2==i;i!=e.status&&((!t||n||r)&&(n||this.h(new Y("timelineregionenter",{detail:Zn(e.info)})),r||this.h(new Y("timelineregionexit",{detail:Zn(e.info)}))),e.status=i)},Xn.prototype.G=function(){this.f=null,Qn(this);var t=he(this.g,this.a.currentTime);t!=this.i&&(-1!=this.i&&this.D(),this.i=t);var t=It(this.a.buffered,this.a.currentTime),e=Ot(this.a.buffered),i=this.g.presentationTimeline,n=i.ua(),r="ended"==this.C.readyState,e=i.S()&&e>=n||this.a.ended||r;this.b?(i=1*Math.max(this.g.minBufferTime||0,this.B.rebufferingGoal),(e||t>=i)&&0!=this.b&&(this.b=!1,this.m(!1))):!e&&.5>t&&1!=this.b&&(this.b=!0,this.m(!0)),this.c.forEach(this.o.bind(this,!1))},Wo=tr.prototype,Wo.s=function(){for(var t in this.b)Cr(this.b[t]);return this.g=this.b=this.i=this.f=this.m=this.a=this.l=null,this.c=!0,Promise.resolve()},Wo.configure=function(t){this.g=t,this.v=new _({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0},!0)},Wo.init=function(){var t=Yn(this.l.Va),t=this.l.mc(this.a.periods[he(this.a,t)]);return t.variant||t.text?ur(this,t).then(function(){this.l&&this.l.Ad&&this.l.Ad()}.bind(this)):Promise.reject(new u(2,5,5005))},Wo.Ee=function(t){if(!this.c&&!t.xa&&null!=t.qa&&!t.sa)if(t.qa=null,t.ra)Tr(this,t,t.vb);else{try{var e=pr(this,t);null!=e&&(wr(this,t,e),t.Ra=!1)}catch(t){return void Sr(this,t)}e=W(this.b),Er(this,t),e.every(function(t){return t.endOfStream})&&this.l.M.endOfStream().then(function(){this.a.presentationTimeline.ha(this.l.M.aa())}.bind(this))}},Wo.Wd=function(t,e,i){var n=i.u.Nb(),r=i.u.Nb(),a=i.u.F(),o=i.u.F(),s=i.u.F(),l=i.u.F();i=i.u.Ka(i.u.O.byteLength-i.u.w),t=t.startTime+e.startTime+o/a,"urn:mpeg:dash:event:2012"==n?this.l.Cd():this.l.onEvent(new Y("emsg",{detail:{startTime:t,endTime:t+s/a,schemeIdUri:n,value:r,timescale:a,presentationTimeDelta:o,eventDuration:s,id:l,messageData:i}}))},e("shaka.net.HttpPlugin",Lr),is.http=Lr,is.https=Lr,Wo=Pr.prototype,Wo.init=function(t,e){return Dr(this,t,e).then(function(){var e=Object.keys(t);return Promise.all(e.map(function(t){return Ir(this,t).then(function(e){this.c[t]=e}.bind(this))}.bind(this)))}.bind(this))},Wo.s=function(){return Promise.all(this.b.map(function(t){try{t.transaction.abort()}catch(t){}return t.N.catch(P)})).then(function(){this.a&&(this.a.close(),this.a=null)}.bind(this))},Wo.get=function(t,e){var i;return xr(this,t,"readonly",function(t){i=t.get(e)}).then(function(){return i.result})},Wo.forEach=function(t,e){return xr(this,t,"readonly",function(t){t.openCursor().onsuccess=function(t){(t=t.target.result)&&(e(t.value),t.continue())}})},Wo.remove=function(t,e){return xr(this,t,"readwrite",function(t){t.delete(e)})};var xs={manifest:"key",segment:"key"};Hr.prototype.s=function(){var t=this.j,e=this.m,i=this.i||Promise.resolve();return e.length&&(i=i.then(function(){return Rr(t,e)})),this.b={},this.m=[],this.i=this.a=this.B=this.v=this.j=this.o=null,i},Wo=zr.prototype,Wo.configure=function(){},Wo.start=function(t){var e=/^offline:([0-9]+)$/.exec(t);if(!e)return Promise.reject(new u(2,1,9004,t));var i=Number(e[1]),n=Vr();return this.a=i,n?n.init(xs).then(function(){return n.get("manifest",i)}).then(function(t){if(!t)throw new u(2,9,9003,i);return Wr(t)}).then(function(t){return n.s().then(function(){return t})},function(t){return n.s().then(function(){throw t})}):Promise.reject(new u(2,9,9e3))},Wo.stop=function(){return Promise.resolve()},Wo.update=function(){},Wo.onExpirationUpdated=function(t,e){var i=Vr();i.init(xs).then(function(){return i.get("manifest",this.a)}.bind(this)).then(function(n){if(n&&!(0>n.sessionIds.indexOf(t))&&(void 0==n.expiration||n.expiration>e))return n.expiration=e,Or(i,"manifest",n)}).catch(function(){}).then(function(){return i.s()})},Cs["application/x-offline-manifest"]=zr,e("shaka.offline.OfflineScheme",qr),is.offline=qr,e("shaka.text.SimpleTextDisplayer",Xr),Xr.prototype.remove=function(t,e){return!!this.a&&(Qr(this,function(i){return!(i.startTime>=e||i.endTime<=t)}),!0)},Xr.prototype.remove=Xr.prototype.remove,Xr.prototype.append=function(t){for(var e=[],i=0;i<t.length;i++){var n=Zr(t[i]);n&&e.push(n)}e.slice().sort(function(t,i){return t.startTime!=i.startTime?t.startTime-i.startTime:t.endTime!=i.endTime?t.endTime-i.startTime:e.indexOf(i)-e.indexOf(t)}).forEach(function(t){this.a.addCue(t)}.bind(this))},Xr.prototype.append=Xr.prototype.append,Xr.prototype.s=function(){return this.a&&Qr(this,function(){return!0}),this.a=null,Promise.resolve()},Xr.prototype.destroy=Xr.prototype.s,Xr.prototype.isTextVisible=function(){return"showing"==this.a.mode},Xr.prototype.isTextVisible=Xr.prototype.isTextVisible,Xr.prototype.setTextVisibility=function(t){this.a.mode=t?"showing":"hidden"},Xr.prototype.setTextVisibility=Xr.prototype.setTextVisibility,Jr.prototype.then=function(t){return this.a=this.a.then(t).then(function(t){return this.b?(this.g(),Promise.reject(this.h)):Promise.resolve(t)}.bind(this)),this},Jr.prototype.cancel=function(t){return this.c?Promise.resolve():(this.b=!0,this.h=t,this.i)},i(ea),e("shaka.Player",ea),ea.prototype.s=function(){return this.G=!0,ia(this).then(function(){var t=Promise.all([this.Qa,ca(this),this.o?this.o.s():null,this.v?this.v.s():null]);return this.f=null,this.kb=!1,this.c=this.v=this.g=this.o=null,t}.bind(this))},ea.prototype.destroy=ea.prototype.s,ea.version="v2.2.7";var Ds={};ea.registerSupportPlugin=function(t,e){Ds[t]=e},ea.isBrowserSupported=function(){return!!(t.Promise&&t.Uint8Array&&Array.prototype.forEach&&t.MediaSource&&MediaSource.isTypeSupported&&t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration)},ea.probeSupport=function(){return St().then(function(t){t={manifest:Mi(),media:Ut(),drm:t};for(var e in Ds)t[e]=Ds[e]();return t})},ea.prototype.load=function(t,e,i){var n=this.tb(),r=new Jr;this.Ba=r,this.dispatchEvent(new Y("loading"));var a=Date.now();return ta(r.then(function(){return n}).then(function(){return this.j=fa(),j(this.o,this.f,"playing",this.$a.bind(this)),j(this.o,this.f,"pause",this.$a.bind(this)),j(this.o,this.f,"ended",this.$a.bind(this)),this.g=new this.c.abrFactory,oa(this),this.B=new this.c.textDisplayFactory,this.B.setTextVisibility(this.kb),Ni(t,this.v,this.c.manifest.retryParameters,i)}.bind(this)).then(function(e){return this.i=new e,this.i.configure(this.c.manifest),e={networkingEngine:this.v,filterNewPeriod:this.lb.bind(this),filterAllPeriods:this.Vb.bind(this),onTimelineRegionAdded:this.Pd.bind(this),onEvent:this.Za.bind(this),onError:this.Ma.bind(this)},2<this.i.start.length?(s("The ManifestParser interface has changed. Please upgrade your plugin to accept the PlayerInterface structure. See the ManifestParser documentation for details."),this.i.start(t,this.v,e.filterNewPeriod,e.onError,e.onEvent)):this.i.start(t,e)}.bind(this)).then(function(e){if(e.periods.some(function(t){return t.variants.some(function(t){return t.video&&t.audio})})&&e.periods.forEach(function(t){t.variants=t.variants.filter(function(t){return t.video&&t.audio})}),0==e.periods.length)throw new u(2,4,4014);return this.b=e,this.jb=t,this.m=new ht({Ta:this.v,onError:this.Ma.bind(this),Jb:this.Bd.bind(this),onExpirationUpdated:this.yd.bind(this),onEvent:this.Za.bind(this)}),this.m.configure(this.c.drm),this.m.init(e,!1)}.bind(this)).then(function(){this.Vb(this.b.periods),this.eb=Date.now()/1e3,this.Na=this.c.preferredAudioLanguage,this.ab=this.c.preferredTextLanguage;var t=this.b.presentationTimeline.aa(),e=this.c.playRangeEnd,i=this.c.playRangeStart;return 0<i&&(this.S()||this.b.presentationTimeline.Hc(i)),e<t&&(this.S()||this.b.presentationTimeline.ha(e)),Promise.all([pt(this.m,this.f),this.hb])}.bind(this)).then(function(){return this.g.chooseStreams?(s("AbrManager API has changed. The SwitchCallback signature has changed to accept a variant instead of a map. Please update your AbrManager. The old API will be removed in v2.3."),this.g.init(this.He.bind(this))):this.g.init(this.Mc.bind(this)),this.h=new Vn(this.f,this.b,this.c.streaming,void 0==e?null:e,this.ve.bind(this),this.Za.bind(this)),this.C=new Xn(this.f,this.P,this.b,this.c.streaming,this.Lc.bind(this),this.Za.bind(this),this.ue.bind(this)),this.L=new Ft(this.f,this.P,this.B),this.a=new tr(this.b,{Va:this.h,M:this.L,Ta:this.v,mc:this.vd.bind(this),lc:this.Tc.bind(this),onError:this.Ma.bind(this),onEvent:this.Za.bind(this),Cd:this.Dd.bind(this),Kb:this.Md.bind(this),filterNewPeriod:this.lb.bind(this),filterAllPeriods:this.Vb.bind(this)}),this.a.configure(this.c.streaming),this.dispatchEvent(new Y("streaming")),na(this),this.a.init()}.bind(this)).then(function(){if(this.c.streaming.startAtSegmentBoundary){var t=va(this,Yn(this.h));Hn(this.h,t)}this.b.periods.forEach(this.lb.bind(this)),Ea(this),_a(this);var t=er(this.a),e=oe(t,this.Na,this.bb);this.g.setVariants(e),t.variants.some(function(t){return t.primary}),this.ib.forEach(this.C.v.bind(this.C)),this.ib=[],G(this.o,this.f,"loadeddata",function(){this.j.loadLatency=(Date.now()-a)/1e3}.bind(this)),this.Ba=null}.bind(this))).catch(function(t){return this.Ba==r&&(this.Ba=null,this.dispatchEvent(new Y("unloading"))),Promise.reject(t)}.bind(this))},ea.prototype.load=ea.prototype.load,ea.prototype.configure=function(t){if(t.abr&&t.abr.manager){s("AbrManager configuration has changed. Please use abrFactory instead of abr.manager. The old API will be removed in v2.3.");var e=t.abr.manager;delete t.abr.manager,t.abrFactory=function(){return e}}t.streaming&&null!=t.streaming.infiniteRetriesForLiveStreams&&(s("Streaming configuration has changed. Please use streaming.failureCallback instead of streaming.infiniteRetriesForLiveStreams. The old API will be removed in v2.3."),this.ac=!!t.streaming.infiniteRetriesForLiveStreams,delete t.streaming.infiniteRetriesForLiveStreams),w(this.c,t,pa(this),ha(),""),aa(this,"restrictions"in t)},ea.prototype.configure=ea.prototype.configure,ea.prototype.getConfiguration=function(){var t=pa(this);return w(t,this.c,pa(this),ha(),""),t},ea.prototype.getConfiguration=ea.prototype.getConfiguration,ea.prototype.ie=function(){this.c=pa(this),aa(this,!0)},ea.prototype.resetConfiguration=ea.prototype.ie,ea.prototype.ed=function(){return this.f},ea.prototype.getMediaElement=ea.prototype.ed,ea.prototype.ic=function(){return this.v},ea.prototype.getNetworkingEngine=ea.prototype.ic,ea.prototype.dd=function(){return this.jb},ea.prototype.getManifestUri=ea.prototype.dd,ea.prototype.S=function(){return!!this.b&&this.b.presentationTimeline.S()},ea.prototype.isLive=ea.prototype.S,ea.prototype.va=function(){return!!this.b&&this.b.presentationTimeline.va()},ea.prototype.isInProgress=ea.prototype.va,ea.prototype.qd=function(){if(!this.b||!this.b.periods.length)return!1;var t=this.b.periods[0].variants;return!!t.length&&!t[0].video},ea.prototype.isAudioOnly=ea.prototype.qd,ea.prototype.ke=function(){var t=0,e=0;return this.b&&(e=this.b.presentationTimeline,t=e.ka(),e=e.ob()),{start:t,end:e}},ea.prototype.seekRange=ea.prototype.ke,ea.prototype.keySystem=function(){return this.m?this.m.keySystem():""},ea.prototype.keySystem=ea.prototype.keySystem,ea.prototype.drmInfo=function(){return this.m?this.m.b:null},ea.prototype.drmInfo=ea.prototype.drmInfo,ea.prototype.nb=function(){return this.m?this.m.nb():1/0},ea.prototype.getExpiration=ea.prototype.nb,ea.prototype.rd=function(){return this.Pa},ea.prototype.isBuffering=ea.prototype.rd,ea.prototype.tb=function(){return this.G?Promise.resolve():(this.dispatchEvent(new Y("unloading")),ia(this).then(function(){return this.Qa||(this.Qa=da(this).then(function(){this.Qa=null}.bind(this))),this.Qa}.bind(this)))},ea.prototype.unload=ea.prototype.tb,ea.prototype.Bb=function(){return this.h?this.h.Bb():0},ea.prototype.getPlaybackRate=ea.prototype.Bb,ea.prototype.Ie=function(t){this.h&&$n(this.h,t),this.a&&rr(this.a,1!=t)},ea.prototype.trickPlay=ea.prototype.Ie,ea.prototype.Uc=function(){this.h&&$n(this.h,1),this.a&&rr(this.a,!1)},ea.prototype.cancelTrickPlay=ea.prototype.Uc,ea.prototype.od=function(){if(!this.b||!this.h)return[];var t=he(this.b,Yn(this.h)),e=this.D[t]||{};return ee(this.b.periods[t],e.audio,e.video)},ea.prototype.getVariantTracks=ea.prototype.od,ea.prototype.nd=function(){if(!this.b||!this.h)return[];var t=he(this.b,Yn(this.h));return ie(this.b.periods[t],(this.D[t]||{}).text).filter(function(t){return 0>this.fb.indexOf(t.id)}.bind(this))},ea.prototype.getTextTracks=ea.prototype.nd,ea.prototype.oe=function(t){if(this.a){(t=re(er(this.a),t))&&(la(this,t,!1),this.Ca?this.X=t:or(this.a,t,!0))}},ea.prototype.selectTextTrack=ea.prototype.oe,ea.prototype.pe=function(t,e){if(this.a){this.c.abr.enabled&&s("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=er(this.a);(i=ne(i,t))&&i.allowedByApplication&&i.allowedByKeySystem&&(sa(this,i,!1),ya(this,i,e))}},ea.prototype.selectVariantTrack=ea.prototype.pe,ea.prototype.ad=function(){return this.a?ae(er(this.a).variants).map(function(t){return t.language}).filter(R):[]},ea.prototype.getAudioLanguages=ea.prototype.ad,ea.prototype.md=function(){return this.a?er(this.a).textStreams.map(function(t){return t.language}).filter(R):[]},ea.prototype.getTextLanguages=ea.prototype.md,ea.prototype.me=function(t,e){if(this.a){var i=er(this.a);this.Na=t,this.bb=e||"",ba(this,i,!0)}},ea.prototype.selectAudioLanguage=ea.prototype.me,ea.prototype.ne=function(t,e){if(this.a){var i=er(this.a);this.ab=t,this.wb=e||"",ba(this,i,!0)}},ea.prototype.selectTextLanguage=ea.prototype.ne,ea.prototype.td=function(){return this.B?this.B.isTextVisible():this.kb},ea.prototype.isTextTrackVisible=ea.prototype.td,ea.prototype.se=function(t){this.B?this.B.setTextVisibility(t):this.kb=t,Aa(this)},ea.prototype.setTextTrackVisibility=ea.prototype.se,ea.prototype.gd=function(){return this.b?new Date(1e3*this.b.presentationTimeline.c+1e3*this.f.currentTime):null},ea.prototype.getPlayheadTimeAsDate=ea.prototype.gd,ea.prototype.kd=function(){return this.b?new Date(1e3*this.b.presentationTimeline.c):null},ea.prototype.getPresentationStartTimeAsDate=ea.prototype.kd,ea.prototype.Ab=function(){return this.L?this.L.Ab():{total:[],audio:[],video:[],text:[]}},ea.prototype.getBufferedInfo=ea.prototype.Ab,ea.prototype.getStats=function(){ga(this),this.$a();var t=null,e=null,i=this.f,i=i&&i.getVideoPlaybackQuality?i.getVideoPlaybackQuality():{};return this.h&&this.b&&(t=he(this.b,Yn(this.h)),e=this.D[t],e=de(e.audio,e.video,this.b.periods[t].variants),t=e.video||{}),t||(t={}),e||(e={}),{width:t.width||0,height:t.height||0,streamBandwidth:e.bandwidth||0,decodedFrames:Number(i.totalVideoFrames),droppedFrames:Number(i.droppedVideoFrames),estimatedBandwidth:this.g?this.g.getBandwidthEstimate():NaN,loadLatency:this.j.loadLatency,playTime:this.j.playTime,bufferingTime:this.j.bufferingTime,switchHistory:C(this.j.switchHistory),stateHistory:C(this.j.stateHistory)}},ea.prototype.getStats=ea.prototype.getStats,ea.prototype.addTextTrack=function(t,e,i,n,r,a){if(!this.a)return Promise.reject();for(var o,s=er(this.a),l=0;l<this.b.periods.length;l++)if(this.b.periods[l]==s){if(l==this.b.periods.length-1){if(o=this.b.presentationTimeline.aa()-s.startTime,1/0==o)return Promise.reject()}else o=this.b.periods[l+1].startTime-s.startTime;break}var u={id:this.Qc++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(e){return 1!=e?null:new ei(1,0,o,function(){return[t]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:n,codecs:r||"",kind:i,encrypted:!1,keyId:null,language:e,label:a||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null};return this.fb.push(u.id),s.textStreams.push(u),ur(this.a,{text:u}).then(function(){if(!this.G){var t=this.b.periods.indexOf(s),n=nr(this.a);return n.text&&(this.D[t].text=n.text.id),this.fb.splice(this.fb.indexOf(u.id),1),ba(this,s,!0),Ea(this),{id:u.id,active:!1,type:"text",bandwidth:0,language:e,label:a||null,kind:i,width:null,height:null}}}.bind(this))},ea.prototype.addTextTrack=ea.prototype.addTextTrack,ea.prototype.Ub=function(t,e){this.gb.width=t,this.gb.height=e},ea.prototype.setMaxHardwareResolution=ea.prototype.Ub,ea.prototype.Ec=function(){if(this.a){var t=this.a;if(t.c)t=!1;else if(t.j)t=!1;else{for(var e in t.b){var i=t.b[e];i.Ra&&(i.Ra=!1,wr(t,i,.1))}t=!0}}else t=!1;return t},ea.prototype.retryStreaming=ea.prototype.Ec,ea.prototype.cd=function(){return this.b},ea.prototype.getManifest=ea.prototype.cd,Wo=ea.prototype,Wo.Xc=function(t){var e=[1001,1002,1003];this.S()&&this.ac&&0<=e.indexOf(t.code)&&(t.severity=1,this.Ec())},Wo.Vb=function(t){var e=this.a?nr(this.a):{};t.forEach(function(t){Jt(this.m,e,t)}.bind(this));var i=0;if(t.forEach(function(t){0<ae(t.variants).length&&i++}.bind(this)),!i)throw new u(2,4,9009);if(i<t.length)throw new u(2,4,4011);t.forEach(function(t){if(Qt(t,this.c.restrictions,this.gb)&&this.a&&er(this.a)==t&&Ea(this),1>ae(t.variants).length)throw new u(2,4,4012)}.bind(this))},Wo.lb=function(t){var e=this.a?nr(this.a):{};if(Jt(this.m,e,t),e=0<ae(t.variants).length,Qt(t,this.c.restrictions,this.gb)&&this.a&&er(this.a)==t&&Ea(this),t=1>ae(t.variants).length,!e)throw new u(2,4,4011);if(t)throw new u(2,4,4012)},Wo.we=function(t,e){this.g&&this.g.segmentDownloaded(t,e)},Wo.Lc=function(t){if(ga(this),this.Pa=t,this.$a(),this.h){var e=this.h;t!=e.j&&(e.j=t,$n(e,e.i))}this.dispatchEvent(new Y("buffering",{buffering:t}))},Wo.ue=function(){Ea(this)},Wo.$a=function(){if(!this.G){var t=this.Pa?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",e=Date.now()/1e3;if(this.j.stateHistory.length){var i=this.j.stateHistory[this.j.stateHistory.length-1];if(i.duration=e-i.timestamp,t==i.state)return}this.j.stateHistory.push({timestamp:e,state:t,duration:0})}},Wo.ve=function(){if(this.C){var t=this.C;t.c.forEach(t.o.bind(t,!0))}this.a&&sr(this.a)},Wo.vd=function(t){this.Ca=!0,this.g.disable();var e={audio:!1,text:!1},i=oe(t,this.Na,this.bb,e);return t=se(t,this.ab,this.wb,e),i=ma(this,i),t=t[0]||null,this.X=this.Oa=null,i&&sa(this,i,!0),t&&(la(this,t,!0),!ir(this.a)&&i&&i.audio&&e.text&&t.language!=i.audio.language&&(this.B.setTextVisibility(!0),Aa(this))),{variant:i,text:t}},Wo.Tc=function(){this.Ca=!1,this.c.abr.enabled&&this.g.enable(),this.Oa&&(ar(this.a,this.Oa,this.$b),this.Oa=null),this.X&&(or(this.a,this.X,!0),this.X=null)},Wo.Dd=function(){this.i&&this.i.update&&this.i.update()},Wo.Md=function(){this.h&&this.h.Kb()},Wo.Mc=function(t,e){sa(this,t,!0),this.a&&(ar(this.a,t,e||!1),_a(this))},Wo.He=function(t,e){if(this.a){var i=ir(this.a);(i=ce(t.audio,t.video,i?i.variants:[]))&&this.Mc(i,e)}},Wo.Ma=function(t){if(!this.G){var e=new Y("error",{detail:t});this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)}},Wo.Pd=function(t){this.C?this.C.v(t):this.ib.push(t)},Wo.Za=function(t){this.dispatchEvent(t)},Wo.Qd=function(){if(this.f.error){var t=this.f.error.code;if(1!=t){var e=this.f.error.msExtendedCode;e&&(0>e&&(e+=Math.pow(2,32)),e=e.toString(16)),this.Ma(new u(2,3,3016,t,e,this.f.error.message))}}},Wo.Bd=function(t){var e=["output-restricted","internal-error"],i=er(this.a),n=!1,r=1==Object.keys(t).length&&"00"==Object.keys(t)[0];i.variants.forEach(function(i){var a=[];i.audio&&a.push(i.audio),i.video&&a.push(i.video),a.forEach(function(a){var o=i.allowedByKeySystem;a.keyId&&(a=t[r?"00":a.keyId],i.allowedByKeySystem=!!a&&0>e.indexOf(a)),o!=i.allowedByKeySystem&&(n=!0)})});var a=nr(this.a);(a=ce(a.audio,a.video,i.variants))&&!a.allowedByKeySystem&&ba(this,i,!0),n&&Ea(this)},Wo.yd=function(t,e){this.i&&this.i.onExpirationUpdated&&this.i.onExpirationUpdated(t,e),this.dispatchEvent(new Y("expirationupdated"))},e("shaka.offline.Storage",ka),ka.support=Ta,ka.prototype.s=function(){var t=this.a,e=this.i?this.i.s().catch(function(){}).then(function(){if(t)return t.s()}):Promise.resolve();return this.b=this.g=this.i=this.a=null,e},ka.prototype.destroy=ka.prototype.s,ka.prototype.configure=function(t){w(this.b,t,Ca(this),{},"")},ka.prototype.configure=ka.prototype.configure,ka.prototype.Fe=function(t,e,i){function n(t){a=t}if(this.v)return Promise.reject(new u(2,9,9006));this.v=!0;var r,a=null;return Sa(this).then(function(){return Ra(this),wa(this,t,n,i)}.bind(this)).then(function(i){if(Ra(this),this.f=i.manifest,this.c=i.Yc,this.f.presentationTimeline.S()||this.f.presentationTimeline.va())throw new u(2,9,9005,t);this.o(this.f.periods),this.h=this.a.c.manifest++,this.m=0,i=e||{};var n=this.f.periods.map(this.D.bind(this)),a=this.c.b,o=gt(this.c);if(a){if(!o.length)throw new u(2,9,9007,t);a.initData=[]}return r={key:this.h,originalManifestUri:t,duration:this.m,size:0,expiration:this.c.nb(),periods:n,sessionIds:this.b.usePersistentLicense?o:[],drmInfo:a,appMetadata:i},Kr(this.i,r)}.bind(this)).then(function(){if(Ra(this),a)throw a;return La(this)}.bind(this)).then(function(){return Nr(r)}.bind(this)).catch(function(t){return La(this).catch(P).then(function(){throw t})}.bind(this))},ka.prototype.store=ka.prototype.Fe,ka.prototype.remove=function(t){function e(t){6013!=t.code&&(o=t)}var i=t.offlineUri,n=/^offline:([0-9]+)$/.exec(i);if(!n)return Promise.reject(new u(2,9,9004,i));var r,a,o=null,s=Number(n[1]);return Sa(this).then(function(){return Ra(this),this.a.get("manifest",s)}.bind(this)).then(function(t){if(Ra(this),!t)throw new u(2,9,9003,i);return r=t,t=Wr(r),a=new ht({Ta:this.g.v,onError:e,Jb:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),a.configure(this.g.getConfiguration().drm),a.init(t,this.b.usePersistentLicense||!1)}.bind(this)).then(function(){return ft(a,r.sessionIds)}.bind(this)).then(function(){return a.s()}.bind(this)).then(function(){if(Ra(this),o)throw o;var e=r.periods.map(function(t){return t.streams.map(function(t){var e=t.segments.map(function(t){return t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t.uri),Number(t[1])});return t.initSegmentUri&&(t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t.initSegmentUri),e.push(Number(t[1]))),e}).reduce(L,[])}).reduce(L,[]),i=0,n=e.length,a=this.b.progressCallback;return Rr(this.a,e,function(){i++,a(t,i/n)})}.bind(this)).then(function(){return Ra(this),this.b.progressCallback(t,1),this.a.remove("manifest",s)}.bind(this))},ka.prototype.remove=ka.prototype.remove,ka.prototype.list=function(){var t=[];return Sa(this).then(function(){return Ra(this),this.a.forEach("manifest",function(e){t.push(Nr(e))})}.bind(this)).then(function(){return t})},ka.prototype.list=ka.prototype.list,ka.prototype.C=function(t){for(var e,i=[],n=Xt(this.g.getConfiguration().preferredAudioLanguage),r=[0,os,ss],a=t.filter(function(t){return"variant"==t.type}),r=r.map(function(t){return a.filter(function(e){return e=Xt(e.language),qt(t,n,e)})}),o=0;o<r.length;o++)if(r[o].length){e=r[o];break}e||(r=a.filter(function(t){return t.primary}),r.length&&(e=r)),e||(e=a,a.map(function(t){return t.language}).filter(R));var s=e.filter(function(t){return t.height&&480>=t.height});return s.length&&(s.sort(function(t,e){return e.height-t.height}),e=s.filter(function(t){return t.height==s[0].height})),e.sort(function(t,e){return t.bandwidth-e.bandwidth}),e.length&&i.push(e[Math.floor(e.length/2)]),i.push.apply(i,t.filter(function(t){return"text"==t.type})),i},ka.prototype.o=function(t){t.forEach(this.B.bind(this))},ka.prototype.B=function(t){var e={};if(this.j){var i=this.j.filter(function(t){return"variant"==t.type}),n=null;i.length&&(n=ne(t,i[0])),n&&(n.video&&(e.video=n.video),n.audio&&(e.audio=n.audio))}Jt(this.c,e,t),Qt(t,this.g.getConfiguration().restrictions,{width:1/0,height:1/0})},ka.prototype.D=function(t){var e,i,n=ee(t,null,null),r=ie(t,null),n=this.b.trackSelectionCallback(n.concat(r));for(this.j||(this.j=n,this.o(this.f.periods)),r=n.length-1;0<r;--r){var a=!1;for(i=r-1;0<=i;--i)if(n[r].type==n[i].type&&n[r].kind==n[i].kind&&n[r].language==n[i].language){a=!0;break}if(a)break}for(a=[],r=0;r<n.length;r++)(e=ne(t,n[r]))?(e.audio&&((i=a.filter(function(t){return t.id==e.audio.id})[0])?i.variantIds.push(e.id):(i=e.video?e.bandwidth/2:e.bandwidth,a.push(Oa(this,t,e.audio,i,e.id)))),e.video&&((i=a.filter(function(t){return t.id==e.video.id})[0])?i.variantIds.push(e.id):(i=e.audio?e.bandwidth/2:e.bandwidth,a.push(Oa(this,t,e.video,i,e.id))))):a.push(Oa(this,t,re(t,n[r]),0));return{startTime:t.startTime,streams:a}},Ds.offline=Ta,e("shaka.polyfill.installAll",function(){for(var t=0;t<Ms.length;++t)Ms[t]()});var Ms=[];e("shaka.polyfill.register",Ia),Ia(function(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,e=Document.prototype,e.exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",xa),document.addEventListener("webkitfullscreenerror",xa),document.addEventListener("mozfullscreenchange",xa),document.addEventListener("mozfullscreenerror",xa),document.addEventListener("MSFullscreenChange",xa),document.addEventListener("MSFullscreenError",xa)}}),Ia(function(){var e=navigator.userAgent;e&&0<=e.indexOf("CrKey")&&delete t.indexedDB});var Ns;Ia(function(){0>navigator.userAgent.indexOf("Trident/")||HTMLInputElement.prototype.addEventListener==Da||(Ns=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Da)}),Ia(function(){if(4503599627370497!=Math.round(4503599627370497)){var t=Math.round;Math.round=function(e){var i=e;return 4503599627370496>=e&&(i=t(e)),i}}}),Ma.prototype.c=function(t){if(!(1<t.version)){var e=ct(t.u.Ka(16)),i=[];if(0<t.version)for(var n=t.u.F(),r=0;r<n;++r){var a=ct(t.u.Ka(16));i.push(a)}n=t.u.F(),t.u.J(n),this.b.push.apply(this.b,i),this.f.push(e),this.a.push({start:t.start,end:t.start+t.size-1})}},Ba.prototype.createMediaKeys=function(){var t=new Ua(this.keySystem);return Promise.resolve(t)},Ba.prototype.getConfiguration=function(){return this.a},Ua.prototype.createSession=function(t){if("temporary"!=(t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new Ga(this.a)},Ua.prototype.setServerCertificate=function(){return Promise.resolve(!1)},i(Ga),Wo=Ga.prototype,Wo.generateRequest=function(t,e){this.a=new b;try{this.c=this.g.createSession("video/mp4",new Uint8Array(e),null),j(this.f,this.c,"mskeymessage",this.Hd.bind(this)),j(this.f,this.c,"mskeyadded",this.Fd.bind(this)),j(this.f,this.c,"mskeyerror",this.Gd.bind(this)),Ya(this,"status-pending")}catch(t){this.a.reject(t)}return this.a},Wo.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},Wo.update=function(t){this.b=new b;try{this.c.update(new Uint8Array(t))}catch(t){this.b.reject(t)}return this.b},Wo.close=function(){try{this.c.close(),this.closed.resolve(),V(this.f)}catch(t){this.closed.reject(t)}return this.closed},Wo.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},Wo.Hd=function(t){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new Y("message",{messageType:void 0==this.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message.buffer}))},Wo.Fd=function(){this.a?(Ya(this,"usable"),this.a.resolve(),this.a=null):this.b&&(Ya(this,"usable"),this.b.resolve(),this.b=null)},Wo.Gd=function(){var t=Error("EME PatchedMediaKeysMs key error");if(t.errorCode=this.c.error,this.a)this.a.reject(t),this.a=null;else if(this.b)this.b.reject(t),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:Ya(this,"output-not-allowed");default:Ya(this,"internal-error")}};var Bs;Wo=Ka.prototype,Wo.forEach=function(t){this.a&&t(this.a,Bs)},Wo.get=function(t){if(this.has(t))return this.a},Wo.has=function(t){var e=Bs;return!(!this.a||!dt(new Uint8Array(t),new Uint8Array(e)))},Wo.entries=function(){},Wo.keys=function(){},Wo.values=function(){},Wa.prototype.createSession=function(){},Wa.prototype.setServerCertificate=function(){},qa.prototype.getConfiguration=function(){},qa.prototype.createMediaKeys=function(){};var Fs="";to.prototype.createMediaKeys=function(){var t=new eo(this.a);return Promise.resolve(t)},to.prototype.getConfiguration=function(){return this.b},Wo=eo.prototype,Wo.createSession=function(t){var e=t||"temporary";if("temporary"!=e&&"persistent-license"!=e)throw new TypeError("Session type "+t+" is unsupported on this platform.");return t=this.b||document.createElement("video"),t.src||(t.src="about:blank"),e=new ro(t,this.g,e),this.c.push(e),e},Wo.setServerCertificate=function(){return Promise.resolve(!1)},Wo.Ud=function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent("encrypted",!1,!1,null),e.initDataType="webm",e.initData=t.initData,this.b.dispatchEvent(e)},Wo.Td=function(t){var e=no(this,t.sessionId);e&&(t=new Y("message",{messageType:void 0==e.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),e.b&&(e.b.resolve(),e.b=null),e.dispatchEvent(t))},Wo.Rd=function(t){(t=no(this,t.sessionId))&&(oo(t,"usable"),t.a&&t.a.resolve(),t.a=null)},Wo.Sd=function(t){var e=no(this,t.sessionId);if(e){var i=Error("EME v0.1b key error");i.errorCode=t.errorCode,i.errorCode.systemCode=t.systemCode,!t.sessionId&&e.b?(i.method="generateRequest",45==t.systemCode&&(i.message="Unsupported session type."),e.b.reject(i),e.b=null):t.sessionId&&e.a?(i.method="update",e.a.reject(i),e.a=null):(i=t.systemCode,t.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?oo(e,"output-restricted"):1==i?oo(e,"expired"):oo(e,"internal-error"))}},i(ro),Wo=ro.prototype,Wo.Wb=function(t,e){if(this.a)this.a.then(this.Wb.bind(this,t,e)).catch(this.Wb.bind(this,t,e));else{if(this.a=t,"webkit-org.w3.clearkey"==this.c){var i=J(e),n=JSON.parse(i);"oct"!=n.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),i=lt(n.keys[0].k),n=lt(n.keys[0].kid)}else i=new Uint8Array(e),n=null;var r=Za("addKey");try{this.f[r](this.c,i,n,this.sessionId)}catch(t){this.a.reject(t),this.a=null}}},Wo.generateRequest=function(t,e){return ao(this,e,null)},Wo.load=function(t){return"persistent-license"==this.g?ao(this,null,t):Promise.reject(Error("Not a persistent session."))},Wo.update=function(t){var e=new b;return this.Wb(e,t),e},Wo.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=Za("cancelKeyRequest");try{this.f[t](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},Wo.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()};var Us;Wo=so.prototype,Wo.forEach=function(t){this.a&&t(this.a,Us)},Wo.get=function(t){if(this.has(t))return this.a},Wo.has=function(t){var e=Us;return!(!this.a||!dt(new Uint8Array(t),new Uint8Array(e)))},Wo.entries=function(){},Wo.keys=function(){},Wo.values=function(){},Ia(function(){!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?Xa("webkit"):HTMLMediaElement.prototype.generateKeyRequest?Xa(""):t.MSMediaKeys?(Bs=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Fa,t.MediaKeys=Ua,t.MediaKeySystemAccess=Ba,navigator.requestMediaKeySystemAccess=Na):(navigator.requestMediaKeySystemAccess=$a,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=za,t.MediaKeys=Wa,t.MediaKeySystemAccess=qa))}),Ia(function(){if(t.MediaSource)if(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType)yo();else if(navigator.vendor&&0<=navigator.vendor.indexOf("Apple")){var e=navigator.appVersion;fo(),0<=e.indexOf("Version/8")?t.MediaSource=null:0<=e.indexOf("Version/9")?lo():0<=e.indexOf("Version/10")?(lo(),co()):0<=e.indexOf("Version/11")&&(lo(),uo())}});var js=0;go.prototype.then=function(t,e){var i=new go;switch(this.za){case 1:Eo(this,i,t);break;case 2:Eo(this,i,e);break;case js:this.c.push({N:i,yb:t}),this.b.push({N:i,yb:e})}return i},go.prototype.catch=function(t){return this.then(void 0,t)},go.prototype.ma=function(t){if(this.za==js){for(this.ub=t,this.za=1,t=0;t<this.c.length;++t)Eo(this,this.c[t].N,this.c[t].yb);this.c=[],this.b=[]}},go.prototype.a=function(t){if(this.za==js){for(this.ub=t,this.za=2,t=0;t<this.b.length;++t)Eo(this,this.b[t].N,this.b[t].yb);this.c=[],this.b=[]}};var Gs=null,Vs=[];Ia(function(e){t.setImmediate?(To=function(e){return t.setImmediate(e)},wo=function(e){return t.clearImmediate(e)}):(To=function(e){return t.setTimeout(e,0)},wo=function(e){return t.clearTimeout(e)}),t.Promise&&!e||(t.Promise=go,t.Promise.resolve=vo,t.Promise.reject=mo,t.Promise.all=bo,t.Promise.race=_o,t.Promise.prototype.then=go.prototype.then,t.Promise.prototype.catch=go.prototype.catch)}),Ia(function(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this,arguments);return t&&t.catch(function(){}),t}}}),Ia(function(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in e&&(e.getVideoPlaybackQuality=Co)}}),Ia(function(){if(!t.VTTCue&&t.TextTrackCue){var e=TextTrackCue.length;if(3==e)t.VTTCue=So;else if(6==e)t.VTTCue=Lo;else{try{var i=!!So(1,2,"")}catch(t){i=!1}i&&(t.VTTCue=So)}}}),e("shaka.text.Cue",Po);var Hs="auto";Po.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Hs};var Ys="center",Ks={LEFT:"left",RIGHT:"right",CENTER:Ys,START:"start",END:"end"};Po.textAlign=Ks;var $s="before",zs={BEFORE:$s,CENTER:"center",AFTER:"after"};Po.displayAlign=zs;var Ws=0,qs=2,Xs=3;Po.writingDirection={HORIZONTAL_LEFT_TO_RIGHT:Ws,HORIZONTAL_RIGHT_TO_LEFT:1,VERTICAL_LEFT_TO_RIGHT:qs,VERTICAL_RIGHT_TO_LEFT:Xs};var Zs=0,Qs=1;Po.lineInterpretation={LINE_NUMBER:Zs,PERCENTAGE:Qs};var Js="center",tl={CENTER:Js,START:"start",END:"end"};Po.lineAlign=tl;var el=400;Po.fontWeight={NORMAL:el,BOLD:700};var il="normal",nl={NORMAL:il,ITALIC:"italic",OBLIQUE:"oblique"};Po.fontStyle=nl,Po.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},Oo.prototype.parseInit=function(){},Oo.prototype.parseMedia=function(t,e){var i=J(t),n=[],r=new DOMParser,a=null;try{a=r.parseFromString(i,"text/xml")}catch(t){throw new u(2,2,2005)}if(a){var o=a.getElementsByTagName("tt")[0];if(!o)throw new u(2,2,2005);r=o.getAttribute("ttp:frameRate"),a=o.getAttribute("ttp:subFrameRate");var s=o.getAttribute("ttp:frameRateMultiplier"),l=o.getAttribute("ttp:tickRate");if("default"!=(i=o.getAttribute("xml:space")||"default")&&"preserve"!=i)throw new u(2,2,2005);for(i="default"==i,r=new jo(r,a,s,l),a=Ro(o.getElementsByTagName("styling")[0]),s=Ro(o.getElementsByTagName("layout")[0]),o=Ro(o.getElementsByTagName("body")[0]),l=0;l<o.length;l++){var c=o[l],d=e.periodStart,h=r,p=a,f=s,y=i;if(c.hasAttribute("begin")||c.hasAttribute("end")||!/^\s*$/.test(c.textContent)){Io(c,y);var y=Fo(c.getAttribute("begin"),h),g=Fo(c.getAttribute("end"),h),h=Fo(c.getAttribute("dur"),h),v=c.textContent;if(null==g&&null!=h&&(g=y+h),null==y||null==g)throw new u(2,2,2001);d=new Po(y+d,g+d,v),y=Bo(c,"region",f),f=d,"rtl"==Do(c,y,p,"tts:direction")&&(f.writingDirection=1),g=Do(c,y,p,"tts:writingMode"),"tb"==g||"tblr"==g?f.writingDirection=qs:"tbrl"==g?f.writingDirection=Xs:"rltb"==g||"rl"==g?f.writingDirection=1:g&&(f.writingDirection=Ws),(g=Do(c,y,p,"tts:origin"))&&(g=cl.exec(g))&&(f.region.x=Number(g[1]),f.region.y=Number(g[2])),(g=Do(c,y,p,"tts:extent"))&&(g=cl.exec(g))&&(f.region.width=Number(g[1]),f.region.height=Number(g[2])),(g=Do(c,y,p,"tts:textAlign"))&&(f.positionAlign=pl[g],f.lineAlign=hl[g],f.textAlign=Ks[g.toUpperCase()]),(g=Do(c,y,p,"tts:displayAlign"))&&(f.displayAlign=zs[g.toUpperCase()]),(g=Do(c,y,p,"tts:color"))&&(f.color=g),(g=Do(c,y,p,"tts:backgroundColor"))&&(f.backgroundColor=g),(g=Do(c,y,p,"tts:fontFamily"))&&(f.fontFamily=g),(g=Do(c,y,p,"tts:fontWeight"))&&"bold"==g&&(f.fontWeight=700),(g=Do(c,y,p,"tts:wrapOption"))&&"noWrap"==g&&(f.wrapLine=!1),(g=Do(c,y,p,"tts:lineHeight"))&&g.match(dl)&&(f.lineHeight=g),(g=Do(c,y,p,"tts:fontSize"))&&g.match(dl)&&(f.fontSize=g),(g=Do(c,y,p,"tts:fontStyle"))&&(f.fontStyle=nl[g.toUpperCase()]),(y=Mo(y,p,"tts:textDecoration"))&&xo(f,y),(c=No(c,p,"tts:textDecoration"))&&xo(f,c)}else d=null;d&&n.push(d)}}return n};var rl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,al=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,ol=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,sl=/^(\d*\.?\d*)f$/,ll=/^(\d*\.?\d*)t$/,ul=/^(?:(\d*\.?\d*)h)?(?:(\d*\.?\d*)m)?(?:(\d*\.?\d*)s)?(?:(\d*\.?\d*)ms)?$/,cl=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,dl=/^(\d+px|\d+em)$/,hl={left:"start",center:"center",right:"end",start:"start",end:"end"},pl={left:"line-left",center:"center",right:"line-right"};Mt("application/ttml+xml",Oo),Go.prototype.parseInit=function(t){var e=!1;if((new ai).H("moov",oi).H("trak",oi).H("mdia",oi).H("minf",oi).H("stbl",oi).da("stsd",si).H("stpp",function(){e=!0}).parse(t),!e)throw new u(2,2,2007)},Go.prototype.parseMedia=function(t,e){var i=!1,n=[];if((new ai).H("mdat",li(function(t){i=!0,n=n.concat(this.a.parseMedia(t.buffer,e))}.bind(this))).parse(t),!i)throw new u(2,2,2007);return n},Mt('application/mp4; codecs="stpp"',Go),Mt('application/mp4; codecs="stpp.TTML.im1t"',Go),Vo.prototype.parseInit=function(){},Vo.prototype.parseMedia=function(t,e){var i=J(t),i=i.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),i=i.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(i[0]))throw new u(2,2,2e3);var n=e.segmentStart;if(0<=i[0].indexOf("X-TIMESTAMP-MAP")){var r=i[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=i[0].match(/MPEGTS:(\d+)/m);r&&a&&(n=Yo(new ln(r[1])),n=e.periodStart+(Number(a[1])/9e4-n))}for(a=[],r=1;r<i.length;r++){var o=i[r].split("\n"),s=n;if(1==o.length&&!o[0]||/^NOTE($|[ \t])/.test(o[0]))var l=null;else{l=null,0>o[0].indexOf("--\x3e")&&(l=o[0],o.splice(0,1));var c=new ln(o[0]),d=Yo(c),h=un(c,/[ \t]+--\x3e[ \t]+/g),p=Yo(c);if(null==d||!h||null==p)throw new u(2,2,2001);for(o=new Po(d+s,p+s,o.slice(1).join("\n").trim()),un(c,/[ \t]+/gm),s=cn(c);s;)Ho(o,s),un(c,/[ \t]+/gm),s=cn(c);null!=l&&(o.id=l),l=o}l&&a.push(l)}return a},Mt("text/vtt",Vo),Mt('text/vtt; codecs="vtt"',Vo),Ko.prototype.parseInit=function(t){var e=!1;if((new ai).H("moov",oi).H("trak",oi).H("mdia",oi).da("mdhd",function(t){0==t.version?(t.u.J(4),t.u.J(4),this.a=t.u.F(),t.u.J(4)):(t.u.J(8),t.u.J(8),this.a=t.u.F(),t.u.J(8)),t.u.J(4)}.bind(this)).H("minf",oi).H("stbl",oi).da("stsd",si).H("wvtt",function(){e=!0}).parse(t),!this.a)throw new u(2,2,2008);if(!e)throw new u(2,2,2008)},Ko.prototype.parseMedia=function(t,e){var i=0,n=[],r=[],a=[],o=!1,s=!1,l=!1,c=null;if((new ai).H("moof",oi).H("traf",oi).da("tfdt",function(t){o=!0,i=t.version?t.u.Wa():t.u.F()}).da("tfhd",function(t){var e=t.gc;t=t.u,t.J(4),1&e&&t.J(8),2&e&&t.J(4),c=8&e?t.F():null}).da("trun",function(t){s=!0;var e=t.version,i=t.gc;t=t.u;var r=t.F();1&i&&t.J(4),4&i&&t.J(4);for(var a=[],o=0;o<r;o++){var l={duration:null,Xb:null};256&i&&(l.duration=t.F()),512&i&&t.J(4),1024&i&&t.J(4),2048&i&&(l.Xb=e?t.zc():t.F()),a.push(l)}n=a}).H("vtte",function(){r.push(null)}).H("vttc",li(function(t){r.push(t.buffer)})).H("mdat",function(t){l=!0,oi(t)}).parse(t),!l&&!o&&!s)throw new u(2,2,2008);for(var d=i,h=0;h<n.length;h++){var p=n[h],f=r[h],y=p.duration||c;y&&(p=p.Xb?i+p.Xb:d,d=p+y,f&&a.push($o(f,e.periodStart+p/this.a,e.periodStart+d/this.a)))}return a.filter(O)},Mt('application/mp4; codecs="wvtt"',Ko)}).call(r,this),void 0!==t&&t.exports?t.exports=r.shaka:void 0!==(n=function(){return r.shaka}.call(e,i,e,t))&&(t.exports=n)}()},function(t,e,i){"use strict";function n(t){for(var e=new ArrayBuffer(2*t.length),i=new Uint16Array(e),n=0,r=t.length;n<r;n++)i[n]=t.charCodeAt(n);return i}function r(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))}function a(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="",n=void 0,r=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=0;c<t.length;)n=t[c++],r=c<t.length?t[c++]:Number.NaN,a=c<t.length?t[c++]:Number.NaN,o=n>>2,s=(3&n)<<4|r>>4,l=(15&r)<<2|a>>6,u=63&a,isNaN(r)?l=u=64:isNaN(a)&&(u=64),i+=e.charAt(o)+e.charAt(s)+e.charAt(l)+e.charAt(u);return i}function o(t){var e=window.atob(t),i=e.length,n=new Uint8Array(new ArrayBuffer(i)),r=0;for(r;r<i;r++)n[r]=e.charCodeAt(r);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.stringToArray=n,e.arrayToString=r,e.base64EncodeUint8Array=a,e.base64DecodeUint8Array=o},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});e.BaseYouboraPlugin=function t(){n(this,t),Object.assign(t.prototype,$YB.plugins.Generic.prototype)},e.BaseYouboraAdnalyzers=function t(){n(this,t),Object.assign(t.prototype,$YB.adnalyzers.Generic.prototype)}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(106),u=function(t){function e(t,i){n(this,e);var a=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));try{a.pluginName="clappr",a.pluginVersion="6.0.0-clappr-5.5.2-lib",a.container=t,a.playback=a.container.playback,a.tag=a.playback.$el.find("video")[0],a.startMonitoring(t,i)}catch(t){$YB.error(t)}return a}return a(e,t),s(e,[{key:"getPlayhead",value:function(){var t=this.currentTime||this.container.getCurrentTime();return this.container.playback.getStartTimeOffset()+t}},{key:"getMediaDuration",value:function(){return this.container.getDuration()}},{key:"getIsLive",value:function(){return"live"==this.container.getPlaybackType()}},{key:"getResource",value:function(){var t=this.playback.options.sources;return"object"==(void 0===t?"undefined":o(t))?t.source:t}},{key:"getPlayerVersion",value:function(){return"Clappr"+Clappr.version}},{key:"getBitrate",value:function(){return this.bitrate||-1}},{key:"getThroughput",value:function(){return this.throughput||-1}},{key:"getRendition",value:function(){return this.rendition||""}}]),e}(l.BaseYouboraPlugin);e.default=u,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=i(0),c=n(u),d=i(7),h=n(d),p=i(2),f=n(p),y=i(66),g=n(y),v=i(9),m=n(v),b=i(10),_=n(b),E=i(16),A=n(E),k=i(261),T=n(k),w=i(265),C=n(w),S=i(266),L=n(S),P=i(270),O=n(P),R=i(274),I=n(R),x=i(277),D=n(x),M=i(283),N=n(M),B=i(287),F=n(B),U=i(297),j=n(U),G=i(301),V=n(G),H=i(313),Y=n(H),K=i(317),$=n(K),z=i(319),W=n(z),q=i(322),X=n(q),Z=i(339),Q=n(Z),J=i(343),tt=n(J),et=i(347),it=n(et),nt=i(359),rt=n(nt),at=i(361),ot=n(at),st=i(364),lt=n(st),ut=i(367),ct=n(ut),dt=i(368),ht=n(dt),pt=i(370),ft=n(pt),yt=i(46),gt=n(yt),vt=i(371),mt=n(vt),bt=i(373),_t=n(bt),Et=i(377),At=n(Et),kt=i(381),Tt=n(kt),wt=i(382),Ct=n(wt),St=i(383),Lt=n(St),Pt=i(388),Ot=n(Pt),Rt=i(391),It=n(Rt),xt=i(394),Dt=n(xt),Mt=i(398),Nt=n(Mt),Bt=i(402),Ft=n(Bt),Ut=i(403),jt=n(Ut),Gt=i(102),Vt=n(Gt);if(!window.console){var Ht={log:function(){}};window.console=Ht}var Yt=window.WM&&window.WM.Player3||{},Kt=function(t){function e(t){var i;r(this,e),t||(t={}),t.dax||(t.dax={}),t.limited||(t.limited=u.Browser.isFirefox&&u.Browser.isAndroid),t.preferredLevel=_.default.LocalStorage.load("selectedlevel",parseInt),t.changeFavicon=!1,t.env=g.default.get(t.env,t.httpOnly),t.mediacontrol=t.mediacontrol||{},t.mediacontrol.external=t.mediacontrol.external||C.default,t.mediacontrol.plugins=$t(t.mediaControl&&t.mediaControl.plugins),t.chromecast||(t.chromecast={}),t.chromecast.appId=t.chromecast.appId||Xt();var n=!u.Browser.isChromecast&&!!t.chromecast.appId;t.chromecast.enabled=!(!1===t.chromecast.enabled)&&n,t.sentry||(t.sentry={}),t.sentry.enabled=t.sentry&&t.sentry.enabled||_.default.User.isExperimentEnabled("sentryPlugin",Yt.EXPERIMENTS&&Yt.EXPERIMENTS.sentryPlugin);var o=Yt.SHARE_BLACKLIST&&Yt.SHARE_BLACKLIST[_.default.getHostAndPathName()];t.sharePlugin={enabled:t.share&&void 0!==t.share.enabled?t.share.enabled:!o,socialList:t.socialList},t.plugins=Wt(t.plugins,zt(t)),t.preload="none",t.hlsMinimumDvrSize=120,t.hideMediaControlDelay=2e3,t.chromeless=t.chromeless||u.Browser.isMobile,t.useVideoTagDefaultControls=t.useVideoTagDefaultControls||u.Browser.isMobile,t.useDvrControls=t.useBackgroundButton=!1,t.useHardwareVideoDecoder=!1,t.playback=t.playback||{},t.playback.preload=t.playback.preload||t.preload,t.playback.playInline=t.playback.playInline||!0,t.playback.recycleVideo=t.playback.recycleVideo||u.Browser.isMobile,t.playback.hlsjsConfig={liveSyncDurationCount:2,capLevelToPlayerSize:!0,enableWebVTT:!1,xhrSetup:function(t,e){t.withCredentials=!0}},t.gaAccount=null,t.gaTrackerName=null,t.useIma3Test=t.useIma3Test||t.useima3test,t.allowLocation=t.allowLocation||t.allowlocation,t.disableVideoTagContextMenu=!0,t.clapprStats={runEach:1e3,onReport:function(t){return i.onMetricsReceived(t)}},t.stretched&&(t.width=t.stretchWidth||t.width,t.height=t.stretchHeight||t.height);var s=t&&t.playerExperiments||{},l=_.default.autoplayManager.getExperimentStatus(t,s),c=l.autoPlay,d=l.mute;return t.autoPlay=c,t.mute=d,i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),s(e,[{key:"eventsMapping",get:function(){return Object.assign(l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"eventsMapping",this),{onPipAdded:f.default.PLAYER_PIP_ADDED,onPipDiscarded:f.default.PLAYER_PIP_DISCARDED,onMasterAdded:f.default.PLAYER_MASTER_ADDED,onMasterChanged:f.default.PLAYER_MASTER_CHANGED,onPipToMaster:f.default.PLAYER_PIPTOMASTER,onMediaControlShow:f.default.PLAYER_MEDIACONTROL_SHOW,onMediaControlHide:f.default.PLAYER_MEDIACONTROL_HIDE})}}]),s(e,[{key:"getMediaInfo",value:function(){var t=void 0,e=h.default.Deferred(),i=this.core.getCurrentPlayback();if("id_playback"===i.name){var n=function n(r){r&&r.type&&(r=r.type),i.off(f.default.WM_PLAYLIST_LOADED,n),i.off(u.Events.PLAYBACK_ERROR,n),i.playlist&&i.hashData||"AUT"==r.code||"SRF"==r.code?(t=qt(i.playlist.videos[0],i.hashData,i.selectedResource),e.resolve(t)):e.reject(r||{message:"no video info found"})};i.playlist&&i.hashData||i.error?n(i.error):(i.once(f.default.WM_PLAYLIST_LOADED,n),i.once(u.Events.PLAYBACK_ERROR,n))}else e.reject({message:"video not loaded"});return e}},{key:"normalizeSources",value:function(t){var e=t.sources||(void 0!==t.source?[""+t.source]:[]);return e=e.map(function(t){return""+(t||"")}),0===e.length?["no.op"]:e}},{key:"isUnsupportedBrowser",value:function(){var t={chrome:41,firefox:38,ie:10,msie:10,safari:8};return u.Browser.version<t[u.Browser.name.toLowerCase()]}},{key:"onError",value:function(t){this._onError(t)}},{key:"_onError",value:function(t){var e=this.core.getCurrentPlayback(),i=t&&t._options&&t._options.triggerEvent;if(this.core.errorCount+=1,t=t&&t.error?t.error:t,this.core.errorCount<=1){var n=t&&t.render,r=new _t.default(this.core.getCurrentContainer());if(n)this.core.error=t,t.setPoster(r),this.core.$el.append(t.render().el);else{var a=new gt.default({playerId:this.options.playerId,type:t});a.setPoster(r),this.core.$el.append(a.render().el),this.core.error=a}this.options.onError&&this.options.onError(this.core.error.type),u.Log.error("player","player encountered an error:",t),i&&e.trigger(u.Events.PLAYBACK_ERROR,this.core.error),this.core.mediaControl.disable(),this.core.getCurrentContainer().destroy()}}},{key:"attachTo",value:function(t){if(this.core)this.options.parentElement=t;else{(0,h.default)(t).html(""),this.element=t,this._renderFonts(t),this._renderDefaultStyle(t),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attachTo",this).call(this,t),this.core.errorCount=0;var i=this.core.getPlugin("closed_captions");i&&(i.disable(),i.$el.remove()),this.core.$el.attr("id","wp3-player-"+this.core.options.playerId),this.core.$el.addClass("clappr-player"),e.isAllowedDomain(window.location.hostname)||this._onError(new gt.default({type:gt.default.NOT_ALLOWED_DOMAIN,playerId:this.options.playerId,triggerEvent:!0})),this.isUnsupportedBrowser()&&this._onError(new gt.default({type:gt.default.UNSUPPORTED_BROWSER,playerId:this.options.playerId,triggerEvent:!0}))}}},{key:"hasDOMElement",value:function(){if(this.element&&this.element.childNodes.length>0){var t=Array.prototype.slice.call(this.element.childNodes),e=t.find(function(t){return"DIV"===t.tagName&&-1!==t.id.indexOf("wp3-player-")});return e&&!!document.getElementById(e.id)}}},{key:"load",value:function(t){this.hasDOMElement()&&(this._renderFonts(this.element),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"load",this).call(this,t))}},{key:"configure",value:function(t){this.options.stretched&&(t.width||t.height)&&(t.width=this.options.stretchWidth||t.width,t.height=this.options.stretchHeight||t.height),t.env=g.default.get(t.env,t.httpOnly);var i=this.options&&this.options.playerExperiments||{},n=_.default.autoplayManager.getExperimentStatus(t,i),r=n.autoPlay,a=n.mute;if(t.autoPlay=r,t.mute=a,l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),t.token){var o=this.core.getCurrentPlayback();o&&(o.videoMetadataLoader.options.token=t.token)}}},{key:"_addEventListeners",value:function(){var t=this;l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_addEventListeners",this).call(this),this.listenTo(this.core,f.default.WM_PIP_ADDED,this.onPipAdded),this.listenTo(this.core,f.default.WM_PIP_DISCARDED,this.onPipDiscarded),this.listenTo(this.core,f.default.WM_MASTER_ADDED,this.onMasterAdded),this.listenTo(this.core,f.default.WM_MASTER_CHANGED,this.onMasterChanged),this.listenTo(this.core,u.Events.CORE_CONTAINERS_CREATED,this.clearErrors),this.listenTo(this.core.getCurrentContainer(),f.default.WM_PIPTOMASTER,this.onPipToMaster),this.listenTo(this.core.getCurrentContainer().playback,f.default.WM_HASH_LOADED,this.onHashLoaded),this.listenTo(this.core.mediaControl,u.Events.MEDIACONTROL_SHOW,function(){return t.trigger(f.default.PLAYER_MEDIACONTROL_SHOW)}),this.listenTo(this.core.mediaControl,u.Events.MEDIACONTROL_HIDE,function(){return t.trigger(f.default.PLAYER_MEDIACONTROL_HIDE)})}},{key:"clearErrors",value:function(){this.core.error&&(this.core.error.$el.remove(),this.core.error=null,this.core.errorCount=0)}},{key:"onPipAdded",value:function(){this.trigger(f.default.PLAYER_PIP_ADDED)}},{key:"onPipDiscarded",value:function(){this.trigger(f.default.PLAYER_PIP_DISCARDED)}},{key:"onMasterAdded",value:function(){this.trigger(f.default.PLAYER_MASTER_ADDED)}},{key:"onMasterChanged",value:function(){this.trigger(f.default.PLAYER_MASTER_CHANGED)}},{key:"onPipToMaster",value:function(){this.trigger(f.default.PLAYER_PIPTOMASTER)}},{key:"onMetricsReceived",value:function(t){this.core.getCurrentContainer().trigger(f.default.WM_STATS_REPORTED,t)}},{key:"onHashLoaded",value:function(t){if(this.options.onAuthorized){var e=t&&t.selectedResource&&t.selectedResource.hashData;e&&this.options.onAuthorized(e)}}},{key:"_renderFonts",value:function(t){var e=m.default.getStyleFrom(Ft.default,{baseUrl:this.options.baseUrl});(0,h.default)(t).append(e)}},{key:"_renderDefaultStyle",value:function(t){var e=m.default.getStyleFrom(jt.default,{playerId:this.options.playerId});(0,h.default)(t).append(e)}},{key:"resize",value:function(t){(0,h.default)(this.element).css({width:t.width,height:t.height}),this.core&&l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"resize",this).call(this,t)}},{key:"version",value:function(){return"4.6.5"}}]),e}(c.default.Player),$t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=["play_button","time_indicator","live_button","volume","seekbar","seekbar_info","settings","fullscreen_button","video_info","share"],i=t.filter(function(t){return t&&-1===e.indexOf(t)});return e.concat(i)},zt=function(t){return{container:[],core:[{plugin:it.default,enabled:t.chromecast.enabled},{plugin:F.default,enabled:t.sharePlugin.enabled},{plugin:rt.default,enabled:t.sentry.enabled}]}},Wt=function(t,e){var i={core:[T.default,L.default,I.default,Y.default,D.default,N.default,Q.default,j.default,W.default,O.default,X.default,tt.default,$.default,V.default],playback:[ot.default,lt.default,ct.default],container:[Lt.default,mt.default,_t.default,At.default,Tt.default,ft.default,Ct.default,Ot.default,Dt.default,ht.default,Nt.default,It.default]};return Object.keys(e).forEach(function(t){e[t].forEach(function(e){e.enabled&&i[t].push(e.plugin)})}),t&&(i.core=_.default.mergePlugins(i.core,t.core),i.playback=_.default.mergePlugins(i.playback,t.playback),i.container=_.default.mergePlugins(i.container,t.container)),i},qt=function(t,e,i){var n=h.default.extend({},i);return["_id","ad_unit","ad_custom_data","code","duration","encrypted","hash","height","http_status_code","message","players","product","query_string_template","selectedResource","serviceId","url","user"].forEach(function(t){return delete n[t]}),h.default.extend(n,{affiliate:i.affiliate&&i.affiliate.code||"N/A",live:"live"===t.kind,geofencing:t.geofencing,available_in_location:!e.code||"SRF"!==e.code&&"DNS"!==e.code,id:t.id,title:t.title,program:t.program,channel:t.channel,category:t.category,subscriber_only:t.subscriber_only})},Xt=function(){if(Yt.CastSenders){var t=Object.keys(Yt.CastSenders).find(function(t){return t===_.default.getHostname()||t===_.default.getHostAndPathName()});return t&&Yt.CastSenders[t]}};u.Browser.supportsFakeLocation=/puffin/i.test(navigator.userAgent),Kt.isAllowedDomain=function(t){return!window.WM||!window.WM.Player3||WM.Player3.ALLOWED_DOMAINS.find(function(e){return e.test(t)})},Kt.version="Player-4.6.5/Clappr-"+c.default.version;var Zt={GloboMediaControl:T.default,DFP:V.default,Pip:$.default,Settings:X.default,LiveButton:Y.default,SeekbarInfo:W.default,ThumbPreview:Q.default,IdPlayback:ot.default,Comscore:ft.default,PlayerError:gt.default,LongPauseExpiration:mt.default,Poster:_t.default,Spinner:At.default,StreamSense:Tt.default,WebmediaAPIHit:Ct.default,Subtitle:Lt.default,Horizon:Ot.default,WaitingRoom:Dt.default,VideoInfo:tt.default,ClapprStats:ht.default,Sentry:rt.default};e.default={Player:Kt,Styler:m.default,Utils:_.default,Plugins:Zt,Environment:g.default,VideoMetadataLoader:Vt.default,MediaControlPlugin:A.default},window.Clappr=window.Clappr||c.default,window.$=window.$||h.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(36),a=n(r),o=i(1),s=n(o),l=i(3),u=n(l),c=i(6),d=n(c),h=i(4),p=n(h),f=i(11),y=i(21),g=n(y),v=i(8),m=n(v),b=i(18),_=n(b),E=i(151),A=n(E),k=i(89),T=n(k),w=i(41),C=n(w),S=i(7),L=n(S),P=(0,f.currentScriptUrl)().replace(/\/[^\/]+$/,""),O=function(t){function e(i){(0,s.default)(this,e);var n=(0,u.default)(this,t.call(this,i)),r={playerId:(0,f.uniqueId)(""),persistConfig:!0,width:640,height:360,baseUrl:P,allowUserInteraction:_.default.isMobile};return n._options=L.default.extend(r,i),n.options.sources=n._normalizeSources(i),n.options.chromeless||(n.options.allowUserInteraction=!0),n.options.allowUserInteraction||(n.options.disableKeyboardShortcuts=!0),n._registerOptionEventListeners(),n._coreFactory=new A.default(n),n.playerInfo=C.default.getInstance(n.options.playerId),n.playerInfo.currentSize={width:i.width,height:i.height},n.playerInfo.options=n.options,n.options.parentId?n.setParentId(n.options.parentId):n.options.parent&&n.attachTo(n.options.parent),n}return(0,p.default)(e,t),(0,d.default)(e,[{key:"loader",set:function(t){this._loader=t},get:function(){return this._loader||(this._loader=new T.default(this.options.plugins||{},this.options.playerId)),this._loader}},{key:"ended",get:function(){return this.core.mediaControl.container.ended}},{key:"buffering",get:function(){return this.core.mediaControl.container.buffering}},{key:"isReady",get:function(){return!!this._ready}},{key:"eventsMapping",get:function(){return{onReady:m.default.PLAYER_READY,onResize:m.default.PLAYER_RESIZE,onPlay:m.default.PLAYER_PLAY,onPause:m.default.PLAYER_PAUSE,onStop:m.default.PLAYER_STOP,onEnded:m.default.PLAYER_ENDED,onSeek:m.default.PLAYER_SEEK,onError:m.default.PLAYER_ERROR,onTimeUpdate:m.default.PLAYER_TIMEUPDATE,onVolumeUpdate:m.default.PLAYER_VOLUMEUPDATE,onSubtitleAvailable:m.default.PLAYER_SUBTITLE_AVAILABLE}}}]),e.prototype.setParentId=function(t){var e=document.querySelector(t);return e&&this.attachTo(e),this},e.prototype.attachTo=function(t){return this.options.parentElement=t,this.core=this._coreFactory.create(),this._addEventListeners(),this},e.prototype._addEventListeners=function(){return this.core.isReady?this._onReady():this.listenToOnce(this.core,m.default.CORE_READY,this._onReady),this.listenTo(this.core.mediaControl,m.default.MEDIACONTROL_CONTAINERCHANGED,this._containerChanged),this.listenTo(this.core,m.default.CORE_FULLSCREEN,this._onFullscreenChange),this},e.prototype._addContainerEventListeners=function(){var t=this.core.mediaControl.container;return t&&(this.listenTo(t,m.default.CONTAINER_PLAY,this._onPlay),this.listenTo(t,m.default.CONTAINER_PAUSE,this._onPause),this.listenTo(t,m.default.CONTAINER_STOP,this._onStop),this.listenTo(t,m.default.CONTAINER_ENDED,this._onEnded),this.listenTo(t,m.default.CONTAINER_SEEK,this._onSeek),this.listenTo(t,m.default.CONTAINER_ERROR,this._onError),this.listenTo(t,m.default.CONTAINER_TIMEUPDATE,this._onTimeUpdate),this.listenTo(t,m.default.CONTAINER_VOLUME,this._onVolumeUpdate),this.listenTo(t,m.default.CONTAINER_SUBTITLE_AVAILABLE,this._onSubtitleAvailable)),this},e.prototype._registerOptionEventListeners=function(){var t=this,e=this.options.events||{};return(0,a.default)(e).forEach(function(i){var n=t.eventsMapping[i];if(n){var r=e[i];r="function"==typeof r&&r,r&&t.on(n,r)}}),this},e.prototype._containerChanged=function(){this.stopListening(),this._addEventListeners()},e.prototype._onReady=function(){this._ready=!0,this._addContainerEventListeners(),this.trigger(m.default.PLAYER_READY)},e.prototype._onFullscreenChange=function(t){this.trigger(m.default.PLAYER_FULLSCREEN,t)},e.prototype._onVolumeUpdate=function(t){this.trigger(m.default.PLAYER_VOLUMEUPDATE,t)},e.prototype._onSubtitleAvailable=function(){this.trigger(m.default.PLAYER_SUBTITLE_AVAILABLE)},e.prototype._onPlay=function(){this.trigger(m.default.PLAYER_PLAY)},e.prototype._onPause=function(){this.trigger(m.default.PLAYER_PAUSE)},e.prototype._onStop=function(){this.trigger(m.default.PLAYER_STOP,this.getCurrentTime())},e.prototype._onEnded=function(){this.trigger(m.default.PLAYER_ENDED)},e.prototype._onSeek=function(t){this.trigger(m.default.PLAYER_SEEK,t)},e.prototype._onTimeUpdate=function(t){this.trigger(m.default.PLAYER_TIMEUPDATE,t)},e.prototype._onError=function(t){this.trigger(m.default.PLAYER_ERROR,t)},e.prototype._normalizeSources=function(t){var e=t.sources||(void 0!==t.source?[t.source]:[]);return 0===e.length?[{source:"",mimeType:""}]:e},e.prototype.resize=function(t){return this.core.resize(t),this},e.prototype.load=function(t,e,i){return void 0!==i&&this.configure({autoPlay:!!i}),this.core.load(t,e),this},e.prototype.destroy=function(){return this.core.destroy(),this},e.prototype.consent=function(){return this.core.getCurrentPlayback().consent(),this},e.prototype.play=function(){return this.core.mediaControl.container.play(),this},e.prototype.pause=function(){return this.core.mediaControl.container.pause(),this},e.prototype.stop=function(){return this.core.mediaControl.container.stop(),this},e.prototype.seek=function(t){return this.core.mediaControl.container.seek(t),this},e.prototype.seekPercentage=function(t){return this.core.mediaControl.container.seekPercentage(t),this},e.prototype.setVolume=function(t){return this.core&&this.core.mediaControl&&this.core.mediaControl.setVolume(t),this},e.prototype.getVolume=function(){return this.core&&this.core.mediaControl?this.core.mediaControl.volume:0},e.prototype.mute=function(){return this._mutedVolume=this.getVolume(),this.setVolume(0),this},e.prototype.unmute=function(){return this.setVolume("number"==typeof this._mutedVolume?this._mutedVolume:100),this._mutedVolume=null,this},e.prototype.isPlaying=function(){return this.core.mediaControl.container.isPlaying()},e.prototype.isDvrEnabled=function(){return this.core.mediaControl.container.isDvrEnabled()},e.prototype.isDvrInUse=function(){return this.core.mediaControl.container.isDvrInUse()},e.prototype.configure=function(t){return this.core.configure(t),this},e.prototype.getPlugin=function(t){return this.core.plugins.concat(this.core.mediaControl.container.plugins).filter(function(e){return e.name===t})[0]},e.prototype.getCurrentTime=function(){return this.core.mediaControl.container.getCurrentTime()},e.prototype.getStartTimeOffset=function(){return this.core.mediaControl.container.getStartTimeOffset()},e.prototype.getDuration=function(){return this.core.mediaControl.container.getDuration()},e}(g.default);e.default=O,t.exports=e.default},function(t,e,i){"use strict";i(111),t.exports=i(15).Object.keys},function(t,e,i){"use strict";var n=i(47),r=i(37);i(74)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){"use strict";var n=i(49);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e,i){"use strict";var n=i(24),r=i(73),a=i(114);t.exports=function(t){return function(e,i,o){var s,l=n(e),u=r(l.length),c=a(o,u);if(t&&i!=i){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},function(t,e,i){"use strict";var n=i(50),r=Math.max,a=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):a(t,e)}},function(t,e,i){"use strict";t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){"use strict";t.exports={default:i(117),__esModule:!0}},function(t,e,i){"use strict";i(77),i(123),t.exports=i(59).f("iterator")},function(t,e,i){"use strict";var n=i(50),r=i(48);t.exports=function(t){return function(e,i){var a,o,s=String(r(e)),l=n(i),u=s.length;return l<0||l>=u?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===u||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}}},function(t,e,i){"use strict";var n=i(57),r=i(33),a=i(58),o={};i(28)(o,i(17)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(o,{next:r(1,i)}),a(t,e+" Iterator")}},function(t,e,i){"use strict";var n=i(20),r=i(29),a=i(37);t.exports=i(26)?Object.defineProperties:function(t,e){r(t);for(var i,o=a(e),s=o.length,l=0;s>l;)n.f(t,i=o[l++],e[i]);return t}},function(t,e,i){"use strict";var n=i(19).document;t.exports=n&&n.documentElement},function(t,e,i){"use strict";var n=i(23),r=i(47),a=i(51)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,i){"use strict";i(124);for(var n=i(19),r=i(28),a=i(34),o=i(17)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var u=s[l],c=n[u],d=c&&c.prototype;d&&!d[o]&&r(d,o,u),a[u]=a.Array}},function(t,e,i){"use strict";var n=i(125),r=i(126),a=i(34),o=i(24);t.exports=i(78)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,e,i){"use strict";t.exports=function(){}},function(t,e,i){"use strict";t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){"use strict";t.exports={default:i(128),__esModule:!0}},function(t,e,i){"use strict";i(129),i(134),i(135),i(136),t.exports=i(15).Symbol},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(19),a=i(23),o=i(26),s=i(25),l=i(79),u=i(130).KEY,c=i(32),d=i(52),h=i(58),p=i(38),f=i(17),y=i(59),g=i(60),v=i(131),m=i(132),b=i(29),_=i(24),E=i(55),A=i(33),k=i(57),T=i(133),w=i(62),C=i(20),S=i(37),L=w.f,P=C.f,O=T.f,R=r.Symbol,I=r.JSON,x=I&&I.stringify,D=f("_hidden"),M=f("toPrimitive"),N={}.propertyIsEnumerable,B=d("symbol-registry"),F=d("symbols"),U=d("op-symbols"),j=Object.prototype,G="function"==typeof R,V=r.QObject,H=!V||!V.prototype||!V.prototype.findChild,Y=o&&c(function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=L(j,e);n&&delete j[e],P(t,e,i),n&&t!==j&&P(j,e,n)}:P,K=function(t){var e=F[t]=k(R.prototype);return e._k=t,e},$=G&&"symbol"==n(R.iterator)?function(t){return"symbol"==(void 0===t?"undefined":n(t))}:function(t){return t instanceof R},z=function(t,e,i){return t===j&&z(U,e,i),b(t),e=E(e,!0),b(i),a(F,e)?(i.enumerable?(a(t,D)&&t[D][e]&&(t[D][e]=!1),i=k(i,{enumerable:A(0,!1)})):(a(t,D)||P(t,D,A(1,{})),t[D][e]=!0),Y(t,e,i)):P(t,e,i)},W=function(t,e){b(t);for(var i,n=v(e=_(e)),r=0,a=n.length;a>r;)z(t,i=n[r++],e[i]);return t},q=function(t,e){return void 0===e?k(t):W(k(t),e)},X=function(t){var e=N.call(this,t=E(t,!0));return!(this===j&&a(F,t)&&!a(U,t))&&(!(e||!a(this,t)||!a(F,t)||a(this,D)&&this[D][t])||e)},Z=function(t,e){if(t=_(t),e=E(e,!0),t!==j||!a(F,e)||a(U,e)){var i=L(t,e);return!i||!a(F,e)||a(t,D)&&t[D][e]||(i.enumerable=!0),i}},Q=function(t){for(var e,i=O(_(t)),n=[],r=0;i.length>r;)a(F,e=i[r++])||e==D||e==u||n.push(e);return n},J=function(t){for(var e,i=t===j,n=O(i?U:_(t)),r=[],o=0;n.length>o;)!a(F,e=n[o++])||i&&!a(j,e)||r.push(F[e]);return r};G||(R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function e(i){this===j&&e.call(U,i),a(this,D)&&a(this[D],t)&&(this[D][t]=!1),Y(this,t,A(1,i))};return o&&H&&Y(j,t,{configurable:!0,set:e}),K(t)},l(R.prototype,"toString",function(){return this._k}),w.f=Z,C.f=z,i(81).f=T.f=Q,i(61).f=X,i(80).f=J,o&&!i(56)&&l(j,"propertyIsEnumerable",X,!0),y.f=function(t){return K(f(t))}),s(s.G+s.W+s.F*!G,{Symbol:R});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)f(tt[et++]);for(var it=S(f.store),nt=0;it.length>nt;)g(it[nt++]);s(s.S+s.F*!G,"Symbol",{for:function(t){return a(B,t+="")?B[t]:B[t]=R(t)},keyFor:function(t){if(!$(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!G,"Object",{create:q,defineProperty:z,defineProperties:W,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Q,getOwnPropertySymbols:J}),I&&s(s.S+s.F*(!G||c(function(){var t=R();return"[null]"!=x([t])||"{}"!=x({a:t})||"{}"!=x(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);return e=n[1],"function"==typeof e&&(i=e),!i&&m(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!$(e))return e}),n[1]=e,x.apply(I,n)}}}),R.prototype[M]||i(28)(R.prototype,M,R.prototype.valueOf),h(R,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(38)("meta"),a=i(31),o=i(23),s=i(20).f,l=0,u=Object.isExtensible||function(){return!0},c=!i(32)(function(){return u(Object.preventExtensions({}))}),d=function(t){s(t,r,{value:{i:"O"+ ++l,w:{}}})},h=function(t,e){if(!a(t))return"symbol"==(void 0===t?"undefined":n(t))?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";d(t)}return t[r].i},p=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;d(t)}return t[r].w},f=function(t){return c&&y.NEED&&u(t)&&!o(t,r)&&d(t),t},y=t.exports={KEY:r,NEED:!1,fastKey:h,getWeak:p,onFreeze:f}},function(t,e,i){"use strict";var n=i(37),r=i(80),a=i(61);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var o,s=i(t),l=a.f,u=0;s.length>u;)l.call(t,o=s[u++])&&e.push(o);return e}},function(t,e,i){"use strict";var n=i(49);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(24),a=i(81).f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":n(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return a(t)}catch(t){return s.slice()}};t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?l(t):a(r(t))}},function(t,e,i){"use strict"},function(t,e,i){"use strict";i(60)("asyncIterator")},function(t,e,i){"use strict";i(60)("observable")},function(t,e,i){"use strict";i(138);var n=i(15).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},function(t,e,i){"use strict";var n=i(25);n(n.S+n.F*!i(26),"Object",{defineProperty:i(20).f})},function(t,e,i){"use strict";t.exports={default:i(140),__esModule:!0}},function(t,e,i){"use strict";i(141),t.exports=i(15).Object.setPrototypeOf},function(t,e,i){"use strict";var n=i(25);n(n.S,"Object",{setPrototypeOf:i(142).set})},function(t,e,i){"use strict";var n=i(31),r=i(29),a=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(54)(Function.call,i(62).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return a(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:a}},function(t,e,i){"use strict";i(144);var n=i(15).Object;t.exports=function(t,e){return n.create(t,e)}},function(t,e,i){"use strict";var n=i(25);n(n.S,"Object",{create:i(57)})},function(t,e,i){"use strict";t.exports={default:i(146),__esModule:!0}},function(t,e,i){"use strict";i(147);var n=i(15).Object;t.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},function(t,e,i){"use strict";var n=i(24),r=i(62).f;i(74)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,e,i){"use strict";Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var n=arguments[1],r=0;r<i;){var a=e[r];if(t.call(n,a,r,e))return a;r++}}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=i(40),o="font-weight: bold; font-size: 13px;",s="color: #ff8000;"+o,l="color: #ff0000;"+o,u=1,c=3,d=["color: #0000ff;font-weight: bold; font-size: 13px;","color: #006600;font-weight: bold; font-size: 13px;",s,l,l],h=["debug","info","warn","error","disabled"],p=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;(0,r.default)(this,t),this.kibo=new a.Kibo,this.kibo.down(["ctrl shift d"],function(){return e.onOff()}),this.BLACKLIST=["timeupdate","playback:timeupdate","playback:progress","container:hover","container:timeupdate","container:progress"],this.level=i,this.offLevel=n}return t.prototype.debug=function(t){this.log(t,0,Array.prototype.slice.call(arguments,1))},t.prototype.info=function(t){this.log(t,u,Array.prototype.slice.call(arguments,1))},t.prototype.warn=function(t){this.log(t,2,Array.prototype.slice.call(arguments,1))},t.prototype.error=function(t){this.log(t,3,Array.prototype.slice.call(arguments,1))},t.prototype.onOff=function(){this.level===this.offLevel?this.level=this.previousLevel:(this.previousLevel=this.level,this.level=this.offLevel),window.console&&window.console.log&&window.console.log("%c[Clappr.Log] set log level to "+h[this.level],s)},t.prototype.level=function(t){this.level=t},t.prototype.log=function(t,e,i){if(!(this.BLACKLIST.indexOf(i[0])>=0||e<this.level)){i||(i=t,t=null);var n=d[e],r="";t&&(r="["+t+"]"),window.console&&window.console.log&&window.console.log.apply(console,["%c["+h[e]+"]"+r,n].concat(i))}},t}();e.default=p,p.LEVEL_DEBUG=0,p.LEVEL_INFO=u,p.LEVEL_WARN=2,p.LEVEL_ERROR=3,p.getInstance=function(){return void 0===this._instance&&(this._instance=new this,this._instance.previousLevel=this._instance.level,this._instance.level=this._instance.offLevel),this._instance},p.setLevel=function(t){this.getInstance().level=t},p.debug=function(){this.getInstance().debug.apply(this.getInstance(),arguments)},p.info=function(){this.getInstance().info.apply(this.getInstance(),arguments)},p.warn=function(){this.getInstance().warn.apply(this.getInstance(),arguments)},p.error=function(){this.getInstance().error.apply(this.getInstance(),arguments)},t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){this.element=t||window.document,this.initialize()};n.KEY_NAMES_BY_CODE={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"caps_lock",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"},n.KEY_CODES_BY_NAME={},function(){for(var t in n.KEY_NAMES_BY_CODE)Object.prototype.hasOwnProperty.call(n.KEY_NAMES_BY_CODE,t)&&(n.KEY_CODES_BY_NAME[n.KEY_NAMES_BY_CODE[t]]=+t)}(),n.MODIFIERS=["shift","ctrl","alt"],n.registerEvent=function(){return document.addEventListener?function(t,e,i){t.addEventListener(e,i,!1)}:document.attachEvent?function(t,e,i){t.attachEvent("on"+e,i)}:void 0}(),n.unregisterEvent=function(){return document.removeEventListener?function(t,e,i){t.removeEventListener(e,i,!1)}:document.detachEvent?function(t,e,i){t.detachEvent("on"+e,i)}:void 0}(),n.stringContains=function(t,e){return-1!==t.indexOf(e)},n.neatString=function(t){return t.replace(/^\s+|\s+$/g,"").replace(/\s+/g," ")},n.capitalize=function(t){return t.toLowerCase().replace(/^./,function(t){return t.toUpperCase()})},n.isString=function(t){return n.stringContains(Object.prototype.toString.call(t),"String")},n.arrayIncludes=function(){return Array.prototype.indexOf?function(t,e){return-1!==t.indexOf(e)}:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return!0;return!1}}(),n.extractModifiers=function(t){var e,i;for(e=[],i=0;i<n.MODIFIERS.length;i++)n.stringContains(t,n.MODIFIERS[i])&&e.push(n.MODIFIERS[i]);return e},n.extractKey=function(t){var e,i;for(e=n.neatString(t).split(" "),i=0;i<e.length;i++)if(!n.arrayIncludes(n.MODIFIERS,e[i]))return e[i]},n.modifiersAndKey=function(t){var e,i;return n.stringContains(t,"any")?n.neatString(t).split(" ").slice(0,2).join(" "):(e=n.extractModifiers(t),i=n.extractKey(t),i&&!n.arrayIncludes(n.MODIFIERS,i)&&e.push(i),e.join(" "))},n.keyName=function(t){return n.KEY_NAMES_BY_CODE[t+""]},n.keyCode=function(t){return+n.KEY_CODES_BY_NAME[t]},n.prototype.initialize=function(){var t,e=this;for(this.lastKeyCode=-1,this.lastModifiers={},t=0;t<n.MODIFIERS.length;t++)this.lastModifiers[n.MODIFIERS[t]]=!1;this.keysDown={any:[]},this.keysUp={any:[]},this.downHandler=this.handler("down"),this.upHandler=this.handler("up"),n.registerEvent(this.element,"keydown",this.downHandler),n.registerEvent(this.element,"keyup",this.upHandler),n.registerEvent(window,"unload",function t(){n.unregisterEvent(e.element,"keydown",e.downHandler),n.unregisterEvent(e.element,"keyup",e.upHandler),n.unregisterEvent(window,"unload",t)})},n.prototype.handler=function(t){var e=this;return function(i){var r,a,o;for(i=i||window.event,e.lastKeyCode=i.keyCode,r=0;r<n.MODIFIERS.length;r++)e.lastModifiers[n.MODIFIERS[r]]=i[n.MODIFIERS[r]+"Key"];for(n.arrayIncludes(n.MODIFIERS,n.keyName(e.lastKeyCode))&&(e.lastModifiers[n.keyName(e.lastKeyCode)]=!0),a=e["keys"+n.capitalize(t)],r=0;r<a.any.length;r++)!1===a.any[r](i)&&i.preventDefault&&i.preventDefault();if(o=e.lastModifiersAndKey(),a[o])for(r=0;r<a[o].length;r++)!1===a[o][r](i)&&i.preventDefault&&i.preventDefault()}},n.prototype.registerKeys=function(t,e,i){var r,a,o=this["keys"+n.capitalize(t)];for(n.isString(e)&&(e=[e]),r=0;r<e.length;r++)a=e[r],a=n.modifiersAndKey(a+""),o[a]?o[a].push(i):o[a]=[i];return this},n.prototype.unregisterKeys=function(t,e,i){var r,a,o,s=this["keys"+n.capitalize(t)];for(n.isString(e)&&(e=[e]),r=0;r<e.length;r++)if(o=e[r],o=n.modifiersAndKey(o+""),null===i)delete s[o];else if(s[o])for(a=0;a<s[o].length;a++)if(String(s[o][a])===String(i)){s[o].splice(a,1);break}return this},n.prototype.off=function(t){return this.unregisterKeys("down",t,null)},n.prototype.delegate=function(t,e,i){return null!==i||void 0!==i?this.registerKeys(t,e,i):this.unregisterKeys(t,e,i)},n.prototype.down=function(t,e){return this.delegate("down",t,e)},n.prototype.up=function(t,e){return this.delegate("up",t,e)},n.prototype.lastKey=function(t){return t?this.lastModifiers[t]:n.keyName(this.lastKeyCode)},n.prototype.lastModifiersAndKey=function(){var t,e;for(t=[],e=0;e<n.MODIFIERS.length;e++)this.lastKey(n.MODIFIERS[e])&&t.push(n.MODIFIERS[e]);return n.arrayIncludes(t,this.lastKey())||t.push(this.lastKey()),t.join(" ")},e.default=n,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(152),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(21),p=n(h),f=i(84),y=n(f),g=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this));return n.player=i,n._options=i.options,n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"loader",get:function(){return this.player.loader}}]),e.prototype.create=function(){return this.options.loader=this.loader,this.core=new y.default(this.options),this.addCorePlugins(),this.core.createContainers(this.options),this.core},e.prototype.addCorePlugins=function(){var t=this;return this.loader.corePlugins.forEach(function(e){var i=new e(t.core);t.core.addPlugin(i),t.setupExternalInterface(i)}),this.core},e.prototype.setupExternalInterface=function(t){var e=t.getExternalInterface();for(var i in e)this.player[i]=e[i].bind(t)},e}(p.default);e.default=g,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(11),p=i(8),f=n(p),y=i(27),g=n(y),v=i(18),m=n(v),b=i(154),_=n(b),E=i(86),A=n(E),k=i(30),T=n(k),w=i(41),C=n(w),S=i(7),L=n(S);i(172);var P=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.configureDomRecycler(),n.playerInfo=C.default.getInstance(i.playerId),n.firstResize=!0,n.plugins=[],n.containers=[],n.setupMediaControl(null),n._boundFullscreenHandler=function(){return n.handleFullscreenChange()},(0,L.default)(document).bind("fullscreenchange",n._boundFullscreenHandler),(0,L.default)(document).bind("MSFullscreenChange",n._boundFullscreenHandler),(0,L.default)(document).bind("mozfullscreenchange",n._boundFullscreenHandler),m.default.isMobile&&(0,L.default)(window).bind("resize",function(t){n.handleWindowResize(t)}),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"events",get:function(){return{webkitfullscreenchange:"handleFullscreenChange",mousemove:"showMediaControl",mouseleave:"hideMediaControl"}}},{key:"attributes",get:function(){return{"data-player":"",tabindex:9999}}},{key:"isReady",get:function(){return!!this.ready}},{key:"i18n",get:function(){return this.getPlugin("strings")||{t:function(t){return t}}}}]),e.prototype.configureDomRecycler=function(){var t=!!(this.options&&this.options.playback&&this.options.playback.recycleVideo);h.DomRecycler.configure({recycleVideo:t})},e.prototype.createContainers=function(t){var e=this;this.defer=L.default.Deferred(),this.defer.promise(this),this.containerFactory=new _.default(t,t.loader,this.i18n),this.containerFactory.createContainers().then(function(t){return e.setupContainers(t)}).then(function(t){return e.resolveOnContainersReady(t)})},e.prototype.updateSize=function(){h.Fullscreen.isFullscreen()?this.setFullscreen():this.setPlayerSize()},e.prototype.setFullscreen=function(){m.default.isiOS||(this.$el.addClass("fullscreen"),this.$el.removeAttr("style"),this.playerInfo.previousSize={width:this.options.width,height:this.options.height},this.playerInfo.currentSize={width:(0,L.default)(window).width(),height:(0,L.default)(window).height()})},e.prototype.setPlayerSize=function(){this.$el.removeClass("fullscreen"),this.playerInfo.currentSize=this.playerInfo.previousSize,this.playerInfo.previousSize={width:(0,L.default)(window).width(),height:(0,L.default)(window).height()},this.resize(this.playerInfo.currentSize)},e.prototype.resize=function(t){(0,h.isNumber)(t.height)||(0,h.isNumber)(t.width)?(this.el.style.height=t.height+"px",this.el.style.width=t.width+"px"):(this.el.style.height=""+t.height,this.el.style.width=""+t.width),this.playerInfo.previousSize={width:this.options.width,height:this.options.height},this.options.width=t.width,this.options.height=t.height,this.playerInfo.currentSize=t,this.triggerResize(this.playerInfo.currentSize)},e.prototype.enableResizeObserver=function(){var t=this,e=function(){t.playerInfo.computedSize.width==t.el.clientWidth&&t.playerInfo.computedSize.height==t.el.clientHeight||(t.playerInfo.computedSize={width:t.el.clientWidth,height:t.el.clientHeight},t.triggerResize(t.playerInfo.computedSize))};this.resizeObserverInterval=setInterval(e,500)},e.prototype.triggerResize=function(t){(this.firstResize||this.oldHeight!==t.height||this.oldWidth!==t.width)&&(T.default.trigger(this.options.playerId+":"+f.default.PLAYER_RESIZE,t),this.oldHeight=t.height,this.oldWidth=t.width,this.firstResize=!1)},e.prototype.disableResizeObserver=function(){this.resizeObserverInterval&&clearInterval(this.resizeObserverInterval)},e.prototype.resolveOnContainersReady=function(t){var e=this;L.default.when.apply(L.default,t).done(function(){e.defer.resolve(e),e.ready=!0,e.trigger(f.default.CORE_READY)})},e.prototype.addPlugin=function(t){this.plugins.push(t)},e.prototype.hasPlugin=function(t){return!!this.getPlugin(t)},e.prototype.getPlugin=function(t){return this.plugins.filter(function(e){return e.name===t})[0]},e.prototype.load=function(t,e){var i=this;this.options.mimeType=e,t=t&&t.constructor===Array?t:[t],this.containers.forEach(function(t){return t.destroy()}),this.mediaControl.container=null,this.containerFactory.options=L.default.extend(this.options,{sources:t}),this.containerFactory.createContainers().then(function(t){i.setupContainers(t)})},e.prototype.destroy=function(){this.disableResizeObserver(),this.containers.forEach(function(t){return t.destroy()}),this.plugins.forEach(function(t){return t.destroy()}),this.$el.remove(),this.mediaControl.destroy(),(0,L.default)(document).unbind("fullscreenchange",this._boundFullscreenHandler),(0,L.default)(document).unbind("MSFullscreenChange",this._boundFullscreenHandler),(0,L.default)(document).unbind("mozfullscreenchange",this._boundFullscreenHandler)},e.prototype.handleFullscreenChange=function(){this.trigger(f.default.CORE_FULLSCREEN,h.Fullscreen.isFullscreen()),this.updateSize(),this.mediaControl.show()},e.prototype.handleWindowResize=function(t){var e=(0,L.default)(window).width()>(0,L.default)(window).height()?"landscape":"portrait";this._screenOrientation!==e&&(this._screenOrientation=e,this.trigger(f.default.CORE_SCREEN_ORIENTATION_CHANGED,{event:t,orientation:this._screenOrientation}))},e.prototype.setMediaControlContainer=function(t){this.mediaControl.setContainer(t),this.mediaControl.render()},e.prototype.disableMediaControl=function(){this.mediaControl.disable(),this.$el.removeClass("nocursor")},e.prototype.enableMediaControl=function(){this.mediaControl.enable()},e.prototype.removeContainer=function(t){this.stopListening(t),this.containers=this.containers.filter(function(e){return e!==t})},e.prototype.appendContainer=function(t){this.listenTo(t,f.default.CONTAINER_DESTROYED,this.removeContainer),this.containers.push(t)},e.prototype.setupContainers=function(t){return t.map(this.appendContainer.bind(this)),this.trigger(f.default.CORE_CONTAINERS_CREATED),this.renderContainers(),this.setupMediaControl(this.getCurrentContainer()),this.render(),this.appendToParent(),this.containers},e.prototype.renderContainers=function(){var t=this;this.containers.map(function(e){return t.el.appendChild(e.render().el)})},e.prototype.createContainer=function(t,e){var i=this.containerFactory.createContainer(t,e);return this.appendContainer(i),this.el.appendChild(i.render().el),i},e.prototype.setupMediaControl=function(t){this.mediaControl?this.mediaControl.setContainer(t):(this.mediaControl=this.createMediaControl(L.default.extend({container:t,focusElement:this.el},this.options)),this.listenTo(this.mediaControl,f.default.MEDIACONTROL_FULLSCREEN,this.toggleFullscreen),this.listenTo(this.mediaControl,f.default.MEDIACONTROL_SHOW,this.onMediaControlShow.bind(this,!0)),this.listenTo(this.mediaControl,f.default.MEDIACONTROL_HIDE,this.onMediaControlShow.bind(this,!1)))},e.prototype.createMediaControl=function(t){return t.mediacontrol&&t.mediacontrol.external?new t.mediacontrol.external(t).render():new A.default(t).render()},e.prototype.getCurrentContainer=function(){return this.mediaControl&&this.mediaControl.container?this.mediaControl.container:this.containers[0]},e.prototype.getCurrentPlayback=function(){var t=this.getCurrentContainer();return t&&t.playback},e.prototype.getPlaybackType=function(){var t=this.getCurrentContainer();return t&&t.getPlaybackType()},e.prototype.toggleFullscreen=function(){h.Fullscreen.isFullscreen()?(h.Fullscreen.cancelFullscreen(),m.default.isiOS||this.$el.removeClass("fullscreen nocursor")):(h.Fullscreen.requestFullscreen(this.el),m.default.isiOS||this.$el.addClass("fullscreen")),this.mediaControl.show()},e.prototype.showMediaControl=function(t){this.mediaControl.show(t)},e.prototype.hideMediaControl=function(){this.mediaControl.hide(this.options.hideMediaControlDelay)},e.prototype.onMediaControlShow=function(t){this.getCurrentContainer().trigger(t?f.default.CONTAINER_MEDIACONTROL_SHOW:f.default.CONTAINER_MEDIACONTROL_HIDE),t?this.$el.removeClass("nocursor"):h.Fullscreen.isFullscreen()&&this.$el.addClass("nocursor")},e.prototype.configure=function(t){var e=this;this._options=L.default.extend(this._options,t),this.configureDomRecycler();var i=t.source||t.sources;i?this.load(i,t.mimeType||this.options.mimeType):(this.trigger(f.default.CORE_OPTIONS_CHANGE),this.containers.forEach(function(t){t.configure(e.options)}))},e.prototype.appendToParent=function(){!(this.$el.parent()&&this.$el.parent().length)&&this.$el.appendTo(this.options.parentElement)},e.prototype.render=function(){this.$el.append(this.mediaControl.render().el),this.options.width=this.options.width||this.$el.width(),this.options.height=this.options.height||this.$el.height();var t={width:this.options.width,height:this.options.height};return this.playerInfo.previousSize=this.playerInfo.currentSize=this.playerInfo.computedSize=t,this.updateSize(),this.previousSize={width:this.$el.width(),height:this.$el.height()},this.enableResizeObserver(),this},e}(g.default);e.default=P,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(155),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(39),a=n(r),o=i(1),s=n(o),l=i(3),u=n(l),c=i(6),d=n(c),h=i(4),p=n(h),f=i(21),y=n(f),g=i(8),v=n(g),m=i(85),b=n(m),_=i(7),E=n(_),A=function(t){function e(i,n,r){(0,s.default)(this,e);var a=(0,u.default)(this,t.call(this,i));return a._i18n=r,a.loader=n,a}return(0,p.default)(e,t),(0,d.default)(e,[{key:"options",get:function(){return this._options},set:function(t){this._options=t}}]),e.prototype.createContainers=function(){var t=this;return E.default.Deferred(function(e){e.resolve(t.options.sources.map(function(e){return t.createContainer(e)}))})},e.prototype.findPlaybackPlugin=function(t,e){return this.loader.playbackPlugins.filter(function(i){return i.canPlay(t,e)})[0]},e.prototype.createContainer=function(t){var e=null,i=this.options.mimeType;"object"===(void 0===t?"undefined":(0,a.default)(t))?(e=t.source.toString(),t.mimeType&&(i=t.mimeType)):e=t.toString(),e.match(/^\/\//)&&(e=window.location.protocol+e);var n=E.default.extend({},this.options,{src:e,mimeType:i}),r=this.findPlaybackPlugin(e,i),o=new r(n,this._i18n);n=E.default.extend({},n,{playback:o});var s=new b.default(n,this._i18n),l=E.default.Deferred();return l.promise(s),this.addContainerPlugins(s),this.listenToOnce(s,v.default.CONTAINER_READY,function(){return l.resolve(s)}),s},e.prototype.addContainerPlugins=function(t){this.loader.containerPlugins.forEach(function(e){t.addPlugin(new e(t))})},e}(y.default);e.default=A,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(8),p=n(h),f=i(27),y=n(f);i(157);var g=i(7),v=n(g),m=function(t){function e(i,n){(0,a.default)(this,e);var r=(0,s.default)(this,t.call(this,i));return r._i18n=n,r.currentTime=0,r.volume=100,r.playback=i.playback,r.settings=v.default.extend({},r.playback.settings),r.isReady=!1,r.mediaControlDisabled=!1,r.plugins=[r.playback],r.bindEvents(),r}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"Container"}},{key:"attributes",get:function(){return{class:"container","data-container":""}}},{key:"events",get:function(){return{click:"clicked",dblclick:"dblClicked",doubleTap:"dblClicked",contextmenu:"onContextMenu",mouseenter:"mouseEnter",mouseleave:"mouseLeave"}}},{key:"ended",get:function(){return this.playback.ended}},{key:"buffering",get:function(){return this.playback.buffering}},{key:"i18n",get:function(){return this._i18n}},{key:"hasClosedCaptionsTracks",get:function(){return this.playback.hasClosedCaptionsTracks}},{key:"closedCaptionsTracks",get:function(){return this.playback.closedCaptionsTracks}},{key:"closedCaptionsTrackId",get:function(){return this.playback.closedCaptionsTrackId},set:function(t){this.playback.closedCaptionsTrackId=t}}]),e.prototype.bindEvents=function(){this.listenTo(this.playback,p.default.PLAYBACK_PROGRESS,this.progress),this.listenTo(this.playback,p.default.PLAYBACK_TIMEUPDATE,this.timeUpdated),this.listenTo(this.playback,p.default.PLAYBACK_READY,this.ready),this.listenTo(this.playback,p.default.PLAYBACK_BUFFERING,this.onBuffering),this.listenTo(this.playback,p.default.PLAYBACK_BUFFERFULL,this.bufferfull),this.listenTo(this.playback,p.default.PLAYBACK_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.playback,p.default.PLAYBACK_LOADEDMETADATA,this.loadedMetadata),this.listenTo(this.playback,p.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate),this.listenTo(this.playback,p.default.PLAYBACK_BITRATE,this.updateBitrate),this.listenTo(this.playback,p.default.PLAYBACK_PLAYBACKSTATE,this.playbackStateChanged),this.listenTo(this.playback,p.default.PLAYBACK_DVR,this.playbackDvrStateChanged),this.listenTo(this.playback,p.default.PLAYBACK_MEDIACONTROL_DISABLE,this.disableMediaControl),this.listenTo(this.playback,p.default.PLAYBACK_MEDIACONTROL_ENABLE,this.enableMediaControl),this.listenTo(this.playback,p.default.PLAYBACK_SEEKED,this.onSeeked),this.listenTo(this.playback,p.default.PLAYBACK_ENDED,this.onEnded),this.listenTo(this.playback,p.default.PLAYBACK_PLAY,this.playing),this.listenTo(this.playback,p.default.PLAYBACK_PAUSE,this.paused),this.listenTo(this.playback,p.default.PLAYBACK_STOP,this.stopped),this.listenTo(this.playback,p.default.PLAYBACK_ERROR,this.error),this.listenTo(this.playback,p.default.PLAYBACK_SUBTITLE_AVAILABLE,this.subtitleAvailable),this.listenTo(this.playback,p.default.PLAYBACK_SUBTITLE_CHANGED,this.subtitleChanged)},e.prototype.subtitleAvailable=function(){this.trigger(p.default.CONTAINER_SUBTITLE_AVAILABLE)},e.prototype.subtitleChanged=function(t){this.trigger(p.default.CONTAINER_SUBTITLE_CHANGED,t)},e.prototype.playbackStateChanged=function(t){this.trigger(p.default.CONTAINER_PLAYBACKSTATE,t)},e.prototype.playbackDvrStateChanged=function(t){this.settings=this.playback.settings,this.dvrInUse=t,this.trigger(p.default.CONTAINER_PLAYBACKDVRSTATECHANGED,t)},e.prototype.updateBitrate=function(t){this.trigger(p.default.CONTAINER_BITRATE,t)},e.prototype.statsReport=function(t){this.trigger(p.default.CONTAINER_STATS_REPORT,t)},e.prototype.getPlaybackType=function(){return this.playback.getPlaybackType()},e.prototype.isDvrEnabled=function(){return!!this.playback.dvrEnabled},e.prototype.isDvrInUse=function(){return!!this.dvrInUse},e.prototype.destroy=function(){this.trigger(p.default.CONTAINER_DESTROYED,this,this.name),this.stopListening(),this.plugins.forEach(function(t){return t.destroy()}),this.$el.remove()},e.prototype.setStyle=function(t){this.$el.css(t)},e.prototype.animate=function(t,e){return this.$el.animate(t,e).promise()},e.prototype.ready=function(){this.isReady=!0,this.trigger(p.default.CONTAINER_READY,this.name)},e.prototype.isPlaying=function(){return this.playback.isPlaying()},e.prototype.getStartTimeOffset=function(){return this.playback.getStartTimeOffset()},e.prototype.getCurrentTime=function(){return this.currentTime},e.prototype.getDuration=function(){return this.playback.getDuration()},e.prototype.error=function(t){this.isReady||this.ready(),this.trigger(p.default.CONTAINER_ERROR,{error:t,container:this},this.name)},e.prototype.loadedMetadata=function(t){this.trigger(p.default.CONTAINER_LOADEDMETADATA,t)},e.prototype.timeUpdated=function(t){this.currentTime=t.current,this.trigger(p.default.CONTAINER_TIMEUPDATE,t,this.name)},e.prototype.progress=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];this.trigger.apply(this,[p.default.CONTAINER_PROGRESS].concat(e,[this.name]))},e.prototype.playing=function(){this.trigger(p.default.CONTAINER_PLAY,this.name)},e.prototype.paused=function(){this.trigger(p.default.CONTAINER_PAUSE,this.name)},e.prototype.play=function(){this.playback.play()},e.prototype.stop=function(){this.playback.stop(),this.currentTime=0},e.prototype.pause=function(){this.playback.pause()},e.prototype.onEnded=function(){this.trigger(p.default.CONTAINER_ENDED,this,this.name),this.currentTime=0},e.prototype.stopped=function(){this.trigger(p.default.CONTAINER_STOP)},e.prototype.clicked=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(p.default.CONTAINER_CLICK,this,this.name)},e.prototype.dblClicked=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(p.default.CONTAINER_DBLCLICK,this,this.name)},e.prototype.onContextMenu=function(t){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(p.default.CONTAINER_CONTEXTMENU,t,this.name)},e.prototype.seek=function(t){this.trigger(p.default.CONTAINER_SEEK,t,this.name),this.playback.seek(t)},e.prototype.onSeeked=function(){this.trigger(p.default.CONTAINER_SEEKED,this.name)},e.prototype.seekPercentage=function(t){var e=this.getDuration();if(t>=0&&t<=100){var i=e*(t/100);this.seek(i)}},e.prototype.setVolume=function(t){this.volume=parseInt(t,10),this.trigger(p.default.CONTAINER_VOLUME,t,this.name),this.playback.volume(t)},e.prototype.fullscreen=function(){this.trigger(p.default.CONTAINER_FULLSCREEN,this.name)},e.prototype.onBuffering=function(){this.trigger(p.default.CONTAINER_STATE_BUFFERING,this.name)},e.prototype.bufferfull=function(){this.trigger(p.default.CONTAINER_STATE_BUFFERFULL,this.name)},e.prototype.addPlugin=function(t){this.plugins.push(t)},e.prototype.hasPlugin=function(t){return!!this.getPlugin(t)},e.prototype.getPlugin=function(t){return this.plugins.filter(function(e){return e.name===t})[0]},e.prototype.mouseEnter=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(p.default.CONTAINER_MOUSE_ENTER)},e.prototype.mouseLeave=function(){this.options.chromeless&&!this.options.allowUserInteraction||this.trigger(p.default.CONTAINER_MOUSE_LEAVE)},e.prototype.settingsUpdate=function(){this.settings=this.playback.settings,this.trigger(p.default.CONTAINER_SETTINGSUPDATE)},e.prototype.highDefinitionUpdate=function(t){this.trigger(p.default.CONTAINER_HIGHDEFINITIONUPDATE,t)},e.prototype.isHighDefinitionInUse=function(){return this.playback.isHighDefinitionInUse()},e.prototype.disableMediaControl=function(){this.mediaControlDisabled||(this.mediaControlDisabled=!0,this.trigger(p.default.CONTAINER_MEDIACONTROL_DISABLE))},e.prototype.enableMediaControl=function(){this.mediaControlDisabled&&(this.mediaControlDisabled=!1,this.trigger(p.default.CONTAINER_MEDIACONTROL_ENABLE))},e.prototype.updateStyle=function(){!this.options.chromeless||this.options.allowUserInteraction?this.$el.removeClass("chromeless"):this.$el.addClass("chromeless")},e.prototype.configure=function(t){this._options=v.default.extend(this._options,t),this.updateStyle(),this.trigger(p.default.CONTAINER_OPTIONS_CHANGE)},e.prototype.render=function(){return this.$el.append(this.playback.render().el),this.updateStyle(),this},e}(y.default);e.default=m,t.exports=e.default},function(t,e,i){var n=i(158);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".container[data-container]{position:absolute;background-color:#000;height:100%;width:100%}.container[data-container] .chromeless{cursor:default}[data-player]:not(.nocursor) .container[data-container]:not(.chromeless).pointer-enabled{cursor:pointer}",""])},function(t,e,i){"use strict";t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return t;var a;return a=0===r.indexOf("//")?r:0===r.indexOf("/")?i+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(t,e,i){"use strict";(function(n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(161),o=r(a),s=i(1),l=r(s),u=i(3),c=r(u),d=i(6),h=r(d),p=i(4),f=r(p),y=i(11),g=i(40),v=i(8),m=r(v),b=i(27),_=r(b),E=i(18),A=r(E),k=i(30),T=r(k),w=i(12),C=r(w),S=i(13),L=r(S),P=i(7),O=r(P);i(163);var R=i(165),I=r(R),x=i(64),D=r(x),M=i(88),N=r(M),B=i(166),F=r(B),U=i(167),j=r(U),G=i(168),V=r(G),H=i(169),Y=r(H),K=i(170),$=r(K),z=i(171),W=r(z),q=function(t){function e(i){(0,l.default)(this,e);var n=(0,c.default)(this,t.call(this,i));n.persistConfig=n.options.persistConfig,n.container=i.container,n.currentPositionValue=null,n.currentDurationValue=null;var r=n.persistConfig?y.Config.restore("volume"):100;return n.setVolume(n.options.mute?0:r),n.keepVisible=!1,n.fullScreenOnVideoTagSupported=null,n.addEventListeners(),n.settings={left:["play","stop","pause"],right:["volume"],default:["position","seekbar","duration"]},n.container?O.default.isEmptyObject(n.container.settings)||(n.settings=O.default.extend({},n.container.settings)):n.settings={},n.userDisabled=!1,(n.container&&n.container.mediaControlDisabled||n.options.chromeless)&&n.disable(),n.stopDragHandler=function(t){return n.stopDrag(t)},n.updateDragHandler=function(t){return n.updateDrag(t)},(0,O.default)(document).bind("mouseup",n.stopDragHandler),(0,O.default)(document).bind("mousemove",n.updateDragHandler),n}return(0,f.default)(e,t),(0,h.default)(e,[{key:"name",get:function(){return"MediaControl"}},{key:"disabled",get:function(){return this.userDisabled||this.container&&this.container.getPlaybackType()===L.default.NO_OP}},{key:"attributes",get:function(){return{class:"media-control","data-media-control":""}}},{key:"events",get:function(){return{"click [data-play]":"play","click [data-pause]":"pause","click [data-playpause]":"togglePlayPause","click [data-stop]":"stop","click [data-playstop]":"togglePlayStop","click [data-fullscreen]":"toggleFullscreen","click .bar-container[data-seekbar]":"seek","click .bar-container[data-volume]":"onVolumeClick","click .drawer-icon[data-volume]":"toggleMute","mouseenter .drawer-container[data-volume]":"showVolumeBar","mouseleave .drawer-container[data-volume]":"hideVolumeBar","mousedown .bar-container[data-volume]":"startVolumeDrag","mousemove .bar-container[data-volume]":"mousemoveOnVolumeBar","mousedown .bar-scrubber[data-seekbar]":"startSeekDrag","mousemove .bar-container[data-seekbar]":"mousemoveOnSeekBar","mouseleave .bar-container[data-seekbar]":"mouseleaveOnSeekBar","mouseenter .media-control-layer[data-controls]":"setUserKeepVisible","mouseleave .media-control-layer[data-controls]":"resetUserKeepVisible"}}},{key:"template",get:function(){return(0,C.default)(I.default)}},{key:"volume",get:function(){return this.container&&this.container.isReady?this.container.volume:this.intendedVolume}},{key:"muted",get:function(){return 0===this.volume}}]),e.prototype.addEventListeners=function(){this.container&&(T.default.on(this.options.playerId+":"+m.default.PLAYER_RESIZE,this.playerResize,this),this.listenTo(this.container,m.default.CONTAINER_PLAY,this.changeTogglePlay),this.listenTo(this.container,m.default.CONTAINER_PAUSE,this.changeTogglePlay),this.listenTo(this.container,m.default.CONTAINER_STOP,this.changeTogglePlay),this.listenTo(this.container,m.default.CONTAINER_DBLCLICK,this.toggleFullscreen),this.listenTo(this.container,m.default.CONTAINER_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.container,m.default.CONTAINER_PROGRESS,this.updateProgressBar),this.listenTo(this.container,m.default.CONTAINER_SETTINGSUPDATE,this.settingsUpdate),this.listenTo(this.container,m.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.settingsUpdate),this.listenTo(this.container,m.default.CONTAINER_HIGHDEFINITIONUPDATE,this.highDefinitionUpdate),this.listenTo(this.container,m.default.CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.container,m.default.CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.container,m.default.CONTAINER_ENDED,this.ended),this.listenTo(this.container,m.default.CONTAINER_VOLUME,this.onVolumeChanged),"video"===this.container.playback.el.nodeName.toLowerCase()&&this.listenToOnce(this.container,m.default.CONTAINER_LOADEDMETADATA,this.onLoadedMetadataOnVideoTag))},e.prototype.disable=function(){this.userDisabled=!0,this.hide(),this.$el.hide()},e.prototype.enable=function(){this.options.chromeless||(this.userDisabled=!1,this.show())},e.prototype.play=function(){this.container.play()},e.prototype.pause=function(){this.container.pause()},e.prototype.stop=function(){this.container.stop()},e.prototype.onVolumeChanged=function(){this.updateVolumeUI()},e.prototype.onLoadedMetadataOnVideoTag=function(){var t=this.container.playback.el;!y.Fullscreen.fullscreenEnabled()&&t.webkitSupportsFullscreen&&(this.fullScreenOnVideoTagSupported=!0,this.settingsUpdate())},e.prototype.updateVolumeUI=function(){if(this.rendered){this.$volumeBarContainer.find(".bar-fill-2").css({});var t=this.$volumeBarContainer.width(),e=this.$volumeBarBackground.width(),i=(t-e)/2,n=e*this.volume/100+i;this.$volumeBarFill.css({width:this.volume+"%"}),this.$volumeBarScrubber.css({left:n}),this.$volumeBarContainer.find(".segmented-bar-element").removeClass("fill");var r=Math.ceil(this.volume/10);this.$volumeBarContainer.find(".segmented-bar-element").slice(0,r).addClass("fill"),this.$volumeIcon.html(""),this.$volumeIcon.removeClass("muted"),this.muted?(this.$volumeIcon.append(V.default),this.$volumeIcon.addClass("muted")):this.$volumeIcon.append(j.default),this.applyButtonStyle(this.$volumeIcon)}},e.prototype.changeTogglePlay=function(){this.$playPauseToggle.html(""),this.$playStopToggle.html(""),this.container&&this.container.isPlaying()?(this.$playPauseToggle.append(N.default),this.$playStopToggle.append(F.default),this.trigger(m.default.MEDIACONTROL_PLAYING)):(this.$playPauseToggle.append(D.default),this.$playStopToggle.append(D.default),this.trigger(m.default.MEDIACONTROL_NOTPLAYING),A.default.isMobile&&this.show()),this.applyButtonStyle(this.$playPauseToggle),this.applyButtonStyle(this.$playStopToggle)},e.prototype.mousemoveOnSeekBar=function(t){if(this.settings.seekEnabled){var e=t.pageX-this.$seekBarContainer.offset().left-this.$seekBarHover.width()/2;this.$seekBarHover.css({left:e})}this.trigger(m.default.MEDIACONTROL_MOUSEMOVE_SEEKBAR,t)},e.prototype.mouseleaveOnSeekBar=function(t){this.trigger(m.default.MEDIACONTROL_MOUSELEAVE_SEEKBAR,t)},e.prototype.onVolumeClick=function(t){this.setVolume(this.getVolumeFromUIEvent(t))},e.prototype.mousemoveOnVolumeBar=function(t){this.draggingVolumeBar&&this.setVolume(this.getVolumeFromUIEvent(t))},e.prototype.playerResize=function(t){this.$fullscreenToggle.html(""),y.Fullscreen.isFullscreen()?this.$fullscreenToggle.append($.default):this.$fullscreenToggle.append(Y.default),this.applyButtonStyle(this.$fullscreenToggle),this.$el.removeClass("w320"),(t.width<=320||this.options.hideVolumeBar)&&this.$el.addClass("w320")},e.prototype.togglePlayPause=function(){return this.container.isPlaying()?this.container.pause():this.container.play(),!1},e.prototype.togglePlayStop=function(){this.container.isPlaying()?this.container.stop():this.container.play()},e.prototype.startSeekDrag=function(t){this.settings.seekEnabled&&(this.draggingSeekBar=!0,this.$el.addClass("dragging"),this.$seekBarLoaded.addClass("media-control-notransition"),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition"),t&&t.preventDefault())},e.prototype.startVolumeDrag=function(t){this.draggingVolumeBar=!0,this.$el.addClass("dragging"),t&&t.preventDefault()},e.prototype.stopDrag=function(t){this.draggingSeekBar&&this.seek(t),this.$el.removeClass("dragging"),this.$seekBarLoaded.removeClass("media-control-notransition"),this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition dragging"),this.draggingSeekBar=!1,this.draggingVolumeBar=!1},e.prototype.updateDrag=function(t){if(this.draggingSeekBar){t.preventDefault();var e=t.pageX-this.$seekBarContainer.offset().left,i=e/this.$seekBarContainer.width()*100;i=Math.min(100,Math.max(i,0)),this.setSeekPercentage(i)}else this.draggingVolumeBar&&(t.preventDefault(),this.setVolume(this.getVolumeFromUIEvent(t)))},e.prototype.getVolumeFromUIEvent=function(t){return(t.pageX-this.$volumeBarContainer.offset().left)/this.$volumeBarContainer.width()*100},e.prototype.toggleMute=function(){this.setVolume(this.muted?100:0)},e.prototype.setVolume=function(t){var e=this;t=Math.min(100,Math.max(t,0)),this.intendedVolume=t,this.persistConfig&&y.Config.persist("volume",t);var i=function(){e.container.isReady?e.container.setVolume(t):e.listenToOnce(e.container,m.default.CONTAINER_READY,function(){e.container.setVolume(t)})};this.container?i():this.listenToOnce(this,m.default.MEDIACONTROL_CONTAINERCHANGED,function(){i()})},e.prototype.toggleFullscreen=function(){this.trigger(m.default.MEDIACONTROL_FULLSCREEN,this.name),this.container.fullscreen(),this.resetUserKeepVisible()},e.prototype.setContainer=function(t){this.container&&(this.stopListening(this.container),this.fullScreenOnVideoTagSupported=null),T.default.off(this.options.playerId+":"+m.default.PLAYER_RESIZE,this.playerResize,this),this.container=t,this.setVolume(this.intendedVolume),this.changeTogglePlay(),this.addEventListeners(),this.settingsUpdate(),this.container.trigger(m.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.container.isDvrInUse()),this.container.mediaControlDisabled&&this.disable(),this.trigger(m.default.MEDIACONTROL_CONTAINERCHANGED)},e.prototype.showVolumeBar=function(){this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.$volumeBarContainer.removeClass("volume-bar-hide")},e.prototype.hideVolumeBar=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;this.$volumeBarContainer&&(this.draggingVolumeBar?this.hideVolumeId=setTimeout(function(){return t.hideVolumeBar()},e):(this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.hideVolumeId=setTimeout(function(){return t.$volumeBarContainer.addClass("volume-bar-hide")},e)))},e.prototype.ended=function(){this.changeTogglePlay()},e.prototype.updateProgressBar=function(t){var e=t.start/t.total*100,i=t.current/t.total*100;this.$seekBarLoaded.css({left:e+"%",width:i-e+"%"})},e.prototype.onTimeUpdate=function(t){if(!this.draggingSeekBar){var e=t.current<0?t.total:t.current;this.currentPositionValue=e,this.currentDurationValue=t.total,this.renderSeekBar()}},e.prototype.renderSeekBar=function(){if(null!==this.currentPositionValue&&null!==this.currentDurationValue){this.currentSeekBarPercentage=100,(this.container.getPlaybackType()!==L.default.LIVE||this.container.isDvrInUse())&&(this.currentSeekBarPercentage=this.currentPositionValue/this.currentDurationValue*100),this.setSeekPercentage(this.currentSeekBarPercentage);var t=(0,y.formatTime)(this.currentPositionValue),e=(0,y.formatTime)(this.currentDurationValue);t!==this.displayedPosition&&(this.$position.text(t),this.displayedPosition=t),e!==this.displayedDuration&&(this.$duration.text(e),this.displayedDuration=e)}},e.prototype.seek=function(t){if(this.settings.seekEnabled){var e=t.pageX-this.$seekBarContainer.offset().left,i=e/this.$seekBarContainer.width()*100;return i=Math.min(100,Math.max(i,0)),this.container.seekPercentage(i),this.setSeekPercentage(i),!1}},e.prototype.setKeepVisible=function(){this.keepVisible=!0},e.prototype.resetKeepVisible=function(){this.keepVisible=!1},e.prototype.setUserKeepVisible=function(){this.userKeepVisible=!0},e.prototype.resetUserKeepVisible=function(){this.userKeepVisible=!1},e.prototype.isVisible=function(){return!this.$el.hasClass("media-control-hide")},e.prototype.show=function(t){var e=this;if(!this.disabled){(!t||t.clientX!==this.lastMouseX&&t.clientY!==this.lastMouseY||navigator.userAgent.match(/firefox/i))&&(clearTimeout(this.hideId),this.$el.show(),this.trigger(m.default.MEDIACONTROL_SHOW,this.name),this.$el.removeClass("media-control-hide"),this.hideId=setTimeout(function(){return e.hide()},2e3),t&&(this.lastMouseX=t.clientX,this.lastMouseY=t.clientY))}},e.prototype.hide=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.isVisible()&&(!A.default.isMobile||this.container.isPlaying())){var i=e||2e3;clearTimeout(this.hideId),(this.disabled||!1!==this.options.hideMediaControl)&&(!this.disabled&&(e||this.userKeepVisible||this.keepVisible||this.draggingSeekBar||this.draggingVolumeBar)?this.hideId=setTimeout(function(){return t.hide()},i):(this.trigger(m.default.MEDIACONTROL_HIDE,this.name),this.$el.addClass("media-control-hide"),this.hideVolumeBar(0)))}},e.prototype.settingsUpdate=function(){var t=this.getSettings();!t||this.fullScreenOnVideoTagSupported||y.Fullscreen.fullscreenEnabled()||(t.default&&(0,y.removeArrayItem)(t.default,"fullscreen"),t.left&&(0,y.removeArrayItem)(t.left,"fullscreen"),t.right&&(0,y.removeArrayItem)(t.right,"fullscreen")),(0,o.default)(this.settings)!==(0,o.default)(t)&&(this.settings=t,this.render())},e.prototype.getSettings=function(){return O.default.extend(!0,{},this.container.settings)},e.prototype.highDefinitionUpdate=function(t){var e=t?"addClass":"removeClass";this.$hdIndicator[e]("enabled")},e.prototype.createCachedElements=function(){var t=this.$el.find(".media-control-layer");this.$duration=t.find(".media-control-indicator[data-duration]"),this.$fullscreenToggle=t.find("button.media-control-button[data-fullscreen]"),this.$playPauseToggle=t.find("button.media-control-button[data-playpause]"),this.$playStopToggle=t.find("button.media-control-button[data-playstop]"),this.$position=t.find(".media-control-indicator[data-position]"),this.$seekBarContainer=t.find(".bar-container[data-seekbar]"),this.$seekBarHover=t.find(".bar-hover[data-seekbar]"),this.$seekBarLoaded=t.find(".bar-fill-1[data-seekbar]"),this.$seekBarPosition=t.find(".bar-fill-2[data-seekbar]"),this.$seekBarScrubber=t.find(".bar-scrubber[data-seekbar]"),this.$volumeBarContainer=t.find(".bar-container[data-volume]"),this.$volumeContainer=t.find(".drawer-container[data-volume]"),this.$volumeIcon=t.find(".drawer-icon[data-volume]"),this.$volumeBarBackground=this.$el.find(".bar-background[data-volume]"),this.$volumeBarFill=this.$el.find(".bar-fill-1[data-volume]"),this.$volumeBarScrubber=this.$el.find(".bar-scrubber[data-volume]"),this.$hdIndicator=this.$el.find("button.media-control-button[data-hd-indicator]"),this.resetIndicators(),this.initializeIcons()},e.prototype.resetIndicators=function(){this.displayedPosition=this.$position.text(),this.displayedDuration=this.$duration.text()},e.prototype.initializeIcons=function(){var t=this.$el.find(".media-control-layer");t.find("button.media-control-button[data-play]").append(D.default),t.find("button.media-control-button[data-pause]").append(N.default),t.find("button.media-control-button[data-stop]").append(F.default),this.$playPauseToggle.append(D.default),this.$playStopToggle.append(D.default),this.$volumeIcon.append(j.default),this.$fullscreenToggle.append(Y.default),this.$hdIndicator.append(W.default)},e.prototype.setSeekPercentage=function(t){t=Math.max(Math.min(t,100),0),this.displayedSeekBarPercentage!==t&&(this.displayedSeekBarPercentage=t,this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition"),this.$seekBarPosition.css({width:t+"%"}),this.$seekBarScrubber.css({left:t+"%"}))},e.prototype.seekRelative=function(t){if(this.settings.seekEnabled){var e=this.container.getCurrentTime(),i=this.container.getDuration(),n=Math.min(Math.max(e+t,0),i);n=Math.min(100*n/i,100),this.container.seekPercentage(n)}},e.prototype.bindKeyAndShow=function(t,e){var i=this;this.kibo.down(t,function(){return i.show(),e()})},e.prototype.bindKeyEvents=function(){var t=this;this.unbindKeyEvents(),this.kibo=new g.Kibo(this.options.focusElement),this.bindKeyAndShow("space",function(){return t.togglePlayPause()}),this.bindKeyAndShow("left",function(){return t.seekRelative(-5)}),this.bindKeyAndShow("right",function(){return t.seekRelative(5)}),this.bindKeyAndShow("shift left",function(){return t.seekRelative(-10)}),this.bindKeyAndShow("shift right",function(){return t.seekRelative(10)}),this.bindKeyAndShow("shift ctrl left",function(){return t.seekRelative(-15)}),this.bindKeyAndShow("shift ctrl right",function(){return t.seekRelative(15)}),["1","2","3","4","5","6","7","8","9","0"].forEach(function(e){t.bindKeyAndShow(e,function(){return t.settings.seekEnabled&&t.container.seekPercentage(10*e)})})},e.prototype.unbindKeyEvents=function(){this.kibo&&(this.kibo.off("space"),this.kibo.off("left"),this.kibo.off("right"),this.kibo.off("shift left"),this.kibo.off("shift right"),this.kibo.off("shift ctrl left"),this.kibo.off("shift ctrl right"),this.kibo.off(["1","2","3","4","5","6","7","8","9","0"]))},e.prototype.parseColors=function(){if(this.options.mediacontrol){this.buttonsColor=this.options.mediacontrol.buttons;var t=this.options.mediacontrol.seekbar;this.$el.find(".bar-fill-2[data-seekbar]").css("background-color",t),this.$el.find(".media-control-icon svg path").css("fill",this.buttonsColor),this.$el.find(".segmented-bar-element[data-volume]").css("boxShadow","inset 2px 0 0 "+this.buttonsColor)}},e.prototype.applyButtonStyle=function(t){this.buttonsColor&&t&&(0,O.default)(t).find("svg path").css("fill",this.buttonsColor)},e.prototype.destroy=function(){this.remove(),(0,O.default)(document).unbind("mouseup",this.stopDragHandler),(0,O.default)(document).unbind("mousemove",this.updateDragHandler),this.unbindKeyEvents()},e.prototype.render=function(){var t=this;this.$el.html(this.template({settings:this.settings})),this.createCachedElements(),this.$playPauseToggle.addClass("paused"),this.$playStopToggle.addClass("stopped"),this.changeTogglePlay(),this.hideId=setTimeout(function(){return t.hide()},1e3),this.disabled&&this.hide(),A.default.isSafari&&A.default.isMobile&&(A.default.version<10?this.$volumeContainer.css("display","none"):this.$volumeBarContainer.css("display","none")),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition");var e=0;return this.displayedSeekBarPercentage&&(e=this.displayedSeekBarPercentage),this.displayedSeekBarPercentage=null,this.setSeekPercentage(e),n.nextTick(function(){t.settings.seekEnabled||t.$seekBarContainer.addClass("seek-disabled"),A.default.isMobile||t.options.disableKeyboardShortcuts||t.bindKeyEvents(),t.playerResize({width:t.options.width,height:t.options.height}),t.hideVolumeBar(0)}),this.parseColors(),this.highDefinitionUpdate(),this.rendered=!0,this.updateVolumeUI(),this.trigger(m.default.MEDIACONTROL_RENDERED),this},e}(_.default);e.default=q,q.extend=function(t){return(0,y.extend)(q,t)},t.exports=e.default}).call(e,i(22))},function(t,e,i){"use strict";t.exports={default:i(162),__esModule:!0}},function(t,e,i){"use strict";var n=i(15),r=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,i){var n=i(164);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".media-control-notransition{transition:none!important}.media-control[data-media-control]{position:absolute;width:100%;height:100%;z-index:9999;pointer-events:none}.media-control[data-media-control].dragging{pointer-events:auto;cursor:-webkit-grabbing!important;cursor:grabbing!important;cursor:url("+i(87)+"),move}.media-control[data-media-control].dragging *{cursor:-webkit-grabbing!important;cursor:grabbing!important;cursor:url("+i(87)+'),move}.media-control[data-media-control] .media-control-background[data-background]{position:absolute;height:40%;width:100%;bottom:0;background:linear-gradient(transparent,rgba(0,0,0,.9));transition:opacity .6s ease-out}.media-control[data-media-control] .media-control-icon{line-height:0;letter-spacing:0;speak:none;color:#fff;opacity:.5;vertical-align:middle;text-align:left;transition:all .1s ease}.media-control[data-media-control] .media-control-icon:hover{color:#fff;opacity:.75;text-shadow:hsla(0,0%,100%,.8) 0 0 5px}.media-control[data-media-control].media-control-hide .media-control-background[data-background]{opacity:0}.media-control[data-media-control].media-control-hide .media-control-layer[data-controls]{bottom:-50px}.media-control[data-media-control].media-control-hide .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{opacity:0}.media-control[data-media-control] .media-control-layer[data-controls]{position:absolute;bottom:7px;width:100%;height:32px;font-size:0;vertical-align:middle;pointer-events:auto;transition:bottom .4s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-left-panel[data-media-control]{position:absolute;top:0;left:4px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-center-panel[data-media-control]{height:100%;text-align:center;line-height:32px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-right-panel[data-media-control]{position:absolute;top:0;right:4px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button{background-color:transparent;border:0;margin:0 6px;padding:0;cursor:pointer;display:inline-block;width:32px;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg{width:100%;height:22px}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button svg path{fill:#fff}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button:focus{outline:none}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-pause],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-play],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-stop]{float:left;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-fullscreen]{float:right;background-color:transparent;border:0;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator]{background-color:transparent;border:0;cursor:default;display:none;float:right;height:100%}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled{display:block;opacity:1}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-hd-indicator].enabled:hover{opacity:1;text-shadow:none}.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playpause],.media-control[data-media-control] .media-control-layer[data-controls] button.media-control-button[data-playstop]{float:left}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration],.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position]{display:inline-block;font-size:10px;color:#fff;cursor:default;line-height:32px;position:relative}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-position]{margin:0 6px 0 7px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]{color:hsla(0,0%,100%,.5);margin-right:6px}.media-control[data-media-control] .media-control-layer[data-controls] .media-control-indicator[data-duration]:before{content:"|";margin-right:7px}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]{position:absolute;top:-20px;left:0;display:inline-block;vertical-align:middle;width:100%;height:25px;cursor:pointer}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar]{width:100%;height:1px;position:relative;top:12px;background-color:#666}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#c2c2c2;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#005aff;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:0;position:absolute;top:-3px;width:5px;height:7px;background-color:hsla(0,0%,100%,.5);transition:opacity .1s ease}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:1}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled{cursor:default}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar].seek-disabled:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{opacity:0}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:2px;left:0;width:20px;height:20px;opacity:1;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{position:absolute;left:6px;top:6px;width:8px;height:8px;border-radius:10px;box-shadow:0 0 0 6px hsla(0,0%,100%,.2);background-color:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume]{float:right;display:inline-block;height:32px;cursor:pointer;margin:0 6px;box-sizing:border-box}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume]{float:left;bottom:0}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]{background-color:transparent;border:0;box-sizing:content-box;width:32px;height:32px;opacity:.5}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume]:hover{opacity:.75}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg{height:24px;position:relative;top:3px}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume] svg path{fill:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .drawer-icon-container[data-volume] .drawer-icon[data-volume].muted svg{margin-left:2px}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume]{float:left;position:relative;overflow:hidden;top:6px;width:42px;height:18px;padding:3px 0;transition:width .2s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume]{height:1px;position:relative;top:7px;margin:0 3px;background-color:#666}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#c2c2c2;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-volume]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#005aff;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume]{opacity:0;position:absolute;top:-3px;width:5px;height:7px;background-color:hsla(0,0%,100%,.5);transition:opacity .1s ease}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume]{position:absolute;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:0;left:0;width:20px;height:20px;opacity:1;transition:all .1s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume]{position:absolute;left:6px;top:6px;width:8px;height:8px;border-radius:10px;box-shadow:0 0 0 6px hsla(0,0%,100%,.2);background-color:#fff}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]{float:left;width:4px;padding-left:2px;height:12px;opacity:.5;box-shadow:inset 2px 0 0 #fff;transition:-webkit-transform .2s ease-out;transition:transform .2s ease-out;transition:transform .2s ease-out,-webkit-transform .2s ease-out}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume].fill{box-shadow:inset 2px 0 0 #fff;opacity:1}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:first-of-type{padding-left:0}.media-control[data-media-control] .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume] .segmented-bar-element[data-volume]:hover{-webkit-transform:scaleY(1.5);transform:scaleY(1.5)}.media-control[data-media-control].w320 .media-control-layer[data-controls] .drawer-container[data-volume] .bar-container[data-volume].volume-bar-hide{width:0;height:12px;top:9px;padding:0}',""])},function(t,e){t.exports='<div class="media-control-background" data-background></div>\n<div class="media-control-layer" data-controls>\n  <%  var renderBar = function(name) { %>\n      <div class="bar-container" data-<%= name %>>\n        <div class="bar-background" data-<%= name %>>\n          <div class="bar-fill-1" data-<%= name %>></div>\n          <div class="bar-fill-2" data-<%= name %>></div>\n          <div class="bar-hover" data-<%= name %>></div>\n        </div>\n        <div class="bar-scrubber" data-<%= name %>>\n          <div class="bar-scrubber-icon" data-<%= name %>></div>\n        </div>\n      </div>\n  <%  }; %>\n  <%  var renderSegmentedBar = function(name, segments) {\n      segments = segments || 10; %>\n    <div class="bar-container" data-<%= name %>>\n    <% for (var i = 0; i < segments; i++) { %>\n      <div class="segmented-bar-element" data-<%= name %>></div>\n    <% } %>\n    </div>\n  <% }; %>\n  <% var renderDrawer = function(name, renderContent) { %>\n      <div class="drawer-container" data-<%= name %>>\n        <div class="drawer-icon-container" data-<%= name %>>\n          <div class="drawer-icon media-control-icon" data-<%= name %>></div>\n          <span class="drawer-text" data-<%= name %>></span>\n        </div>\n        <% renderContent(name); %>\n      </div>\n  <% }; %>\n  <% var renderIndicator = function(name) { %>\n      <div class="media-control-indicator" data-<%= name %>></div>\n  <% }; %>\n  <% var renderButton = function(name) { %>\n    <button type="button" class="media-control-button media-control-icon" data-<%= name %> aria-label="<%= name %>"></button>\n  <% }; %>\n  <%  var templates = {\n        bar: renderBar,\n        segmentedBar: renderSegmentedBar,\n      };\n      var render = function(settingsList) {\n        settingsList.forEach(function(setting) {\n          if(setting === "seekbar") {\n            renderBar(setting);\n          } else if (setting === "volume") {\n            renderDrawer(setting, settings.volumeBarTemplate ? templates[settings.volumeBarTemplate] : function(name) { return renderSegmentedBar(name); });\n          } else if (setting === "duration" || setting === "position") {\n            renderIndicator(setting);\n          } else {\n            renderButton(setting);\n          }\n        });\n      }; %>\n  <% if (settings.default && settings.default.length) { %>\n  <div class="media-control-center-panel" data-media-control>\n    <% render(settings.default); %>\n  </div>\n  <% } %>\n  <% if (settings.left && settings.left.length) { %>\n  <div class="media-control-left-panel" data-media-control>\n    <% render(settings.left); %>\n  </div>\n  <% } %>\n  <% if (settings.right && settings.right.length) { %>\n  <div class="media-control-right-panel" data-media-control>\n    <% render(settings.right); %>\n  </div>\n  <% } %>\n</div>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M1.712 1.24h12.6v13.52h-12.6z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M11.5 11h-.002v1.502L7.798 10H4.5V6h3.297l3.7-2.502V4.5h.003V11zM11 4.49L7.953 6.5H5v3h2.953L11 11.51V4.49z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" fill="#010101" d="M9.75 11.51L6.7 9.5H3.75v-3H6.7L9.75 4.49v.664l.497.498V3.498L6.547 6H3.248v4h3.296l3.7 2.502v-2.154l-.497.5v.662zm3-5.165L12.404 6l-1.655 1.653L9.093 6l-.346.345L10.402 8 8.747 9.654l.346.347 1.655-1.653L12.403 10l.348-.346L11.097 8l1.655-1.655z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M7.156 8L4 11.156V8.5H3V13h4.5v-1H4.844L8 8.844 7.156 8zM8.5 3v1h2.657L8 7.157 8.846 8 12 4.844V7.5h1V3H8.5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M13.5 3.344l-.844-.844L9.5 5.656V3h-1v4.5H13v-1h-2.656L13.5 3.344zM3 9.5h2.656L2.5 12.656l.844.844L6.5 10.344V13h1V8.5H3v1z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill="#010101" d="M5.375 7.062H2.637V4.26H.502v7.488h2.135V8.9h2.738v2.848h2.133V4.26H5.375v2.802zm5.97-2.81h-2.84v7.496h2.798c2.65 0 4.195-1.607 4.195-3.77v-.022c0-2.162-1.523-3.704-4.154-3.704zm2.06 3.758c0 1.21-.81 1.896-2.03 1.896h-.83V6.093h.83c1.22 0 2.03.696 2.03 1.896v.02z"></path></svg>'},function(t,e,i){var n=i(173);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'@font-face{font-family:Roboto;font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url('+i(174)+') format("truetype")}[data-player]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transform:translateZ(0);transform:translateZ(0);position:relative;margin:0;padding:0;border:0;font-style:normal;font-weight:400;text-align:center;overflow:hidden;font-size:100%;font-family:Roboto,Open Sans,Arial,sans-serif;text-shadow:0 0 0;box-sizing:border-box}[data-player] a,[data-player] abbr,[data-player] acronym,[data-player] address,[data-player] applet,[data-player] article,[data-player] aside,[data-player] audio,[data-player] b,[data-player] big,[data-player] blockquote,[data-player] canvas,[data-player] caption,[data-player] center,[data-player] cite,[data-player] code,[data-player] dd,[data-player] del,[data-player] details,[data-player] dfn,[data-player] div,[data-player] dl,[data-player] dt,[data-player] em,[data-player] embed,[data-player] fieldset,[data-player] figcaption,[data-player] figure,[data-player] footer,[data-player] form,[data-player] h1,[data-player] h2,[data-player] h3,[data-player] h4,[data-player] h5,[data-player] h6,[data-player] header,[data-player] hgroup,[data-player] i,[data-player] iframe,[data-player] img,[data-player] ins,[data-player] kbd,[data-player] label,[data-player] legend,[data-player] li,[data-player] mark,[data-player] menu,[data-player] nav,[data-player] object,[data-player] ol,[data-player] output,[data-player] p,[data-player] pre,[data-player] q,[data-player] ruby,[data-player] s,[data-player] samp,[data-player] section,[data-player] small,[data-player] span,[data-player] strike,[data-player] strong,[data-player] sub,[data-player] summary,[data-player] sup,[data-player] table,[data-player] tbody,[data-player] td,[data-player] tfoot,[data-player] th,[data-player] thead,[data-player] time,[data-player] tr,[data-player] tt,[data-player] u,[data-player] ul,[data-player] var,[data-player] video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}[data-player] table{border-collapse:collapse;border-spacing:0}[data-player] caption,[data-player] td,[data-player] th{text-align:left;font-weight:400;vertical-align:middle}[data-player] blockquote,[data-player] q{quotes:none}[data-player] blockquote:after,[data-player] blockquote:before,[data-player] q:after,[data-player] q:before{content:"";content:none}[data-player] a img{border:none}[data-player]:focus{outline:0}[data-player] *{max-width:none;box-sizing:inherit;float:none}[data-player] div{display:block}[data-player].fullscreen{width:100%!important;height:100%!important;top:0;left:0}[data-player].nocursor{cursor:none}.clappr-style{display:none!important}',""])},function(t,e,i){t.exports=i.p+"38861cba61c66739c1452c3a71e39852.ttf"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(83),a=n(r),o=i(1),s=n(o),l=i(3),u=n(l),c=i(4),d=n(c),h=i(21),p=n(h),f=i(41),y=n(f),g=i(42),v=n(g),m=i(92),b=n(m),_=i(93),E=n(_),A=i(94),k=n(A),T=i(95),w=n(T),C=i(97),S=n(C),L=i(98),P=n(L),O=i(206),R=n(O),I=i(211),x=n(I),D=i(213),M=n(D),N=i(99),B=n(N),F=i(222),U=n(F),j=i(224),G=n(j),V=i(226),H=n(V),Y=i(231),K=n(Y),$=i(237),z=n($),W=i(239),q=n(W),X=i(244),Z=n(X),Q=i(245),J=n(Q),tt=i(246),et=n(tt),it=function(t){function e(i,n){(0,s.default)(this,e);var r=(0,u.default)(this,t.call(this));return r.playerId=n,r.playbackPlugins=[w.default,v.default,E.default,b.default,k.default,S.default,P.default],r.containerPlugins=[R.default,M.default,B.default,x.default,U.default,G.default],r.corePlugins=[H.default,K.default,z.default,q.default,Z.default,J.default,et.default],i&&(Array.isArray(i)||r.validateExternalPluginsType(i),r.addExternalPlugins(i)),r}return(0,d.default)(e,t),e.prototype.groupPluginsByType=function(t){return Array.isArray(t)&&(t=t.reduce(function(t,e){return t[e.type]||(t[e.type]=[]),t[e.type].push(e),t},{})),t},e.prototype.removeDups=function(t){var e=function(t,e){return t[e.prototype.name]&&delete t[e.prototype.name],t[e.prototype.name]=e,t},i=t.reduceRight(e,(0,a.default)(null)),n=[];for(var r in i)n.unshift(i[r]);return n},e.prototype.addExternalPlugins=function(t){t=this.groupPluginsByType(t),t.playback&&(this.playbackPlugins=this.removeDups(t.playback.concat(this.playbackPlugins))),t.container&&(this.containerPlugins=this.removeDups(t.container.concat(this.containerPlugins))),t.core&&(this.corePlugins=this.removeDups(t.core.concat(this.corePlugins))),y.default.getInstance(this.playerId).playbackPlugins=this.playbackPlugins},e.prototype.validateExternalPluginsType=function(t){["playback","container","core"].forEach(function(e){(t[e]||[]).forEach(function(t){var i="external "+t.type+" plugin on "+e+" array";if(t.type!==e)throw new ReferenceError(i)})})},e}(p.default);e.default=it,t.exports=e.default},function(t,e,i){"use strict";(function(n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(90),o=r(a),s=i(1),l=r(s),u=i(3),c=r(u),d=i(6),h=r(d),p=i(4),f=r(p),y=i(91),g=r(y),v=i(36),m=r(v),b=i(11),_=i(13),E=r(_),A=i(18),k=r(A),T=i(8),w=r(T),C=i(7),S=r(C),L=i(12),P=r(L),O=i(185),R=r(O);i(186);var I={mp4:["avc1.42E01E","avc1.58A01E","avc1.4D401E","avc1.64001E","mp4v.20.8","mp4v.20.240","mp4a.40.2"].map(function(t){return'video/mp4; codecs="'+t+', mp4a.40.2"'}),ogg:['video/ogg; codecs="theora, vorbis"','video/ogg; codecs="dirac"','video/ogg; codecs="theora, speex"'],"3gpp":['video/3gpp; codecs="mp4v.20.8, samr"'],webm:['video/webm; codecs="vp8, vorbis"'],mkv:['video/x-matroska; codecs="theora, vorbis"'],m3u8:["application/x-mpegurl"]};I.ogv=I.ogg,I["3gp"]=I["3gpp"];var x={wav:["audio/wav"],mp3:["audio/mp3",'audio/mpeg;codecs="mp3"'],aac:['audio/mp4;codecs="mp4a.40.5"'],oga:["audio/ogg"]},D=(0,m.default)(x).reduce(function(t,e){return[].concat((0,g.default)(t),(0,g.default)(x[e]))},[]),M=function(t){function e(){(0,l.default)(this,e);for(var i=arguments.length,r=Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=(0,c.default)(this,t.call.apply(t,[this].concat(r)));o._destroyed=!1,o._loadStarted=!1,o._isBuffering=!1,o._playheadMoving=!1,o._playheadMovingTimer=null,o._stopped=!1,o._ccTrackId=-1,o._setupSrc(o.options.src),o.options.playback||(o.options.playback=o.options||{}),o.options.playback.disableContextMenu=o.options.playback.disableContextMenu||o.options.disableVideoTagContextMenu;var s=o.options.playback,u=s.preload||(k.default.isSafari?"auto":o.options.preload),d=void 0;return o.options.poster&&("string"==typeof o.options.poster?d=o.options.poster:"string"==typeof o.options.poster.url&&(d=o.options.poster.url)),S.default.extend(o.el,{loop:o.options.loop,poster:d,preload:u||"metadata",controls:(s.controls||o.options.useVideoTagDefaultControls)&&"controls",crossOrigin:s.crossOrigin,"x-webkit-playsinline":s.playInline}),s.playInline&&o.$el.attr({playsinline:"playsinline"}),s.crossOrigin&&o.$el.attr({crossorigin:s.crossOrigin}),o.settings={default:["seekbar"]},o.settings.left=["playpause","position","duration"],o.settings.right=["fullscreen","volume","hd-indicator"],s.externalTracks&&o._setupExternalTracks(s.externalTracks),o.options.autoPlay&&n.nextTick(function(){return!o._destroyed&&o.play()}),o}return(0,f.default)(e,t),(0,h.default)(e,[{key:"name",get:function(){return"html5_video"}},{key:"tagName",get:function(){return this.isAudioOnly?"audio":"video"}},{key:"isAudioOnly",get:function(){var t=this.options.src,i=e._mimeTypesForUrl(t,x,this.options.mimeType);return this.options.playback&&this.options.playback.audioOnly||this.options.audioOnly||D.indexOf(i[0])>=0}},{key:"attributes",get:function(){return{"data-html5-video":""}}},{key:"events",get:function(){return{canplay:"_onCanPlay",canplaythrough:"_handleBufferingEvents",durationchange:"_onDurationChange",ended:"_onEnded",error:"_onError",loadeddata:"_onLoadedData",loadedmetadata:"_onLoadedMetadata",pause:"_onPause",playing:"_onPlaying",progress:"_onProgress",seeking:"_handleBufferingEvents",seeked:"_onSeeked",stalled:"_handleBufferingEvents",timeupdate:"_onTimeUpdate",waiting:"_onWaiting"}}},{key:"ended",get:function(){return this.el.ended}},{key:"buffering",get:function(){return this._isBuffering}}]),e.prototype._setupExternalTracks=function(t){this._externalTracks=t.map(function(t){return{kind:t.kind||"subtitles",label:t.label,lang:t.lang,src:t.src}})},e.prototype._setupSrc=function(t){this.el.src!==t&&(this._ccIsSetup=!1,this.el.src=t,this._src=this.el.src)},e.prototype._onLoadedMetadata=function(t){this._handleBufferingEvents(),this.trigger(w.default.PLAYBACK_LOADEDMETADATA,{duration:t.target.duration,data:t}),this._updateSettings();var e=void 0===this._options.autoSeekFromUrl||this._options.autoSeekFromUrl;this.getPlaybackType()!==E.default.LIVE&&e&&this._checkInitialSeek()},e.prototype._onDurationChange=function(){this._updateSettings(),this._onTimeUpdate(),this._onProgress()},e.prototype._updateSettings=function(){this.getPlaybackType()===E.default.VOD||this.getPlaybackType()===E.default.AOD?this.settings.left=["playpause","position","duration"]:this.settings.left=["playstop"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(w.default.PLAYBACK_SETTINGSUPDATE)},e.prototype.isSeekEnabled=function(){return isFinite(this.getDuration())},e.prototype.getPlaybackType=function(){var t="audio"===this.tagName?E.default.AOD:E.default.VOD;return[0,void 0,1/0].indexOf(this.el.duration)>=0?E.default.LIVE:t},e.prototype.isHighDefinitionInUse=function(){return!1},e.prototype.consent=function(){!this.isPlaying()&&this.el.load()},e.prototype.play=function(){this.trigger(w.default.PLAYBACK_PLAY_INTENT),this._stopped=!1,this._setupSrc(this._src),this._handleBufferingEvents();var t=this.el.play();t&&t.catch&&t.catch(function(){})},e.prototype.pause=function(){this.el.pause()},e.prototype.stop=function(){this.pause(),this._stopped=!0,this.el.removeAttribute("src"),this._stopPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(w.default.PLAYBACK_STOP)},e.prototype.volume=function(t){0===t?(this.$el.attr({muted:"true"}),this.el.muted=!0):(this.$el.attr({muted:null}),this.el.muted=!1),this.el.volume=t/100},e.prototype.mute=function(){this.el.volume=0},e.prototype.unmute=function(){this.el.volume=1},e.prototype.isMuted=function(){return!!this.el.volume},e.prototype.isPlaying=function(){return!this.el.paused&&!this.el.ended},e.prototype._startPlayheadMovingChecks=function(){null===this._playheadMovingTimer&&(this._playheadMovingTimeOnCheck=null,this._determineIfPlayheadMoving(),this._playheadMovingTimer=setInterval(this._determineIfPlayheadMoving.bind(this),500))},e.prototype._stopPlayheadMovingChecks=function(){null!==this._playheadMovingTimer&&(clearInterval(this._playheadMovingTimer),this._playheadMovingTimer=null,this._playheadMoving=!1)},e.prototype._determineIfPlayheadMoving=function(){var t=this._playheadMovingTimeOnCheck,e=this.el.currentTime;this._playheadMoving=t!==e,this._playheadMovingTimeOnCheck=e,this._handleBufferingEvents()},e.prototype._onWaiting=function(){this._loadStarted=!0,this._handleBufferingEvents()},e.prototype._onLoadedData=function(){this._loadStarted=!0,this._handleBufferingEvents()},e.prototype._onCanPlay=function(){this._handleBufferingEvents()},e.prototype._onPlaying=function(){this._checkForClosedCaptions(),this._startPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(w.default.PLAYBACK_PLAY)},e.prototype._onPause=function(){this._stopPlayheadMovingChecks(),this._handleBufferingEvents(),this.trigger(w.default.PLAYBACK_PAUSE)},e.prototype._onSeeked=function(){this._handleBufferingEvents(),this.trigger(w.default.PLAYBACK_SEEKED)},e.prototype._onEnded=function(){this._handleBufferingEvents(),this.trigger(w.default.PLAYBACK_ENDED,this.name)},e.prototype._handleBufferingEvents=function(){var t=!this.el.ended&&!this.el.paused,e=this._loadStarted&&!this.el.ended&&!this._stopped&&(t&&!this._playheadMoving||this.el.readyState<this.el.HAVE_FUTURE_DATA);this._isBuffering!==e&&(this._isBuffering=e,e?this.trigger(w.default.PLAYBACK_BUFFERING,this.name):this.trigger(w.default.PLAYBACK_BUFFERFULL,this.name))},e.prototype._onError=function(){this.trigger(w.default.PLAYBACK_ERROR,this.el.error,this.name)},e.prototype.destroy=function(){this._destroyed=!0,this.handleTextTrackChange&&this.el.textTracks.removeEventListener("change",this.handleTextTrackChange),this.$el.remove(),this.el.src="",this._src=null,b.DomRecycler.garbage(this.$el)},e.prototype.seek=function(t){this.el.currentTime=t},e.prototype.seekPercentage=function(t){var e=this.el.duration*(t/100);this.seek(e)},e.prototype._checkInitialSeek=function(){var t=(0,b.seekStringToSeconds)();0!==t&&this.seek(t)},e.prototype.getCurrentTime=function(){return this.el.currentTime},e.prototype.getDuration=function(){return this.el.duration},e.prototype._onTimeUpdate=function(){this.getPlaybackType()===E.default.LIVE?this.trigger(w.default.PLAYBACK_TIMEUPDATE,{current:1,total:1},this.name):this.trigger(w.default.PLAYBACK_TIMEUPDATE,{current:this.el.currentTime,total:this.el.duration},this.name)},e.prototype._onProgress=function(){if(this.el.buffered.length){for(var t=[],e=0,i=0;i<this.el.buffered.length;i++)t=[].concat((0,g.default)(t),[{start:this.el.buffered.start(i),end:this.el.buffered.end(i)}]),this.el.currentTime>=t[i].start&&this.el.currentTime<=t[i].end&&(e=i);var n={start:t[e].start,current:t[e].end,total:this.el.duration};this.trigger(w.default.PLAYBACK_PROGRESS,n,t)}},e.prototype._typeFor=function(t){var i=e._mimeTypesForUrl(t,I,this.options.mimeType);return 0==i.length&&(i=e._mimeTypesForUrl(t,x,this.options.mimeType)),(i[0]||"").split(";")[0]},e.prototype._ready=function(){this._isReadyState||(this._isReadyState=!0,this.trigger(w.default.PLAYBACK_READY,this.name))},e.prototype._checkForClosedCaptions=function(){if(this.isHTML5Video&&!this._ccIsSetup){if(this.hasClosedCaptionsTracks){this.trigger(w.default.PLAYBACK_SUBTITLE_AVAILABLE);var t=this.closedCaptionsTrackId;this.closedCaptionsTrackId=t,this.handleTextTrackChange=this._handleTextTrackChange.bind(this),this.el.textTracks.addEventListener("change",this.handleTextTrackChange)}this._ccIsSetup=!0}},e.prototype._handleTextTrackChange=function(){var t=this.closedCaptionsTracks,e=t.find(function(t){return"showing"===t.track.mode})||{id:-1};this._ccTrackId!==e.id&&(this._ccTrackId=e.id,this.trigger(w.default.PLAYBACK_SUBTITLE_CHANGED,{id:e.id}))},e.prototype.render=function(){return this.options.playback.disableContextMenu&&this.$el.on("contextmenu",function(){return!1}),this._externalTracks&&this._externalTracks.length>0&&this.$el.html(this.template({tracks:this._externalTracks})),this._ready(),this},(0,h.default)(e,[{key:"isReady",get:function(){return this._isReadyState}},{key:"isHTML5Video",get:function(){return this.name===e.prototype.name}},{key:"closedCaptionsTracks",get:function(){var t=0,e=function(){return t++};return(this.el.textTracks?(0,o.default)(this.el.textTracks):[]).filter(function(t){return"subtitles"===t.kind||"captions"===t.kind}).map(function(t){return{id:e(),name:t.label,track:t}})}},{key:"closedCaptionsTrackId",get:function(){return this._ccTrackId},set:function(t){if((0,b.isNumber)(t)){var e=this.closedCaptionsTracks,i=void 0;if(-1!==t){if(!(i=e.find(function(e){return e.id===t})))return;if("showing"===i.track.mode)return}e.filter(function(t){return"hidden"!==t.track.mode}).forEach(function(t){return t.track.mode="hidden"}),i&&(i.track.mode="showing"),this._ccTrackId=t,this.trigger(w.default.PLAYBACK_SUBTITLE_CHANGED,{id:t})}}},{key:"template",get:function(){return(0,P.default)(R.default)}}]),e}(E.default);e.default=M,M._mimeTypesForUrl=function(t,e,i){var n=(t.split("?")[0].match(/.*\.(.*)$/)||[])[1],r=i||n&&e[n.toLowerCase()]||[];return r.constructor===Array?r:[r]},M._canPlay=function(t,e,i,n){var r=M._mimeTypesForUrl(i,e,n),a=document.createElement(t);return!!r.filter(function(t){return!!a.canPlayType(t).replace(/no/,"")})[0]},M.canPlay=function(t,e){return M._canPlay("audio",x,t,e)||M._canPlay("video",I,t,e)},t.exports=e.default}).call(e,i(22))},function(t,e,i){"use strict";i(77),i(178),t.exports=i(15).Array.from},function(t,e,i){"use strict";var n=i(54),r=i(25),a=i(47),o=i(179),s=i(180),l=i(73),u=i(181),c=i(182);r(r.S+r.F*!i(184)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,d,h=a(t),p="function"==typeof this?this:Array,f=arguments.length,y=f>1?arguments[1]:void 0,g=void 0!==y,v=0,m=c(h);if(g&&(y=n(y,f>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(e=l(h.length),i=new p(e);e>v;v++)u(i,v,g?y(h[v],v):h[v]);else for(d=m.call(h),i=new p;!(r=d.next()).done;v++)u(i,v,g?o(d,y,[r.value,v],!0):r.value);return i.length=v,i}})},function(t,e,i){"use strict";var n=i(29);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},function(t,e,i){"use strict";var n=i(34),r=i(17)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[r]===t)}},function(t,e,i){"use strict";var n=i(20),r=i(33);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){"use strict";var n=i(183),r=i(17)("iterator"),a=i(34);t.exports=i(15).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||a[n(t)]}},function(t,e,i){"use strict";var n=i(49),r=i(17)("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=o(e=Object(t),r))?i:a?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){"use strict";var n=i(17)("iterator"),r=!1;try{var a=[7][n]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var a=[7],o=a[n]();o.next=function(){return{done:i=!0}},a[n]=function(){return o},t(a)}catch(t){}return i}},function(t,e){t.exports='<% for (var i = 0; i < tracks.length; i++) { %>\n  <track data-html5-video-track="<%= i %>" kind="<%= tracks[i].kind %>" label="<%= tracks[i].label %>" srclang="<%= tracks[i].lang %>" src="<%= tracks[i].src %>" />\n<% }; %>\n'},function(t,e,i){var n=i(187);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,"[data-html5-video]{position:absolute;height:100%;width:100%;display:block}",""])},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(11),p=i(65),f=n(p),y=i(18),g=n(y),v=i(30),m=n(v),b=i(12),_=n(b),E=i(7),A=n(E),k=i(8),T=n(k),w=i(13),C=n(w),S=i(193),L=n(S),P=function(t){function e(){(0,a.default)(this,e);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=(0,s.default)(this,t.call.apply(t,[this].concat(n)));return o._src=o.options.src,o._baseUrl=o.options.baseUrl,o._autoPlay=o.options.autoPlay,o.settings={default:["seekbar"]},o.settings.left=["playpause","position","duration"],o.settings.right=["fullscreen","volume"],o.settings.seekEnabled=!0,o._isReadyState=!1,o._addListeners(),o}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"flash"}},{key:"swfPath",get:function(){return(0,_.default)(L.default)({baseUrl:this._baseUrl})}},{key:"ended",get:function(){return"ENDED"===this._currentState}},{key:"buffering",get:function(){return!!this._bufferingState&&"ENDED"!==this._currentState}}]),e.prototype._bootstrap=function(){var t=this;this.el.playerPlay?(this.el.width="100%",this.el.height="100%","PLAYING"===this._currentState?this._firstPlay():(this._currentState="IDLE",this._autoPlay&&this.play()),(0,A.default)('<div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" />').insertAfter(this.$el),this.getDuration()>0?this._metadataLoaded():m.default.once(this.uniqueId+":timeupdate",this._metadataLoaded,this)):(this._attempts=this._attempts||0,++this._attempts<=60?setTimeout(function(){return t._bootstrap()},50):this.trigger(T.default.PLAYBACK_ERROR,{message:"Max number of attempts reached"},this.name))},e.prototype._metadataLoaded=function(){this._isReadyState=!0,this.trigger(T.default.PLAYBACK_READY,this.name),this.trigger(T.default.PLAYBACK_SETTINGSUPDATE,this.name)},e.prototype.getPlaybackType=function(){return C.default.VOD},e.prototype.isHighDefinitionInUse=function(){return!1},e.prototype._updateTime=function(){this.trigger(T.default.PLAYBACK_TIMEUPDATE,{current:this.el.getPosition(),total:this.el.getDuration()},this.name)},e.prototype._addListeners=function(){m.default.on(this.uniqueId+":progress",this._progress,this),m.default.on(this.uniqueId+":timeupdate",this._updateTime,this),m.default.on(this.uniqueId+":statechanged",this._checkState,this),m.default.on(this.uniqueId+":flashready",this._bootstrap,this)},e.prototype.stopListening=function(){t.prototype.stopListening.call(this),m.default.off(this.uniqueId+":progress"),m.default.off(this.uniqueId+":timeupdate"),m.default.off(this.uniqueId+":statechanged"),m.default.off(this.uniqueId+":flashready")},e.prototype._checkState=function(){this._isIdle||"PAUSED"===this._currentState||("PLAYING_BUFFERING"!==this._currentState&&"PLAYING_BUFFERING"===this.el.getState()?(this._bufferingState=!0,this.trigger(T.default.PLAYBACK_BUFFERING,this.name),this._currentState="PLAYING_BUFFERING"):"PLAYING"===this.el.getState()?(this._bufferingState=!1,this.trigger(T.default.PLAYBACK_BUFFERFULL,this.name),this._currentState="PLAYING"):"IDLE"===this.el.getState()?this._currentState="IDLE":"ENDED"===this.el.getState()&&(this.trigger(T.default.PLAYBACK_ENDED,this.name),this.trigger(T.default.PLAYBACK_TIMEUPDATE,{current:0,total:this.el.getDuration()},this.name),this._currentState="ENDED",this._isIdle=!0))},e.prototype._progress=function(){"IDLE"!==this._currentState&&"ENDED"!==this._currentState&&this.trigger(T.default.PLAYBACK_PROGRESS,{start:0,current:this.el.getBytesLoaded(),total:this.el.getBytesTotal()})},e.prototype._firstPlay=function(){var t=this;this.el.playerPlay?(this._isIdle=!1,this.el.playerPlay(this._src),this.listenToOnce(this,T.default.PLAYBACK_BUFFERFULL,function(){return t._checkInitialSeek()}),this._currentState="PLAYING"):this.listenToOnce(this,T.default.PLAYBACK_READY,this._firstPlay)},e.prototype._checkInitialSeek=function(){var t=(0,h.seekStringToSeconds)(window.location.href);0!==t&&this.seekSeconds(t)},e.prototype.play=function(){this.trigger(T.default.PLAYBACK_PLAY_INTENT),"PAUSED"===this._currentState||"PLAYING_BUFFERING"===this._currentState?(this._currentState="PLAYING",this.el.playerResume(),this.trigger(T.default.PLAYBACK_PLAY,this.name)):"PLAYING"!==this._currentState&&(this._firstPlay(),this.trigger(T.default.PLAYBACK_PLAY,this.name))},e.prototype.volume=function(t){var e=this;this.isReady?this.el.playerVolume(t):this.listenToOnce(this,T.default.PLAYBACK_BUFFERFULL,function(){return e.volume(t)})},e.prototype.pause=function(){this._currentState="PAUSED",this.el.playerPause(),this.trigger(T.default.PLAYBACK_PAUSE,this.name)},e.prototype.stop=function(){this.el.playerStop(),this.trigger(T.default.PLAYBACK_STOP),this.trigger(T.default.PLAYBACK_TIMEUPDATE,{current:0,total:0},this.name)},e.prototype.isPlaying=function(){return!!(this.isReady&&this._currentState.indexOf("PLAYING")>-1)},e.prototype.getDuration=function(){return this.el.getDuration()},e.prototype.seekPercentage=function(t){var e=this;if(this.el.getDuration()>0){var i=this.el.getDuration()*(t/100);this.seek(i)}else this.listenToOnce(this,T.default.PLAYBACK_BUFFERFULL,function(){return e.seekPercentage(t)})},e.prototype.seek=function(t){var e=this;this.isReady&&this.el.playerSeek?(this.el.playerSeek(t),this.trigger(T.default.PLAYBACK_TIMEUPDATE,{current:t,total:this.el.getDuration()},this.name),"PAUSED"===this._currentState&&this.el.playerPause()):this.listenToOnce(this,T.default.PLAYBACK_BUFFERFULL,function(){return e.seek(t)})},e.prototype.destroy=function(){clearInterval(this.bootstrapId),t.prototype.stopListening.call(this),this.$el.remove()},(0,u.default)(e,[{key:"isReady",get:function(){return this._isReadyState}}]),e}(f.default);e.default=P,P.canPlay=function(t){if(g.default.hasFlash&&t&&t.constructor===String){var e=t.split("?")[0].match(/.*\.(.*)$/)||[];return e.length>1&&!g.default.isMobile&&e[1].toLowerCase().match(/^(mp4|mov|f4v|3gpp|3gp)$/)}return!1},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(6),s=n(o),l=i(3),u=n(l),c=i(4),d=n(c),h=i(13),p=n(h),f=i(12),y=n(f),g=i(18),v=n(g),m=i(190),b=n(m);i(191);var _=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.setElement=function(t){this.$el=t,this.el=t[0]},e.prototype.render=function(){return this.$el.attr("data",this.swfPath),this.$el.html(this.template({cid:this.cid,swfPath:this.swfPath,baseUrl:this.baseUrl,playbackId:this.uniqueId,wmode:this.wmode,callbackName:"window.Clappr.flashlsCallbacks."+this.cid})),v.default.isIE&&(this.$("embed").remove(),v.default.isLegacyIE&&this.$el.attr("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")),this.el.id=this.cid,this},(0,s.default)(e,[{key:"tagName",get:function(){return"object"}},{key:"swfPath",get:function(){return""}},{key:"wmode",get:function(){return"transparent"}},{key:"template",get:function(){return(0,y.default)(b.default)}},{key:"attributes",get:function(){var t="application/x-shockwave-flash";return v.default.isLegacyIE&&(t=""),{class:"clappr-flash-playback",type:t,width:"100%",height:"100%",data:this.swfPath,"data-flash-playback":this.name}}}]),e}(p.default);e.default=_,t.exports=e.default},function(t,e){t.exports='<param name="movie" value="<%= swfPath %>">\n<param name="quality" value="autohigh">\n<param name="swliveconnect" value="true">\n<param name="allowScriptAccess" value="always">\n<param name="bgcolor" value="#000000">\n<param name="allowFullScreen" value="false">\n<param name="wmode" value="<%= wmode %>">\n<param name="tabindex" value="1">\n<param name="FlashVars" value="playbackId=<%= playbackId %>&callback=<%= callbackName %>">\n<embed\n  name="<%= cid %>"\n  type="application/x-shockwave-flash"\n  disabled="disabled"\n  tabindex="-1"\n  enablecontextmenu="false"\n  allowScriptAccess="always"\n  quality="autohigh"\n  pluginspage="http://www.macromedia.com/go/getflashplayer"\n  wmode="<%= wmode %>"\n  swliveconnect="true"\n  allowfullscreen="false"\n  bgcolor="#000000"\n  FlashVars="playbackId=<%= playbackId %>&callback=<%= callbackName %>"\n  data="<%= swfPath %>"\n  src="<%= swfPath %>"\n  width="100%"\n  height="100%">\n</embed>\n'},function(t,e,i){var n=i(192);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-flash-playback[data-flash-playback]{display:block;position:absolute;top:0;left:0;height:100%;width:100%;pointer-events:none}",""])},function(t,e,i){t.exports=i.p+"4b76590b32dab62bc95c1b7951efae78.swf"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(6),s=n(o),l=i(3),u=n(l),c=i(4),d=n(c),h=i(8),p=n(h),f=i(13),y=n(f),g=i(42),v=n(g),m=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.updateSettings=function(){this.settings.left=["playpause","position","duration"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(p.default.PLAYBACK_SETTINGSUPDATE)},e.prototype.getPlaybackType=function(){return y.default.AOD},(0,s.default)(e,[{key:"name",get:function(){return"html5_audio"}},{key:"tagName",get:function(){return"audio"}},{key:"isAudioOnly",get:function(){return!0}}]),e}(v.default);e.default=m,m.canPlay=function(t,e){var i={wav:["audio/wav"],mp3:["audio/mp3",'audio/mpeg;codecs="mp3"'],aac:['audio/mp4;codecs="mp4a.40.5"'],oga:["audio/ogg"]};return v.default._canPlay("audio",i,t,e)},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(65),p=n(h),f=i(8),y=n(f),g=i(12),v=n(g),m=i(13),b=n(m),_=i(30),E=n(_),A=i(18),k=n(A),T=i(196),w=n(T),C=i(197),S=n(C),L=i(7),P=n(L),O=function(t){function e(){(0,a.default)(this,e);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=(0,s.default)(this,t.call.apply(t,[this].concat(n)));return o._src=o.options.src,o._baseUrl=o.options.baseUrl,o._initHlsParameters(o.options),o.highDefinition=!1,o._autoPlay=o.options.autoPlay,o._loop=o.options.loop,o._defaultSettings={left:["playstop"],default:["seekbar"],right:["fullscreen","volume","hd-indicator"],seekEnabled:!1},o.settings=P.default.extend({},o._defaultSettings),o._playbackType=b.default.LIVE,o._hasEnded=!1,o._addListeners(),o}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"flashls"}},{key:"swfPath",get:function(){return(0,v.default)(S.default)({baseUrl:this._baseUrl})}},{key:"levels",get:function(){return this._levels||[]}},{key:"currentLevel",get:function(){return null===this._currentLevel||void 0===this._currentLevel?-1:this._currentLevel},set:function(t){this._currentLevel=t,this.trigger(y.default.PLAYBACK_LEVEL_SWITCH_START),this.el.playerSetCurrentLevel(t)}},{key:"ended",get:function(){return this._hasEnded}},{key:"buffering",get:function(){return!!this._bufferingState&&!this._hasEnded}}]),e.prototype._initHlsParameters=function(t){this._autoStartLoad=void 0===t.autoStartLoad||t.autoStartLoad,this._capLevelToStage=void 0!==t.capLevelToStage&&t.capLevelToStage,this._maxLevelCappingMode=void 0===t.maxLevelCappingMode?"downscale":t.maxLevelCappingMode,this._minBufferLength=void 0===t.minBufferLength?-1:t.minBufferLength,this._minBufferLengthCapping=void 0===t.minBufferLengthCapping?-1:t.minBufferLengthCapping,this._maxBufferLength=void 0===t.maxBufferLength?120:t.maxBufferLength,this._maxBackBufferLength=void 0===t.maxBackBufferLength?30:t.maxBackBufferLength,this._lowBufferLength=void 0===t.lowBufferLength?3:t.lowBufferLength,this._mediaTimePeriod=void 0===t.mediaTimePeriod?100:t.mediaTimePeriod,this._fpsDroppedMonitoringPeriod=void 0===t.fpsDroppedMonitoringPeriod?5e3:t.fpsDroppedMonitoringPeriod,this._fpsDroppedMonitoringThreshold=void 0===t.fpsDroppedMonitoringThreshold?.2:t.fpsDroppedMonitoringThreshold,this._capLevelonFPSDrop=void 0!==t.capLevelonFPSDrop&&t.capLevelonFPSDrop,this._smoothAutoSwitchonFPSDrop=void 0===t.smoothAutoSwitchonFPSDrop?this.capLevelonFPSDrop:t.smoothAutoSwitchonFPSDrop,this._switchDownOnLevelError=void 0===t.switchDownOnLevelError||t.switchDownOnLevelError,this._seekMode=void 0===t.seekMode?"ACCURATE":t.seekMode,this._keyLoadMaxRetry=void 0===t.keyLoadMaxRetry?3:t.keyLoadMaxRetry,this._keyLoadMaxRetryTimeout=void 0===t.keyLoadMaxRetryTimeout?64e3:t.keyLoadMaxRetryTimeout,this._fragmentLoadMaxRetry=void 0===t.fragmentLoadMaxRetry?3:t.fragmentLoadMaxRetry,this._fragmentLoadMaxRetryTimeout=void 0===t.fragmentLoadMaxRetryTimeout?4e3:t.fragmentLoadMaxRetryTimeout,this._fragmentLoadSkipAfterMaxRetry=void 0===t.fragmentLoadSkipAfterMaxRetry||t.fragmentLoadSkipAfterMaxRetry,this._maxSkippedFragments=void 0===t.maxSkippedFragments?5:t.maxSkippedFragments,this._flushLiveURLCache=void 0!==t.flushLiveURLCache&&t.flushLiveURLCache,this._initialLiveManifestSize=void 0===t.initialLiveManifestSize?1:t.initialLiveManifestSize,this._manifestLoadMaxRetry=void 0===t.manifestLoadMaxRetry?3:t.manifestLoadMaxRetry,this._manifestLoadMaxRetryTimeout=void 0===t.manifestLoadMaxRetryTimeout?64e3:t.manifestLoadMaxRetryTimeout,this._manifestRedundantLoadmaxRetry=void 0===t.manifestRedundantLoadmaxRetry?3:t.manifestRedundantLoadmaxRetry,this._startFromBitrate=void 0===t.startFromBitrate?-1:t.startFromBitrate,this._startFromLevel=void 0===t.startFromLevel?-1:t.startFromLevel,this._autoStartMaxDuration=void 0===t.autoStartMaxDuration?-1:t.autoStartMaxDuration,this._seekFromLevel=void 0===t.seekFromLevel?-1:t.seekFromLevel,this._useHardwareVideoDecoder=void 0!==t.useHardwareVideoDecoder&&t.useHardwareVideoDecoder,this._hlsLogEnabled=void 0===t.hlsLogEnabled||t.hlsLogEnabled,this._logDebug=void 0!==t.logDebug&&t.logDebug,this._logDebug2=void 0!==t.logDebug2&&t.logDebug2,this._logWarn=void 0===t.logWarn||t.logWarn,this._logError=void 0===t.logError||t.logError,this._hlsMinimumDvrSize=void 0===t.hlsMinimumDvrSize?60:t.hlsMinimumDvrSize},e.prototype._addListeners=function(){var t=this;E.default.on(this.cid+":flashready",function(){return t._bootstrap()}),E.default.on(this.cid+":timeupdate",function(e){return t._updateTime(e)}),E.default.on(this.cid+":playbackstate",function(e){return t._setPlaybackState(e)}),E.default.on(this.cid+":levelchanged",function(e){return t._levelChanged(e)}),E.default.on(this.cid+":error",function(e,i,n){return t._flashPlaybackError(e,i,n)}),E.default.on(this.cid+":fragmentloaded",function(e){return t._onFragmentLoaded(e)}),E.default.on(this.cid+":levelendlist",function(e){return t._onLevelEndlist(e)})},e.prototype.stopListening=function(){t.prototype.stopListening.call(this),E.default.off(this.cid+":flashready"),E.default.off(this.cid+":timeupdate"),E.default.off(this.cid+":playbackstate"),E.default.off(this.cid+":levelchanged"),E.default.off(this.cid+":playbackerror"),E.default.off(this.cid+":fragmentloaded"),E.default.off(this.cid+":manifestloaded"),E.default.off(this.cid+":levelendlist")},e.prototype._bootstrap=function(){var t=this;this.el.playerLoad?(this.el.width="100%",this.el.height="100%",this._isReadyState=!0,this._srcLoaded=!1,this._currentState="IDLE",this._setFlashSettings(),this._updatePlaybackType(),(this._autoPlay||this._shouldPlayOnManifestLoaded)&&this.play(),this.trigger(y.default.PLAYBACK_READY,this.name)):(this._bootstrapAttempts=this._bootstrapAttempts||0,++this._bootstrapAttempts<=60?setTimeout(function(){return t._bootstrap()},50):this.trigger(y.default.PLAYBACK_ERROR,{message:"Max number of attempts reached"},this.name))},e.prototype._setFlashSettings=function(){this.el.playerSetAutoStartLoad(this._autoStartLoad),this.el.playerSetCapLevelToStage(this._capLevelToStage),this.el.playerSetMaxLevelCappingMode(this._maxLevelCappingMode),this.el.playerSetMinBufferLength(this._minBufferLength),this.el.playerSetMinBufferLengthCapping(this._minBufferLengthCapping),this.el.playerSetMaxBufferLength(this._maxBufferLength),this.el.playerSetMaxBackBufferLength(this._maxBackBufferLength),this.el.playerSetLowBufferLength(this._lowBufferLength),this.el.playerSetMediaTimePeriod(this._mediaTimePeriod),this.el.playerSetFpsDroppedMonitoringPeriod(this._fpsDroppedMonitoringPeriod),this.el.playerSetFpsDroppedMonitoringThreshold(this._fpsDroppedMonitoringThreshold),this.el.playerSetCapLevelonFPSDrop(this._capLevelonFPSDrop),this.el.playerSetSmoothAutoSwitchonFPSDrop(this._smoothAutoSwitchonFPSDrop),this.el.playerSetSwitchDownOnLevelError(this._switchDownOnLevelError),this.el.playerSetSeekMode(this._seekMode),this.el.playerSetKeyLoadMaxRetry(this._keyLoadMaxRetry),this.el.playerSetKeyLoadMaxRetryTimeout(this._keyLoadMaxRetryTimeout),this.el.playerSetFragmentLoadMaxRetry(this._fragmentLoadMaxRetry),this.el.playerSetFragmentLoadMaxRetryTimeout(this._fragmentLoadMaxRetryTimeout),this.el.playerSetFragmentLoadSkipAfterMaxRetry(this._fragmentLoadSkipAfterMaxRetry),this.el.playerSetMaxSkippedFragments(this._maxSkippedFragments),this.el.playerSetFlushLiveURLCache(this._flushLiveURLCache),this.el.playerSetInitialLiveManifestSize(this._initialLiveManifestSize),this.el.playerSetManifestLoadMaxRetry(this._manifestLoadMaxRetry),this.el.playerSetManifestLoadMaxRetryTimeout(this._manifestLoadMaxRetryTimeout),this.el.playerSetManifestRedundantLoadmaxRetry(this._manifestRedundantLoadmaxRetry),this.el.playerSetStartFromBitrate(this._startFromBitrate),this.el.playerSetStartFromLevel(this._startFromLevel),this.el.playerSetAutoStartMaxDuration(this._autoStartMaxDuration),this.el.playerSetSeekFromLevel(this._seekFromLevel),this.el.playerSetUseHardwareVideoDecoder(this._useHardwareVideoDecoder),this.el.playerSetLogInfo(this._hlsLogEnabled),this.el.playerSetLogDebug(this._logDebug),this.el.playerSetLogDebug2(this._logDebug2),this.el.playerSetLogWarn(this._logWarn),this.el.playerSetLogError(this._logError)},e.prototype.setAutoStartLoad=function(t){this._autoStartLoad=t,this.el.playerSetAutoStartLoad(this._autoStartLoad)},e.prototype.setCapLevelToStage=function(t){this._capLevelToStage=t,this.el.playerSetCapLevelToStage(this._capLevelToStage)},e.prototype.setMaxLevelCappingMode=function(t){this._maxLevelCappingMode=t,this.el.playerSetMaxLevelCappingMode(this._maxLevelCappingMode)},e.prototype.setSetMinBufferLength=function(t){this._minBufferLength=t,this.el.playerSetMinBufferLength(this._minBufferLength)},e.prototype.setMinBufferLengthCapping=function(t){this._minBufferLengthCapping=t,this.el.playerSetMinBufferLengthCapping(this._minBufferLengthCapping)},e.prototype.setMaxBufferLength=function(t){this._maxBufferLength=t,this.el.playerSetMaxBufferLength(this._maxBufferLength)},e.prototype.setMaxBackBufferLength=function(t){this._maxBackBufferLength=t,this.el.playerSetMaxBackBufferLength(this._maxBackBufferLength)},e.prototype.setLowBufferLength=function(t){this._lowBufferLength=t,this.el.playerSetLowBufferLength(this._lowBufferLength)},e.prototype.setMediaTimePeriod=function(t){this._mediaTimePeriod=t,this.el.playerSetMediaTimePeriod(this._mediaTimePeriod)},e.prototype.setFpsDroppedMonitoringPeriod=function(t){this._fpsDroppedMonitoringPeriod=t,this.el.playerSetFpsDroppedMonitoringPeriod(this._fpsDroppedMonitoringPeriod)},e.prototype.setFpsDroppedMonitoringThreshold=function(t){this._fpsDroppedMonitoringThreshold=t,this.el.playerSetFpsDroppedMonitoringThreshold(this._fpsDroppedMonitoringThreshold)},e.prototype.setCapLevelonFPSDrop=function(t){this._capLevelonFPSDrop=t,this.el.playerSetCapLevelonFPSDrop(this._capLevelonFPSDrop)},e.prototype.setSmoothAutoSwitchonFPSDrop=function(t){this._smoothAutoSwitchonFPSDrop=t,this.el.playerSetSmoothAutoSwitchonFPSDrop(this._smoothAutoSwitchonFPSDrop)},e.prototype.setSwitchDownOnLevelError=function(t){this._switchDownOnLevelError=t,this.el.playerSetSwitchDownOnLevelError(this._switchDownOnLevelError)},e.prototype.setSeekMode=function(t){this._seekMode=t,this.el.playerSetSeekMode(this._seekMode)},e.prototype.setKeyLoadMaxRetry=function(t){this._keyLoadMaxRetry=t,this.el.playerSetKeyLoadMaxRetry(this._keyLoadMaxRetry)},e.prototype.setKeyLoadMaxRetryTimeout=function(t){this._keyLoadMaxRetryTimeout=t,this.el.playerSetKeyLoadMaxRetryTimeout(this._keyLoadMaxRetryTimeout)},e.prototype.setFragmentLoadMaxRetry=function(t){this._fragmentLoadMaxRetry=t,this.el.playerSetFragmentLoadMaxRetry(this._fragmentLoadMaxRetry)},e.prototype.setFragmentLoadMaxRetryTimeout=function(t){this._fragmentLoadMaxRetryTimeout=t,this.el.playerSetFragmentLoadMaxRetryTimeout(this._fragmentLoadMaxRetryTimeout)},e.prototype.setFragmentLoadSkipAfterMaxRetry=function(t){this._fragmentLoadSkipAfterMaxRetry=t,this.el.playerSetFragmentLoadSkipAfterMaxRetry(this._fragmentLoadSkipAfterMaxRetry)},e.prototype.setMaxSkippedFragments=function(t){this._maxSkippedFragments=t,this.el.playerSetMaxSkippedFragments(this._maxSkippedFragments)},e.prototype.setFlushLiveURLCache=function(t){this._flushLiveURLCache=t,this.el.playerSetFlushLiveURLCache(this._flushLiveURLCache)},e.prototype.setInitialLiveManifestSize=function(t){this._initialLiveManifestSize=t,this.el.playerSetInitialLiveManifestSize(this._initialLiveManifestSize)},e.prototype.setManifestLoadMaxRetry=function(t){this._manifestLoadMaxRetry=t,this.el.playerSetManifestLoadMaxRetry(this._manifestLoadMaxRetry)},e.prototype.setManifestLoadMaxRetryTimeout=function(t){this._manifestLoadMaxRetryTimeout=t,this.el.playerSetManifestLoadMaxRetryTimeout(this._manifestLoadMaxRetryTimeout)},e.prototype.setManifestRedundantLoadmaxRetry=function(t){this._manifestRedundantLoadmaxRetry=t,this.el.playerSetManifestRedundantLoadmaxRetry(this._manifestRedundantLoadmaxRetry)},e.prototype.setStartFromBitrate=function(t){this._startFromBitrate=t,this.el.playerSetStartFromBitrate(this._startFromBitrate)},e.prototype.setStartFromLevel=function(t){this._startFromLevel=t,this.el.playerSetStartFromLevel(this._startFromLevel)},e.prototype.setAutoStartMaxDuration=function(t){this._autoStartMaxDuration=t,this.el.playerSetAutoStartMaxDuration(this._autoStartMaxDuration)},e.prototype.setSeekFromLevel=function(t){this._seekFromLevel=t,this.el.playerSetSeekFromLevel(this._seekFromLevel)},e.prototype.setUseHardwareVideoDecoder=function(t){this._useHardwareVideoDecoder=t,this.el.playerSetUseHardwareVideoDecoder(this._useHardwareVideoDecoder)},e.prototype.setSetLogInfo=function(t){this._hlsLogEnabled=t,this.el.playerSetLogInfo(this._hlsLogEnabled)},e.prototype.setLogDebug=function(t){this._logDebug=t,this.el.playerSetLogDebug(this._logDebug)},e.prototype.setLogDebug2=function(t){this._logDebug2=t,this.el.playerSetLogDebug2(this._logDebug2)},e.prototype.setLogWarn=function(t){this._logWarn=t,this.el.playerSetLogWarn(this._logWarn)},e.prototype.setLogError=function(t){this._logError=t,this.el.playerSetLogError(this._logError)},e.prototype._levelChanged=function(t){var e=this.el.getLevels()[t];e&&(this.highDefinition=e.height>=720||e.bitrate/1e3>=2e3,this.trigger(y.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this._levels&&0!==this._levels.length||this._fillLevels(),this.trigger(y.default.PLAYBACK_BITRATE,{height:e.height,width:e.width,bandwidth:e.bitrate,bitrate:e.bitrate,level:t}),this.trigger(y.default.PLAYBACK_LEVEL_SWITCH_END))},e.prototype._updateTime=function(t){if("IDLE"!==this._currentState){var e=this._normalizeDuration(t.duration),i=Math.min(Math.max(t.position,0),e),n=this._dvrEnabled,r=this._playbackType===b.default.LIVE;this._dvrEnabled=r&&e>this._hlsMinimumDvrSize,100!==e&&void 0!==r&&(this._dvrEnabled!==n&&(this._updateSettings(),this.trigger(y.default.PLAYBACK_SETTINGSUPDATE,this.name)),!r||this._dvrEnabled&&this._dvrInUse||(i=e),this.trigger(y.default.PLAYBACK_TIMEUPDATE,{current:i,total:e},this.name))}},e.prototype.play=function(){this.trigger(y.default.PLAYBACK_PLAY_INTENT),"PAUSED"===this._currentState?this.el.playerResume():this._srcLoaded||"PLAYING"===this._currentState?this.el.playerPlay():this._firstPlay()},e.prototype.getPlaybackType=function(){return this._playbackType?this._playbackType:null},e.prototype.getCurrentTime=function(){return this.el.getPosition()},e.prototype.getCurrentLevelIndex=function(){return this._currentLevel},e.prototype.getCurrentLevel=function(){return this.levels[this.currentLevel]},e.prototype.getCurrentBitrate=function(){return this.levels[this.currentLevel].bitrate},e.prototype.setCurrentLevel=function(t){this.currentLevel=t},e.prototype.isHighDefinitionInUse=function(){return this.highDefinition},e.prototype.getLevels=function(){return this.levels},e.prototype._setPlaybackState=function(t){["PLAYING_BUFFERING","PAUSED_BUFFERING"].indexOf(t)>=0?(this._bufferingState=!0,this.trigger(y.default.PLAYBACK_BUFFERING,this.name),this._updateCurrentState(t)):["PLAYING","PAUSED"].indexOf(t)>=0?(["PLAYING_BUFFERING","PAUSED_BUFFERING","IDLE"].indexOf(this._currentState)>=0&&(this._bufferingState=!1,this.trigger(y.default.PLAYBACK_BUFFERFULL,this.name)),this._updateCurrentState(t)):"IDLE"===t&&(this._srcLoaded=!1,this._loop&&["PLAYING_BUFFERING","PLAYING"].indexOf(this._currentState)>=0?(this.play(),this.seek(0)):(this._updateCurrentState(t),this._hasEnded=!0,this.trigger(y.default.PLAYBACK_TIMEUPDATE,{current:0,total:this.getDuration()},this.name),this.trigger(y.default.PLAYBACK_ENDED,this.name)))},e.prototype._updateCurrentState=function(t){this._currentState=t,"IDLE"!==t&&(this._hasEnded=!1),this._updatePlaybackType(),"PLAYING"===t?this.trigger(y.default.PLAYBACK_PLAY,this.name):"PAUSED"===t&&this.trigger(y.default.PLAYBACK_PAUSE,this.name)},e.prototype._updatePlaybackType=function(){this._playbackType=this.el.getType(),this._playbackType&&(this._playbackType=this._playbackType.toLowerCase(),this._playbackType===b.default.VOD?this._startReportingProgress():this._stopReportingProgress()),this.trigger(y.default.PLAYBACK_PLAYBACKSTATE,{type:this._playbackType})},e.prototype._startReportingProgress=function(){this._reportingProgress||(this._reportingProgress=!0)},e.prototype._stopReportingProgress=function(){this._reportingProgress=!1},e.prototype._onFragmentLoaded=function(t){if(this.trigger(y.default.PLAYBACK_FRAGMENT_LOADED,t),this._reportingProgress&&this.getCurrentTime()){var e=this.getCurrentTime()+this.el.getbufferLength();this.trigger(y.default.PLAYBACK_PROGRESS,{start:this.getCurrentTime(),current:e,total:this.el.getDuration()})}},e.prototype._onLevelEndlist=function(){this._updatePlaybackType()},e.prototype._firstPlay=function(){var t=this;this._shouldPlayOnManifestLoaded=!0,this.el.playerLoad&&(E.default.once(this.cid+":manifestloaded",function(e,i){return t._manifestLoaded(e,i)}),this._setFlashSettings(),this.el.playerLoad(this._src),this._srcLoaded=!0)},e.prototype.volume=function(t){var e=this;this.isReady?this.el.playerVolume(t):this.listenToOnce(this,y.default.PLAYBACK_BUFFERFULL,function(){return e.volume(t)})},e.prototype.pause=function(){(this._playbackType!==b.default.LIVE||this._dvrEnabled)&&(this.el.playerPause(),this._playbackType===b.default.LIVE&&this._dvrEnabled&&this._updateDvr(!0))},e.prototype.stop=function(){this._srcLoaded=!1,this.el.playerStop(),this.trigger(y.default.PLAYBACK_STOP),this.trigger(y.default.PLAYBACK_TIMEUPDATE,{current:0,total:0},this.name)},e.prototype.isPlaying=function(){return!!this._currentState&&!!this._currentState.match(/playing/i)},e.prototype.getDuration=function(){return this._normalizeDuration(this.el.getDuration())},e.prototype._normalizeDuration=function(t){return this._playbackType===b.default.LIVE&&(t=Math.max(0,t-10)),t},e.prototype.seekPercentage=function(t){var e=this.el.getDuration(),i=0;t>0&&(i=e*t/100),this.seek(i)},e.prototype.seek=function(t){var e=this.getDuration();if(this._playbackType===b.default.LIVE){var i=e-t>3;this._updateDvr(i)}this.el.playerSeek(t),this.trigger(y.default.PLAYBACK_TIMEUPDATE,{current:t,total:e},this.name)},e.prototype._updateDvr=function(t){var e=!!this._dvrInUse;this._dvrInUse=t,this._dvrInUse!==e&&(this._updateSettings(),this.trigger(y.default.PLAYBACK_DVR,this._dvrInUse),this.trigger(y.default.PLAYBACK_STATS_ADD,{dvr:this._dvrInUse}))},e.prototype._flashPlaybackError=function(t,e,i){this.trigger(y.default.PLAYBACK_ERROR,{code:t,url:e,message:i}),this.trigger(y.default.PLAYBACK_STOP)},e.prototype._manifestLoaded=function(t,e){this._shouldPlayOnManifestLoaded&&(this._shouldPlayOnManifestLoaded=!1,this.el.playerPlay()),this._fillLevels(),this.trigger(y.default.PLAYBACK_LOADEDMETADATA,{duration:t,data:e})},e.prototype._fillLevels=function(){var t=this.el.getLevels(),e=t.length;this._levels=[];for(var i=0;i<e;i++)this._levels.push({id:i,label:t[i].height+"p",level:t[i]});this.trigger(y.default.PLAYBACK_LEVELS_AVAILABLE,this._levels)},e.prototype.destroy=function(){this.stopListening(),this.$el.remove()},e.prototype._updateSettings=function(){this.settings=P.default.extend({},this._defaultSettings),this._playbackType===b.default.VOD||this._dvrInUse?(this.settings.left=["playpause","position","duration"],this.settings.seekEnabled=!0):this._dvrEnabled?(this.settings.left=["playpause"],this.settings.seekEnabled=!0):this.settings.seekEnabled=!1},e.prototype._createCallbacks=function(){var t=this;window.Clappr||(window.Clappr={}),window.Clappr.flashlsCallbacks||(window.Clappr.flashlsCallbacks={}),this.flashlsEvents=new w.default(this.cid),window.Clappr.flashlsCallbacks[this.cid]=function(e,i){t.flashlsEvents[e].apply(t.flashlsEvents,i)}},e.prototype.render=function(){return t.prototype.render.call(this),this._createCallbacks(),this},(0,u.default)(e,[{key:"isReady",get:function(){return this._isReadyState}},{key:"dvrEnabled",get:function(){return!!this._dvrEnabled}}]),e}(p.default);e.default=O,O.canPlay=function(t,e){var i=t.split("?")[0].match(/.*\.(.*)$/)||[];return k.default.hasFlash&&(i.length>1&&"m3u8"===i[1].toLowerCase()||"application/x-mpegURL"===e||"application/vnd.apple.mpegurl"===e)},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(30),s=n(o),l=function(){function t(e){(0,a.default)(this,t),this.instanceId=e}return t.prototype.ready=function(){s.default.trigger(this.instanceId+":flashready")},t.prototype.videoSize=function(t,e){s.default.trigger(this.instanceId+":videosizechanged",t,e)},t.prototype.complete=function(){s.default.trigger(this.instanceId+":complete")},t.prototype.error=function(t,e,i){s.default.trigger(this.instanceId+":error",t,e,i)},t.prototype.manifest=function(t,e){s.default.trigger(this.instanceId+":manifestloaded",t,e)},t.prototype.audioLevelLoaded=function(t){s.default.trigger(this.instanceId+":audiolevelloaded",t)},t.prototype.levelLoaded=function(t){s.default.trigger(this.instanceId+":levelloaded",t)},t.prototype.levelEndlist=function(t){s.default.trigger(this.instanceId+":levelendlist",t)},t.prototype.fragmentLoaded=function(t){s.default.trigger(this.instanceId+":fragmentloaded",t)},t.prototype.fragmentPlaying=function(t){s.default.trigger(this.instanceId+":fragmentplaying",t)},t.prototype.position=function(t){s.default.trigger(this.instanceId+":timeupdate",t)},t.prototype.state=function(t){s.default.trigger(this.instanceId+":playbackstate",t)},t.prototype.seekState=function(t){s.default.trigger(this.instanceId+":seekstate",t)},t.prototype.switch=function(t){s.default.trigger(this.instanceId+":levelchanged",t)},t.prototype.audioTracksListChange=function(t){s.default.trigger(this.instanceId+":audiotracklistchanged",t)},t.prototype.audioTrackChange=function(t){s.default.trigger(this.instanceId+":audiotrackchanged",t)},t}();e.default=l,t.exports=e.default},function(t,e,i){t.exports=i.p+"809981e5b09d5336c45d72d0869ada2a.swf"},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(91),a=n(r),o=i(1),s=n(o),l=i(3),u=n(l),c=i(6),d=n(c),h=i(4),p=n(h),f=i(42),y=n(f),g=i(96),v=n(g),m=i(8),b=n(m),_=i(13),E=n(_),A=i(11),k=i(63),T=n(k),w=function(t){function e(){(0,s.default)(this,e);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];var a=(0,u.default)(this,t.call.apply(t,[this].concat(n)));return a.options.playback||(a.options.playback=a.options),a._minDvrSize=void 0===a.options.hlsMinimumDvrSize?60:a.options.hlsMinimumDvrSize,a._extrapolatedWindowNumSegments=a.options.playback&&void 0!==a.options.playback.extrapolatedWindowNumSegments?a.options.playback.extrapolatedWindowNumSegments:2,a._playbackType=E.default.VOD,a._lastTimeUpdate=null,a._lastDuration=null,a._playableRegionStartTime=0,a._localStartTimeCorrelation=null,a._localEndTimeCorrelation=null,a._playableRegionDuration=0,a._durationExcludesAfterLiveSyncPoint=!1,a._segmentTargetDuration=null,a._playlistType=null,a._recoverAttemptsRemaining=a.options.hlsRecoverAttempts||16,a._startTimeUpdateTimer(),a}return(0,p.default)(e,t),(0,d.default)(e,[{key:"name",get:function(){return"hls"}},{key:"levels",get:function(){return this._levels||[]}},{key:"currentLevel",get:function(){return null===this._currentLevel||void 0===this._currentLevel?-1:this._currentLevel},set:function(t){this._currentLevel=t,this.trigger(b.default.PLAYBACK_LEVEL_SWITCH_START),this._hls.currentLevel=this._currentLevel}},{key:"isReady",get:function(){return this._isReadyState}},{key:"_startTime",get:function(){return this._playbackType===E.default.LIVE&&"EVENT"!==this._playlistType?this._extrapolatedStartTime:this._playableRegionStartTime}},{key:"_now",get:function(){return(0,A.now)()}},{key:"_extrapolatedStartTime",get:function(){if(!this._localStartTimeCorrelation)return this._playableRegionStartTime;var t=this._localStartTimeCorrelation,e=this._now-t.local,i=(t.remote+e)/1e3;return Math.min(i,this._playableRegionStartTime+this._extrapolatedWindowDuration)}},{key:"_extrapolatedEndTime",get:function(){var t=this._playableRegionStartTime+this._playableRegionDuration;if(!this._localEndTimeCorrelation)return t;var e=this._localEndTimeCorrelation,i=this._now-e.local,n=(e.remote+i)/1e3;return Math.max(t-this._extrapolatedWindowDuration,Math.min(n,t))}},{key:"_duration",get:function(){return this._extrapolatedEndTime-this._startTime}},{key:"_extrapolatedWindowDuration",get:function(){return null===this._segmentTargetDuration?0:this._extrapolatedWindowNumSegments*this._segmentTargetDuration}}],[{key:"HLSJS",get:function(){return v.default}}]),e.prototype._setup=function(){var t=this;this._ccIsSetup=!1,this._ccTracksUpdated=!1,this._hls=new v.default(this.options.playback.hlsjsConfig||{}),this._hls.on(v.default.Events.MEDIA_ATTACHED,function(){return t._hls.loadSource(t.options.src)}),this._hls.on(v.default.Events.LEVEL_LOADED,function(e,i){return t._updatePlaybackType(e,i)}),this._hls.on(v.default.Events.LEVEL_UPDATED,function(e,i){return t._onLevelUpdated(e,i)}),this._hls.on(v.default.Events.LEVEL_SWITCH,function(e,i){return t._onLevelSwitch(e,i)}),this._hls.on(v.default.Events.FRAG_LOADED,function(e,i){return t._onFragmentLoaded(e,i)}),this._hls.on(v.default.Events.ERROR,function(e,i){return t._onHLSJSError(e,i)}),this._hls.on(v.default.Events.SUBTITLE_TRACK_LOADED,function(e,i){return t._onSubtitleLoaded(e,i)}),this._hls.on(v.default.Events.SUBTITLE_TRACKS_UPDATED,function(){return t._ccTracksUpdated=!0}),this._hls.attachMedia(this.el),this._ready()},e.prototype._ready=function(){this._hls&&(this._isReadyState=!0,this.trigger(b.default.PLAYBACK_READY,this.name))},e.prototype._recover=function(t,e){this._recoveredDecodingError?this._recoveredAudioCodecError?(T.default.error("hlsjs: failed to recover"),this.trigger(b.default.PLAYBACK_ERROR,"hlsjs: could not recover from error, evt "+t+", data "+e+" ",this.name)):(this._recoveredAudioCodecError=!0,this._hls.swapAudioCodec(),this._hls.recoverMediaError()):(this._recoveredDecodingError=!0,this._hls.recoverMediaError())},e.prototype._setupSrc=function(t){},e.prototype._startTimeUpdateTimer=function(){var t=this;this._timeUpdateTimer=setInterval(function(){t._onDurationChange(),t._onTimeUpdate()},100)},e.prototype._stopTimeUpdateTimer=function(){clearInterval(this._timeUpdateTimer)},e.prototype.getDuration=function(){return this._duration},e.prototype.getCurrentTime=function(){return Math.max(0,this.el.currentTime-this._startTime)},e.prototype.getStartTimeOffset=function(){return this._startTime},e.prototype.seekPercentage=function(t){var e=this._duration;t>0&&(e=this._duration*(t/100)),this.seek(e)},e.prototype.seek=function(e){e<0&&(T.default.warn("Attempt to seek to a negative time. Resetting to live point. Use seekToLivePoint() to seek to the live point."),e=this.getDuration()),this.dvrEnabled&&this._updateDvr(e<this.getDuration()-3),e+=this._startTime,t.prototype.seek.call(this,e)},e.prototype.seekToLivePoint=function(){this.seek(this.getDuration())},e.prototype._updateDvr=function(t){this.trigger(b.default.PLAYBACK_DVR,t),this.trigger(b.default.PLAYBACK_STATS_ADD,{dvr:t})},e.prototype._updateSettings=function(){this._playbackType===E.default.VOD?this.settings.left=["playpause","position","duration"]:this.dvrEnabled?this.settings.left=["playpause"]:this.settings.left=["playstop"],this.settings.seekEnabled=this.isSeekEnabled(),this.trigger(b.default.PLAYBACK_SETTINGSUPDATE)},e.prototype._onHLSJSError=function(t,e){if(e.fatal)if(this._recoverAttemptsRemaining>0)switch(this._recoverAttemptsRemaining-=1,e.type){case v.default.ErrorTypes.NETWORK_ERROR:switch(e.details){case v.default.ErrorDetails.MANIFEST_LOAD_ERROR:case v.default.ErrorDetails.MANIFEST_LOAD_TIMEOUT:case v.default.ErrorDetails.MANIFEST_PARSING_ERROR:case v.default.ErrorDetails.LEVEL_LOAD_ERROR:case v.default.ErrorDetails.LEVEL_LOAD_TIMEOUT:T.default.error("hlsjs: unrecoverable network fatal error, evt "+t+", data "+e+" "),this.trigger(b.default.PLAYBACK_ERROR,{evt:t,data:e},this.name);break;default:T.default.warn("hlsjs: trying to recover from network error, evt "+t+", data "+e+" "),this._hls.startLoad()}break;case v.default.ErrorTypes.MEDIA_ERROR:T.default.warn("hlsjs: trying to recover from media error, evt "+t+", data "+e+" "),this._recover(t,e);break;default:T.default.error("hlsjs: trying to recover from error, evt "+t+", data "+e+" "),this.trigger(b.default.PLAYBACK_ERROR,"hlsjs: could not recover from error, evt "+t+", data "+e+" ",this.name)}else T.default.error("hlsjs: could not recover from error after maximum number of attempts, evt "+t+", data "+e+" "),this.trigger(b.default.PLAYBACK_ERROR,{evt:t,data:e},this.name);else T.default.warn("hlsjs: non-fatal error occurred, evt "+t+", data "+e+" ")},e.prototype._onTimeUpdate=function(){var t={current:this.getCurrentTime(),total:this.getDuration()};this._lastTimeUpdate&&t.current===this._lastTimeUpdate.current&&t.total===this._lastTimeUpdate.total||(this._lastTimeUpdate=t,this.trigger(b.default.PLAYBACK_TIMEUPDATE,t,this.name))},e.prototype._onDurationChange=function(){var e=this.getDuration();this._lastDuration!==e&&(this._lastDuration=e,t.prototype._onDurationChange.call(this))},e.prototype._onProgress=function(){if(this.el.buffered.length){for(var t=[],e=0,i=0;i<this.el.buffered.length;i++)t=[].concat((0,a.default)(t),[{start:Math.max(0,this.el.buffered.start(i)-this._playableRegionStartTime),end:Math.max(0,this.el.buffered.end(i)-this._playableRegionStartTime)}]),this.el.currentTime>=t[i].start&&this.el.currentTime<=t[i].end&&(e=i);var n={start:t[e].start,current:t[e].end,total:this.getDuration()};this.trigger(b.default.PLAYBACK_PROGRESS,n,t)}},e.prototype.play=function(){this._hls||this._setup(),t.prototype.play.call(this)},e.prototype.pause=function(){this._hls&&(t.prototype.pause.call(this),this.dvrEnabled&&this._updateDvr(!0))},e.prototype.stop=function(){this._hls&&(t.prototype.stop.call(this),this._hls.destroy(),delete this._hls)},e.prototype.destroy=function(){this._stopTimeUpdateTimer(),this._hls&&(this._hls.destroy(),delete this._hls),t.prototype.destroy.call(this)},e.prototype._updatePlaybackType=function(t,e){this._playbackType=e.details.live?E.default.LIVE:E.default.VOD,this._fillLevels(),this._onLevelUpdated(t,e),this._ccTracksUpdated&&this._playbackType===E.default.LIVE&&this.hasClosedCaptionsTracks&&this._onSubtitleLoaded()},e.prototype._fillLevels=function(){this._levels=this._hls.levels.map(function(t,e){return{id:e,level:t,label:t.bitrate/1e3+"Kbps"}}),this.trigger(b.default.PLAYBACK_LEVELS_AVAILABLE,this._levels)},e.prototype._onLevelUpdated=function(t,e){this._segmentTargetDuration=e.details.targetduration,this._playlistType=e.details.type||null;var i=!1,n=!1,r=e.details.fragments,a=this._playableRegionStartTime,o=this._playableRegionDuration;if(0!==r.length){if(this._playableRegionStartTime!==r[0].start&&(i=!0,this._playableRegionStartTime=r[0].start),i)if(this._localStartTimeCorrelation){var s=this._localStartTimeCorrelation,l=this._now-s.local,u=(s.remote+l)/1e3;u<r[0].start?this._localStartTimeCorrelation={local:this._now,remote:1e3*r[0].start}:u>a+this._extrapolatedWindowDuration&&(this._localStartTimeCorrelation={local:this._now,remote:1e3*Math.max(r[0].start,a+this._extrapolatedWindowDuration)})}else this._localStartTimeCorrelation={local:this._now,remote:1e3*(r[0].start+this._extrapolatedWindowDuration/2)};var c=e.details.totalduration;if(this._playbackType===E.default.LIVE){var d=e.details.targetduration,h=this.options.playback.hlsjsConfig||{},p=h.liveSyncDurationCount||v.default.DefaultConfig.liveSyncDurationCount,f=d*p;f<=c?(c-=f,this._durationExcludesAfterLiveSyncPoint=!0):this._durationExcludesAfterLiveSyncPoint=!1}c!==this._playableRegionDuration&&(n=!0,this._playableRegionDuration=c);var y=r[0].start+c,g=a+o;if(y!==g)if(this._localEndTimeCorrelation){var m=this._localEndTimeCorrelation,b=this._now-m.local,_=(m.remote+b)/1e3;_>y?this._localEndTimeCorrelation={local:this._now,remote:1e3*y}:_<y-this._extrapolatedWindowDuration?this._localEndTimeCorrelation={local:this._now,remote:1e3*(y-this._extrapolatedWindowDuration)}:_>g&&(this._localEndTimeCorrelation={local:this._now,remote:1e3*g})}else this._localEndTimeCorrelation={local:this._now,remote:1e3*y};n&&this._onDurationChange(),i&&this._onProgress()}},e.prototype._onFragmentLoaded=function(t,e){this.trigger(b.default.PLAYBACK_FRAGMENT_LOADED,e)},e.prototype._onSubtitleLoaded=function(){if(!this._ccIsSetup){this.trigger(b.default.PLAYBACK_SUBTITLE_AVAILABLE);var t=this._playbackType===E.default.LIVE?-1:this.closedCaptionsTrackId;this.closedCaptionsTrackId=t,this._ccIsSetup=!0}},e.prototype._onLevelSwitch=function(t,e){this.levels.length||this._fillLevels(),this.trigger(b.default.PLAYBACK_LEVEL_SWITCH_END),this.trigger(b.default.PLAYBACK_LEVEL_SWITCH,e);var i=this._hls.levels[e.level];i&&(this.highDefinition=i.height>=720||i.bitrate/1e3>=2e3,this.trigger(b.default.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this.trigger(b.default.PLAYBACK_BITRATE,{height:i.height,width:i.width,bandwidth:i.bitrate,bitrate:i.bitrate,level:e.level}))},e.prototype.getPlaybackType=function(){return this._playbackType},e.prototype.isSeekEnabled=function(){return this._playbackType===E.default.VOD||this.dvrEnabled},(0,d.default)(e,[{key:"dvrEnabled",get:function(){return this._durationExcludesAfterLiveSyncPoint&&this._duration>=this._minDvrSize&&this.getPlaybackType()===E.default.LIVE}}]),e}(y.default);e.default=w,w.canPlay=function(t,e){var i=t.split("?")[0].match(/.*\.(.*)$/)||[],n=i.length>1&&"m3u8"===i[1].toLowerCase()||"application/x-mpegURL"===e||"application/vnd.apple.mpegurl"===e;return!(!v.default.isSupported()||!n)},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(13),p=n(h),f=i(8),y=n(f);i(200);var g=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.el.src=i.src,n}return(0,d.default)(e,t),e.prototype.getPlaybackType=function(){return p.default.NO_OP},(0,u.default)(e,[{key:"name",get:function(){return"html_img"}},{key:"tagName",get:function(){return"img"}},{key:"attributes",get:function(){return{"data-html-img":""}}},{key:"events",get:function(){return{load:"_onLoad",abort:"_onError",error:"_onError"}}}]),e.prototype.render=function(){return this.trigger(y.default.PLAYBACK_READY,this.name),this},e.prototype._onLoad=function(){this.trigger(y.default.PLAYBACK_ENDED,this.name)},e.prototype._onError=function(t){var e="error"===t.type?"load error":"loading aborted";this.trigger(y.default.PLAYBACK_ERROR,{message:e},this.name)},e}(p.default);e.default=g,g.canPlay=function(t){return/\.(png|jpg|jpeg|gif|bmp|tiff|pgm|pnm|webp)(|\?.*)$/i.test(t)},t.exports=e.default},function(t,e,i){var n=i(201);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,"[data-html-img]{max-width:100%;max-height:100%}",""])},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(11),p=i(13),f=n(p),y=i(12),g=n(y),v=i(8),m=n(v),b=i(203),_=n(b);i(204);var E=function(t){function e(){(0,a.default)(this,e);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=(0,s.default)(this,t.call.apply(t,[this].concat(n)));return o._noiseFrameNum=-1,o._started=!1,o}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"no_op"}},{key:"template",get:function(){return(0,g.default)(_.default)}},{key:"attributes",get:function(){return{"data-no-op":""}}}]),e.prototype.render=function(){var t=this.options.playbackNotSupportedMessage||this.i18n.t("playback_not_supported");this.$el.html(this.template({message:t})),this.trigger(m.default.PLAYBACK_READY,this.name);var e=!(!this.options.poster||!this.options.poster.showForNoOp);return!this.options.autoPlay&&e||this.play(),this},e.prototype.play=function(){this._started||(this._started=!0,this.trigger(m.default.PLAYBACK_PLAY),this._animate())},e.prototype._noise=function(){if(this._noiseFrameNum=(this._noiseFrameNum+1)%5,!this._noiseFrameNum){var t=this.context.createImageData(this.context.canvas.width,this.context.canvas.height),e=void 0;try{e=new Uint32Array(t.data.buffer)}catch(r){e=new Uint32Array(this.context.canvas.width*this.context.canvas.height*4);for(var i=t.data,n=0;n<i.length;n++)e[n]=i[n]}for(var r=e.length,a=6*Math.random()+4,o=0,s=0,l=0;l<r;){if(o<0){o=a*Math.random();s=255*Math.pow(Math.random(),.4)<<24}o-=1,e[l++]=s}this.context.putImageData(t,0,0)}},e.prototype._loop=function(){var t=this;this._stop||(this._noise(),this._animationHandle=(0,h.requestAnimationFrame)(function(){return t._loop()}))},e.prototype.destroy=function(){this._animationHandle&&((0,h.cancelAnimationFrame)(this._animationHandle),this._stop=!0)},e.prototype._animate=function(){this.canvas=this.$el.find("canvas[data-no-op-canvas]")[0],this.context=this.canvas.getContext("2d"),this._loop()},e}(f.default);e.default=E,E.canPlay=function(t){return!0},t.exports=e.default},function(t,e){t.exports="<canvas data-no-op-canvas></canvas>\n<p data-no-op-msg><%=message%><p>\n"},function(t,e,i){var n=i(205);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,"[data-no-op]{position:absolute;height:100%;width:100%;text-align:center}[data-no-op] p[data-no-op-msg]{position:absolute;text-align:center;font-size:25px;left:0;right:0;color:#fff;padding:10px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);max-height:100%;overflow:auto}[data-no-op] canvas[data-no-op-canvas]{background-color:#777;height:100%;width:100%}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(207),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(43),p=n(h),f=i(8),y=n(f),g=i(12),v=n(g),m=i(208),b=n(m);i(209);var _=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.template=(0,v.default)(b.default),n.showTimeout=null,n.listenTo(n.container,y.default.CONTAINER_STATE_BUFFERING,n.onBuffering),n.listenTo(n.container,y.default.CONTAINER_STATE_BUFFERFULL,n.onBufferFull),n.listenTo(n.container,y.default.CONTAINER_STOP,n.onStop),n.listenTo(n.container,y.default.CONTAINER_ENDED,n.onStop),n.listenTo(n.container,y.default.CONTAINER_ERROR,n.onStop),n.render(),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"spinner"}},{key:"attributes",get:function(){return{"data-spinner":"",class:"spinner-three-bounce"}}}]),e.prototype.onBuffering=function(){this.show()},e.prototype.onBufferFull=function(){this.hide()},e.prototype.onStop=function(){this.hide()},e.prototype.show=function(){var t=this;null===this.showTimeout&&(this.showTimeout=setTimeout(function(){return t.$el.show()},300))},e.prototype.hide=function(){null!==this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null),this.$el.hide()},e.prototype.render=function(){return this.$el.html(this.template()),this.container.$el.append(this.$el),this.$el.hide(),this.container.buffering&&this.onBuffering(),this},e}(p.default);e.default=_,t.exports=e.default},function(t,e){t.exports="<div data-bounce1></div><div data-bounce2></div><div data-bounce3></div>\n"},function(t,e,i){var n=i(210);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".spinner-three-bounce[data-spinner]{position:absolute;margin:0 auto;width:70px;text-align:center;z-index:999;left:0;right:0;margin-left:auto;margin-right:auto;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.spinner-three-bounce[data-spinner]>div{width:18px;height:18px;background-color:#fff;border-radius:100%;display:inline-block;-webkit-animation:bouncedelay 1.4s infinite ease-in-out;animation:bouncedelay 1.4s infinite ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.spinner-three-bounce[data-spinner] [data-bounce1]{-webkit-animation-delay:-.32s;animation-delay:-.32s}.spinner-three-bounce[data-spinner] [data-bounce2]{-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes :bouncedelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes :bouncedelay{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(212),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(44),p=n(h),f=i(8),y=n(f),g=i(7),v=n(g),m=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.setInitialAttrs(),n.reportInterval=n.options.reportInterval||5e3,n.state="IDLE",n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"stats"}}]),e.prototype.bindEvents=function(){this.listenTo(this.container.playback,y.default.PLAYBACK_PLAY,this.onPlay),this.listenTo(this.container,y.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,y.default.CONTAINER_ENDED,this.onStop),this.listenTo(this.container,y.default.CONTAINER_DESTROYED,this.onStop),this.listenTo(this.container,y.default.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,y.default.CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.listenTo(this.container,y.default.CONTAINER_STATS_ADD,this.onStatsAdd),this.listenTo(this.container,y.default.CONTAINER_BITRATE,this.onStatsAdd),this.listenTo(this.container.playback,y.default.PLAYBACK_STATS_ADD,this.onStatsAdd)},e.prototype.setInitialAttrs=function(){this.firstPlay=!0,this.startupTime=0,this.rebufferingTime=0,this.watchingTime=0,this.rebuffers=0,this.externalMetrics={}},e.prototype.onPlay=function(){this.state="PLAYING",this.watchingTimeInit=Date.now(),this.intervalId||(this.intervalId=setInterval(this.report.bind(this),this.reportInterval))},e.prototype.onStop=function(){clearInterval(this.intervalId),this.report(),this.intervalId=void 0,this.state="STOPPED"},e.prototype.onBuffering=function(){this.firstPlay?this.startupTimeInit=Date.now():this.rebufferingTimeInit=Date.now(),this.state="BUFFERING",this.rebuffers++},e.prototype.onBufferFull=function(){this.firstPlay&&this.startupTimeInit?(this.firstPlay=!1,this.startupTime=Date.now()-this.startupTimeInit,this.watchingTimeInit=Date.now()):this.rebufferingTimeInit&&(this.rebufferingTime+=this.getRebufferingTime()),this.rebufferingTimeInit=void 0,this.state="PLAYING"},e.prototype.getRebufferingTime=function(){return Date.now()-this.rebufferingTimeInit},e.prototype.getWatchingTime=function(){return Date.now()-this.watchingTimeInit-this.rebufferingTime},e.prototype.isRebuffering=function(){return!!this.rebufferingTimeInit},e.prototype.onStatsAdd=function(t){v.default.extend(this.externalMetrics,t)},e.prototype.getStats=function(){var t={startupTime:this.startupTime,rebuffers:this.rebuffers,rebufferingTime:this.isRebuffering()?this.rebufferingTime+this.getRebufferingTime():this.rebufferingTime,watchingTime:this.isRebuffering()?this.getWatchingTime()-this.getRebufferingTime():this.getWatchingTime()};return v.default.extend(t,this.externalMetrics),t},e.prototype.report=function(){this.container.statsReport(this.getStats())},e}(p.default);e.default=m,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(214),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(43),p=n(h),f=i(8),y=n(f),g=i(12),v=n(g),m=i(215),b=n(m);i(216);var _=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.configure(),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"watermark"}},{key:"template",get:function(){return(0,v.default)(b.default)}}]),e.prototype.bindEvents=function(){this.listenTo(this.container,y.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,y.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,y.default.CONTAINER_OPTIONS_CHANGE,this.configure)},e.prototype.configure=function(){this.position=this.options.position||"bottom-right",this.options.watermark?(this.imageUrl=this.options.watermark,this.imageLink=this.options.watermarkLink,this.render()):this.$el.remove()},e.prototype.onPlay=function(){this.hidden||this.$el.show()},e.prototype.onStop=function(){this.$el.hide()},e.prototype.render=function(){this.$el.hide();var t={position:this.position,imageUrl:this.imageUrl,imageLink:this.imageLink};return this.$el.html(this.template(t)),this.container.$el.append(this.$el),this},e}(p.default);e.default=_,t.exports=e.default},function(t,e){t.exports="<div data-watermark data-watermark-<%=position %>>\n<% if(typeof imageLink !== 'undefined') { %>\n<a target=_blank href=\"<%= imageLink %>\">\n<% } %>\n<img src=\"<%= imageUrl %>\">\n<% if(typeof imageLink !== 'undefined') { %>\n</a>\n<% } %>\n</div>\n"},function(t,e,i){var n=i(217);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,"[data-watermark]{position:absolute;min-width:70px;max-width:200px;width:12%;text-align:center;z-index:10}[data-watermark] a{outline:none;cursor:pointer}[data-watermark] img{max-width:100%}[data-watermark-bottom-left]{bottom:10px;left:10px}[data-watermark-bottom-right]{bottom:10px;right:42px}[data-watermark-top-left]{top:10px;left:10px}[data-watermark-top-right]{top:10px;right:37px}",""])},function(t,e,i){"use strict";(function(n){function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),o=r(a),s=i(3),l=r(s),u=i(6),c=r(u),d=i(4),h=r(d),p=i(43),f=r(p),y=i(8),g=r(y),v=i(12),m=r(v),b=i(13),_=r(b),E=i(219),A=r(E),k=i(64),T=r(k);i(220);var w=function(t){function e(i){(0,o.default)(this,e);var r=(0,l.default)(this,t.call(this,i));return r.hasStartedPlaying=!1,r.playRequested=!1,r.render(),n.nextTick(function(){return r.update()}),r}return(0,h.default)(e,t),(0,c.default)(e,[{key:"name",get:function(){return"poster"}},{key:"template",get:function(){return(0,m.default)(A.default)}},{key:"shouldRender",get:function(){var t=!(!this.options.poster||!this.options.poster.showForNoOp);return"html_img"!==this.container.playback.name&&(this.container.playback.getPlaybackType()!==_.default.NO_OP||t)}},{key:"attributes",get:function(){return{class:"player-poster","data-poster":""}}},{key:"events",get:function(){return{click:"clicked"}}},{key:"showOnVideoEnd",get:function(){return!this.options.poster||this.options.poster.showOnVideoEnd||void 0===this.options.poster.showOnVideoEnd}}]),e.prototype.bindEvents=function(){this.listenTo(this.container,g.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,g.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,g.default.CONTAINER_STATE_BUFFERING,this.update),this.listenTo(this.container,g.default.CONTAINER_STATE_BUFFERFULL,this.update),this.listenTo(this.container,g.default.CONTAINER_OPTIONS_CHANGE,this.render),this.showOnVideoEnd&&this.listenTo(this.container,g.default.CONTAINER_ENDED,this.onStop)},e.prototype.stopListening=function(){t.prototype.stopListening.call(this)},e.prototype.onPlay=function(){this.hasStartedPlaying=!0,this.update()},e.prototype.onStop=function(){this.hasStartedPlaying=!1,this.playRequested=!1,this.update()},e.prototype.showPlayButton=function(t){!t||this.options.chromeless&&!this.options.allowUserInteraction?(this.$playButton.hide(),this.$el.removeClass("clickable")):(this.$playButton.show(),this.$el.addClass("clickable"))},e.prototype.clicked=function(){return this.options.chromeless&&!this.options.allowUserInteraction||(this.playRequested=!0,this.update(),this.container.play()),!1},e.prototype.shouldHideOnPlay=function(){return!this.container.playback.isAudioOnly},e.prototype.update=function(){if(this.shouldRender){var t=!this.playRequested&&!this.hasStartedPlaying&&!this.container.buffering;this.showPlayButton(t),this.hasStartedPlaying?(this.container.enableMediaControl(),this.shouldHideOnPlay()&&this.$el.hide()):(this.container.disableMediaControl(),this.$el.show())}},e.prototype.render=function(){if(this.shouldRender){this.$el.html(this.template());if(this.options.poster&&void 0==this.options.poster.custom){var t=this.options.poster.url||this.options.poster;this.$el.css({"background-image":"url("+t+")"})}else this.options.poster&&this.$el.css({background:this.options.poster.custom});this.container.$el.append(this.el),this.$playWrapper=this.$el.find(".play-wrapper"),this.$playWrapper.append(T.default),this.$playButton=this.$playWrapper.find("svg"),this.$playButton.addClass("poster-icon"),this.$playButton.attr("data-poster","");var e=this.options.mediacontrol&&this.options.mediacontrol.buttons;return e&&this.$el.find("svg path").css("fill",e),this.options.mediacontrol&&this.options.mediacontrol.buttons&&(e=this.options.mediacontrol.buttons,this.$playButton.css("color",e)),this.update(),this}},e}(f.default);e.default=w,t.exports=e.default}).call(e,i(22))},function(t,e){t.exports='<div class="play-wrapper" data-poster></div>\n'},function(t,e,i){var n=i(221);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".player-poster[data-poster]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;height:100%;width:100%;z-index:998;top:0;left:0;background-color:#000;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.player-poster[data-poster].clickable{cursor:pointer}.player-poster[data-poster]:hover .play-wrapper[data-poster]{opacity:1}.player-poster[data-poster] .play-wrapper[data-poster]{width:100%;height:25%;margin:0 auto;opacity:.75;transition:opacity .1s ease}.player-poster[data-poster] .play-wrapper[data-poster] svg{height:100%}.player-poster[data-poster] .play-wrapper[data-poster] svg path{fill:#fff}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(223),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(44),p=n(h),f=i(8),y=n(f),g=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.container.options.gaAccount&&(n.account=n.container.options.gaAccount,n.trackerName=n.container.options.gaTrackerName?n.container.options.gaTrackerName+".":"Clappr.",n.domainName=n.container.options.gaDomainName,n.currentHDState=void 0,n.embedScript()),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"google_analytics"}}]),e.prototype.embedScript=function(){var t=this;if(window._gat)this.addEventListeners();else{var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("async","async"),e.setAttribute("src","//www.google-analytics.com/ga.js"),e.onload=function(){return t.addEventListeners()},document.body.appendChild(e)}},e.prototype.addEventListeners=function(){var t=this;this.container&&(this.listenTo(this.container,y.default.CONTAINER_READY,this.onReady),this.listenTo(this.container,y.default.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,y.default.CONTAINER_STOP,this.onStop),this.listenTo(this.container,y.default.CONTAINER_PAUSE,this.onPause),this.listenTo(this.container,y.default.CONTAINER_ENDED,this.onEnded),this.listenTo(this.container,y.default.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,y.default.CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.listenTo(this.container,y.default.CONTAINER_ERROR,this.onError),this.listenTo(this.container,y.default.CONTAINER_PLAYBACKSTATE,this.onPlaybackChanged),this.listenTo(this.container,y.default.CONTAINER_VOLUME,function(e){return t.onVolumeChanged(e)}),this.listenTo(this.container,y.default.CONTAINER_SEEK,function(e){return t.onSeek(e)}),this.listenTo(this.container,y.default.CONTAINER_FULL_SCREEN,this.onFullscreen),this.listenTo(this.container,y.default.CONTAINER_HIGHDEFINITIONUPDATE,this.onHD),this.listenTo(this.container,y.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.onDVR)),_gaq.push([this.trackerName+"_setAccount",this.account]),this.domainName&&_gaq.push([this.trackerName+"_setDomainName",this.domainName])},e.prototype.onReady=function(){this.push(["Video","Playback",this.container.playback.name])},e.prototype.onPlay=function(){this.push(["Video","Play",this.container.playback.src])},e.prototype.onStop=function(){this.push(["Video","Stop",this.container.playback.src])},e.prototype.onEnded=function(){this.push(["Video","Ended",this.container.playback.src])},e.prototype.onBuffering=function(){this.push(["Video","Buffering",this.container.playback.src])},e.prototype.onBufferFull=function(){this.push(["Video","Bufferfull",this.container.playback.src])},e.prototype.onError=function(){this.push(["Video","Error",this.container.playback.src])},e.prototype.onHD=function(t){var e=t?"ON":"OFF";e!==this.currentHDState&&(this.currentHDState=e,this.push(["Video","HD - "+e,this.container.playback.src]))},e.prototype.onPlaybackChanged=function(t){null!==t.type&&this.push(["Video","Playback Type - "+t.type,this.container.playback.src])},e.prototype.onDVR=function(t){var e=t?"ON":"OFF";this.push(["Interaction","DVR - "+e,this.container.playback.src])},e.prototype.onPause=function(){this.push(["Video","Pause",this.container.playback.src])},e.prototype.onSeek=function(){this.push(["Video","Seek",this.container.playback.src])},e.prototype.onVolumeChanged=function(){this.push(["Interaction","Volume",this.container.playback.src])},e.prototype.onFullscreen=function(){this.push(["Interaction","Fullscreen",this.container.playback.src])},e.prototype.push=function(t){var e=[this.trackerName+"_trackEvent"].concat(t);_gaq.push(e)},e}(p.default);e.default=g,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(225),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(44),p=n(h),f=i(8),y=n(f),g=i(13),v=n(g),m=function(t){function e(i){return(0,a.default)(this,e),(0,s.default)(this,t.call(this,i))}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"click_to_pause"}}]),e.prototype.bindEvents=function(){this.listenTo(this.container,y.default.CONTAINER_CLICK,this.click),this.listenTo(this.container,y.default.CONTAINER_SETTINGSUPDATE,this.settingsUpdate)},e.prototype.click=function(){(this.container.getPlaybackType()!==v.default.LIVE||this.container.isDvrEnabled())&&(this.container.isPlaying()?this.container.pause():this.container.play())},e.prototype.settingsUpdate=function(){var t=this.container.getPlaybackType()!==v.default.LIVE||this.container.isDvrEnabled();if(t!==this.pointerEnabled){var e=t?"addClass":"removeClass";this.container.$el[e]("pointer-enabled"),this.pointerEnabled=t}},e}(p.default);e.default=m,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(227),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(45),p=n(h),f=i(12),y=n(f),g=i(13),v=n(g),m=i(8),b=n(m),_=i(228),E=n(_);i(229);var A=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.settingsUpdate(),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"template",get:function(){return(0,y.default)(E.default)}},{key:"name",get:function(){return"dvr_controls"}},{key:"events",get:function(){return{"click .live-button":"click"}}},{key:"attributes",get:function(){return{class:"dvr-controls","data-dvr-controls":""}}}]),e.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,b.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.listenTo(this.core.mediaControl,b.default.MEDIACONTROL_RENDERED,this.settingsUpdate),this.listenTo(this.core,b.default.CORE_OPTIONS_CHANGE,this.render),this.core.getCurrentContainer()&&(this.listenToOnce(this.core.getCurrentContainer(),b.default.CONTAINER_TIMEUPDATE,this.render),this.listenTo(this.core.getCurrentContainer(),b.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.dvrChanged))},e.prototype.containerChanged=function(){this.stopListening(),this.bindEvents()},e.prototype.dvrChanged=function(t){this.core.getPlaybackType()===v.default.LIVE&&(this.settingsUpdate(),this.core.mediaControl.$el.addClass("live"),t?(this.core.mediaControl.$el.addClass("dvr"),this.core.mediaControl.$el.find(".media-control-indicator[data-position], .media-control-indicator[data-duration]").hide()):this.core.mediaControl.$el.removeClass("dvr"))},e.prototype.click=function(){var t=this.core.mediaControl,e=t.container;e.isPlaying()||e.play(),t.$el.hasClass("dvr")&&e.seek(e.getDuration())},e.prototype.settingsUpdate=function(){var t=this;this.stopListening(),this.core.mediaControl.$el.removeClass("live"),this.shouldRender()&&(this.render(),this.$el.click(function(){return t.click()})),this.bindEvents()},e.prototype.shouldRender=function(){return(void 0===this.core.options.useDvrControls||!!this.core.options.useDvrControls)&&this.core.getPlaybackType()===v.default.LIVE},e.prototype.render=function(){return this.$el.html(this.template({live:this.core.i18n.t("live"),backToLive:this.core.i18n.t("back_to_live")})),this.shouldRender()&&(this.core.mediaControl.$el.addClass("live"),this.core.mediaControl.$(".media-control-left-panel[data-media-control]").append(this.$el)),this},e}(p.default);e.default=A,t.exports=e.default},function(t,e){t.exports='<div class="live-info"><%= live %></div>\n<button type="button" class="live-button" aria-label="<%= backToLive %>"><%= backToLive %></button>\n'},function(t,e,i){var n=i(230);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.dvr-controls[data-dvr-controls]{display:inline-block;float:left;color:#fff;line-height:32px;font-size:10px;font-weight:700;margin-left:6px}.dvr-controls[data-dvr-controls] .live-info{cursor:default;font-family:Roboto,Open Sans,Arial,sans-serif;text-transform:uppercase}.dvr-controls[data-dvr-controls] .live-info:before{content:"";display:inline-block;position:relative;width:7px;height:7px;border-radius:3.5px;margin-right:3.5px;background-color:#ff0101}.dvr-controls[data-dvr-controls] .live-info.disabled{opacity:.3}.dvr-controls[data-dvr-controls] .live-info.disabled:before{background-color:#fff}.dvr-controls[data-dvr-controls] .live-button{cursor:pointer;outline:none;display:none;border:0;color:#fff;background-color:transparent;height:32px;padding:0;opacity:.7;font-family:Roboto,Open Sans,Arial,sans-serif;text-transform:uppercase;transition:all .1s ease}.dvr-controls[data-dvr-controls] .live-button:before{content:"";display:inline-block;position:relative;width:7px;height:7px;border-radius:3.5px;margin-right:3.5px;background-color:#fff}.dvr-controls[data-dvr-controls] .live-button:hover{opacity:1;text-shadow:hsla(0,0%,100%,.75) 0 0 5px}.dvr .dvr-controls[data-dvr-controls] .live-info{display:none}.dvr .dvr-controls[data-dvr-controls] .live-button{display:block}.dvr.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#005aff}.media-control.live[data-media-control] .media-control-layer[data-controls] .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#ff0101}',""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(232),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(45),p=n(h),f=i(12),y=n(f),g=i(8),v=n(g),m=i(233),b=n(m),_=i(234),E=n(_);i(235);var A=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i)),r=i.options.closedCaptionsConfig;return n._title=r&&r.title?r.title:null,n._ariaLabel=r&&r.ariaLabel?r.ariaLabel:"cc-button",n._labelCb=r&&r.labelCallback&&"function"==typeof r.labelCallback?r.labelCallback:function(t){return t.name},n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"closed_captions"}},{key:"template",get:function(){return(0,y.default)(E.default)}},{key:"events",get:function(){return{"click [data-cc-button]":"toggleContextMenu","click [data-cc-select]":"onTrackSelect"}}},{key:"attributes",get:function(){return{class:"cc-controls","data-cc-controls":""}}}]),e.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,v.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.listenTo(this.core.mediaControl,v.default.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.core.mediaControl,v.default.MEDIACONTROL_HIDE,this.hideContextMenu),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,v.default.CONTAINER_SUBTITLE_AVAILABLE,this.onSubtitleAvailable),this.listenTo(this.container,v.default.CONTAINER_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(this.container,v.default.CONTAINER_STOP,this.onContainerStop))},e.prototype.onContainerStop=function(){this.ccAvailable(!1)},e.prototype.containerChanged=function(){this.ccAvailable(!1),this.stopListening(),this.bindEvents()},e.prototype.onSubtitleAvailable=function(){this.renderCcButton(),this.ccAvailable(!0)},e.prototype.onSubtitleChanged=function(t){this.setCurrentContextMenuElement(t.id)},e.prototype.onTrackSelect=function(t){var e=parseInt(t.target.dataset.ccSelect,10);return this.container.closedCaptionsTrackId=e,this.hideContextMenu(),t.stopPropagation(),!1},e.prototype.ccAvailable=function(t){var e=t?"addClass":"removeClass";this.$el[e]("available")},e.prototype.toggleContextMenu=function(){this.$el.find("ul").toggle()},e.prototype.hideContextMenu=function(){this.$el.find("ul").hide()},e.prototype.contextMenuElement=function(t){return this.$el.find("ul a"+(isNaN(t)?"":'[data-cc-select="'+t+'"]')).parent()},e.prototype.setCurrentContextMenuElement=function(t){if(this._trackId!==t){this.contextMenuElement().removeClass("current"),this.contextMenuElement(t).addClass("current");var e=t>-1?"addClass":"removeClass";this.$ccButton[e]("enabled"),this._trackId=t}},e.prototype.renderCcButton=function(){for(var t=this.container?this.container.closedCaptionsTracks:[],e=0;e<t.length;e++)t[e].label=this._labelCb(t[e]);this.$el.html(this.template({ariaLabel:this._ariaLabel,disabledLabel:this.core.i18n.t("disabled"),title:this._title,tracks:t})),this.$ccButton=this.$el.find("button.cc-button[data-cc-button]"),this.$ccButton.append(b.default),this.$el.append(this.style)},e.prototype.render=function(){this.renderCcButton();var t=this.core.mediaControl.$el.find("button[data-fullscreen]");return t[0]?this.$el.insertAfter(t):this.core.mediaControl.$el.find(".media-control-right-panel[data-media-control]").prepend(this.$el),this},e}(p.default);e.default=A,t.exports=e.default},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 49 41.8" style="enable-background:new 0 0 49 41.8;" xml:space="preserve"><path d="M47.1,0H3.2C1.6,0,0,1.2,0,2.8v31.5C0,35.9,1.6,37,3.2,37h11.9l3.2,1.9l4.7,2.7c0.9,0.5,2-0.1,2-1.1V37h22.1 c1.6,0,1.9-1.1,1.9-2.7V2.8C49,1.2,48.7,0,47.1,0z M7.2,18.6c0-4.8,3.5-9.3,9.9-9.3c4.8,0,7.1,2.7,7.1,2.7l-2.5,4 c0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2c0,0-2.7,2.9-7.6,2.9 C10.8,27.9,7.2,23.5,7.2,18.6z M36.9,27.9c-6.4,0-9.9-4.4-9.9-9.3c0-4.8,3.5-9.3,9.9-9.3C41.7,9.3,44,12,44,12l-2.5,4 c0,0-1.7-1.7-4.2-1.7c-2.8,0-4.3,2.1-4.3,4.3c0,2.1,1.5,4.4,4.5,4.4c2.5,0,4.9-2.1,4.9-2.1l2.2,4.2C44.5,25,41.9,27.9,36.9,27.9z"></path></svg>'},function(t,e){t.exports='<button type="button" class="cc-button media-control-button media-control-icon" data-cc-button aria-label="<%= ariaLabel %>"></button>\n<ul>\n  <% if (title) { %>\n  <li data-title><%= title %></li>\n  <% }; %>\n  <li><a href="#" data-cc-select="-1"><%= disabledLabel %></a></li>\n  <% for (var i = 0; i < tracks.length; i++) { %>\n    <li><a href="#" data-cc-select="<%= tracks[i].id %>"><%= tracks[i].label %></a></li>\n  <% }; %>\n</ul>\n'},function(t,e,i){var n=i(236);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".cc-controls[data-cc-controls]{float:right;position:relative;display:none}.cc-controls[data-cc-controls].available{display:block}.cc-controls[data-cc-controls] .cc-button{padding:6px!important}.cc-controls[data-cc-controls] .cc-button.enabled{display:block;opacity:1}.cc-controls[data-cc-controls] .cc-button.enabled:hover{opacity:1;text-shadow:none}.cc-controls[data-cc-controls]>ul{list-style-type:none;position:absolute;bottom:25px;border:1px solid #000;display:none;background-color:#e6e6e6}.cc-controls[data-cc-controls] li{font-size:10px}.cc-controls[data-cc-controls] li[data-title]{background-color:#c3c2c2;padding:5px}.cc-controls[data-cc-controls] li a{color:#444;padding:2px 10px;display:block;text-decoration:none}.cc-controls[data-cc-controls] li a:hover{background-color:#555;color:#fff}.cc-controls[data-cc-controls] li a:hover a{color:#fff;text-decoration:none}.cc-controls[data-cc-controls] li.current a{color:red}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(238),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(35),p=n(h),f=i(8),y=n(f),g=i(7),v=n(g),m=i(64),b=n(m),_=i(88),E=n(_),A=(0,v.default)('link[rel="shortcut icon"]'),k=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n._container=null,n.configure(),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"favicon"}},{key:"oldIcon",get:function(){return A}}]),e.prototype.configure=function(){this.core.options.changeFavicon?this.enabled||(this.stopListening(this.core,y.default.CORE_OPTIONS_CHANGE),this.enable()):this.enabled&&(this.disable(),this.listenTo(this.core,y.default.CORE_OPTIONS_CHANGE,this.configure))},e.prototype.bindEvents=function(){this.listenTo(this.core,y.default.CORE_OPTIONS_CHANGE,this.configure),this.listenTo(this.core.mediaControl,y.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.core.mediaControl.container&&this.containerChanged()},e.prototype.containerChanged=function(){this._container&&this.stopListening(this._container),this._container=this.core.mediaControl.container,this.listenTo(this._container,y.default.CONTAINER_PLAY,this.setPlayIcon),this.listenTo(this._container,y.default.CONTAINER_PAUSE,this.setPauseIcon),this.listenTo(this._container,y.default.CONTAINER_STOP,this.resetIcon),this.listenTo(this._container,y.default.CONTAINER_ENDED,this.resetIcon),this.listenTo(this._container,y.default.CONTAINER_ERROR,this.resetIcon),this.resetIcon()},e.prototype.disable=function(){t.prototype.disable.call(this),this.resetIcon()},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.resetIcon()},e.prototype.createIcon=function(t){var e=(0,v.default)("<canvas/>");e[0].width=16,e[0].height=16;var i=e[0].getContext("2d");i.fillStyle="#000";var n=(0,v.default)(t).find("path").attr("d"),r=new Path2D(n);i.fill(r);var a=(0,v.default)('<link rel="shortcut icon" type="image/png"/>');return a.attr("href",e[0].toDataURL("image/png")),a},e.prototype.setPlayIcon=function(){this.playIcon||(this.playIcon=this.createIcon(b.default)),this.changeIcon(this.playIcon)},e.prototype.setPauseIcon=function(){this.pauseIcon||(this.pauseIcon=this.createIcon(E.default)),this.changeIcon(this.pauseIcon)},e.prototype.resetIcon=function(){(0,v.default)('link[rel="shortcut icon"]').remove(),(0,v.default)("head").append(this.oldIcon)},e.prototype.changeIcon=function(t){t&&((0,v.default)('link[rel="shortcut icon"]').remove(),(0,v.default)("head").append(t))},e}(p.default);e.default=k,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(240),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(3),s=n(o),l=i(6),u=n(l),c=i(4),d=n(c),h=i(11),p=i(45),f=n(p),y=i(12),g=n(y),v=i(8),m=n(v),b=i(13),_=n(b),E=i(241),A=n(E);i(242);var k=function(t){function e(i){(0,a.default)(this,e);var n=(0,s.default)(this,t.call(this,i));return n.hoveringOverSeekBar=!1,n.hoverPosition=null,n.duration=null,n.actualLiveTime=!!n.mediaControl.options.actualLiveTime,n.actualLiveTime&&(n.mediaControl.options.actualLiveServerTime?n.actualLiveServerTimeDiff=(new Date).getTime()-new Date(n.mediaControl.options.actualLiveServerTime).getTime():n.actualLiveServerTimeDiff=0),n}return(0,d.default)(e,t),(0,u.default)(e,[{key:"name",get:function(){return"seek_time"}},{key:"template",get:function(){return(0,g.default)(A.default)}},{key:"attributes",get:function(){return{class:"seek-time","data-seek-time":""}}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"mediaControlContainer",get:function(){return this.mediaControl.container}},{key:"isLiveStreamWithDvr",get:function(){return this.mediaControlContainer&&this.mediaControlContainer.getPlaybackType()===_.default.LIVE&&this.mediaControlContainer.isDvrEnabled()}},{key:"durationShown",get:function(){return this.isLiveStreamWithDvr&&!this.useActualLiveTime}},{key:"useActualLiveTime",get:function(){return this.actualLiveTime&&this.isLiveStreamWithDvr}}]),e.prototype.bindEvents=function(){this.listenTo(this.mediaControl,m.default.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.mediaControl,m.default.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.showTime),this.listenTo(this.mediaControl,m.default.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.hideTime),this.listenTo(this.mediaControl,m.default.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged),this.mediaControlContainer&&(this.listenTo(this.mediaControlContainer,m.default.CONTAINER_PLAYBACKDVRSTATECHANGED,this.update),this.listenTo(this.mediaControlContainer,m.default.CONTAINER_TIMEUPDATE,this.updateDuration))},e.prototype.onContainerChanged=function(){this.stopListening(),this.bindEvents()},e.prototype.updateDuration=function(t){this.duration=t.total,this.update()},e.prototype.showTime=function(t){this.hoveringOverSeekBar=!0,this.calculateHoverPosition(t),this.update()},e.prototype.hideTime=function(){this.hoveringOverSeekBar=!1,this.update()},e.prototype.calculateHoverPosition=function(t){var e=t.pageX-this.mediaControl.$seekBarContainer.offset().left;this.hoverPosition=Math.min(1,Math.max(e/this.mediaControl.$seekBarContainer.width(),0))},e.prototype.getSeekTime=function(){var t=void 0,e=void 0;if(this.useActualLiveTime){var i=new Date((new Date).getTime()-this.actualLiveServerTimeDiff);e=(new Date(i)-i.setHours(0,0,0,0))/1e3,t=e-this.duration+this.hoverPosition*this.duration,t<0&&(t+=86400)}else t=this.hoverPosition*this.duration;return{seekTime:t,secondsSinceMidnight:e}},e.prototype.update=function(){if(this.rendered)if(this.shouldBeVisible()){var t=this.getSeekTime(),e=(0,h.formatTime)(t.seekTime,this.useActualLiveTime);if(e!==this.displayedSeekTime&&(this.$seekTimeEl.text(e),this.displayedSeekTime=e),this.durationShown){this.$durationEl.show();var i=(0,h.formatTime)(this.actualLiveTime?t.secondsSinceMidnight:this.duration,this.actualLiveTime);i!==this.displayedDuration&&(this.$durationEl.text(i),this.displayedDuration=i)}else this.$durationEl.hide();this.$el.show();var n=this.mediaControl.$seekBarContainer.width(),r=this.$el.width(),a=this.hoverPosition*n;a-=r/2,a=Math.max(0,Math.min(a,n-r)),this.$el.css("left",a)}else this.$el.hide(),this.$el.css("left","-100%")},e.prototype.shouldBeVisible=function(){return this.mediaControlContainer&&this.mediaControlContainer.settings.seekEnabled&&this.hoveringOverSeekBar&&null!==this.hoverPosition&&null!==this.duration},e.prototype.render=function(){this.rendered=!0,this.displayedDuration=null,this.displayedSeekTime=null,this.$el.html(this.template()),this.$el.hide(),this.mediaControl.$el.append(this.el),this.$seekTimeEl=this.$el.find("[data-seek-time]"),this.$durationEl=this.$el.find("[data-duration]"),this.$durationEl.hide(),this.update()},e}(f.default);e.default=k,t.exports=e.default},function(t,e){t.exports="<span data-seek-time></span>\n<span data-duration></span>\n"},function(t,e,i){var n=i(243);"string"==typeof n&&(n=[[t.i,n,""]]);var r={singleton:!0,hmr:!0};r.transform=void 0;i(14)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.seek-time[data-seek-time]{position:absolute;white-space:nowrap;height:20px;line-height:20px;font-size:0;left:-100%;bottom:55px;background-color:rgba(2,2,2,.5);z-index:9999;transition:opacity .1s ease}.seek-time[data-seek-time].hidden[data-seek-time]{opacity:0}.seek-time[data-seek-time] [data-seek-time]{display:inline-block;color:#fff;font-size:10px;padding-left:7px;padding-right:7px;vertical-align:top}.seek-time[data-seek-time] [data-duration]{display:inline-block;color:hsla(0,0%,100%,.5);font-size:10px;padding-right:7px;vertical-align:top}.seek-time[data-seek-time] [data-duration]:before{content:"|";margin-right:7px}',""])},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(6),s=n(o),l=i(3),u=n(l),c=i(4),d=n(c),h=i(35),p=n(h),f=i(8),y=n(f),g=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.bindEvents=function(){this.listenTo(this.core,y.default.CORE_CONTAINERS_CREATED,this.onContainersCreated)},e.prototype.onContainersCreated=function(){var t=this.core.containers.filter(function(t){return"no_op"!==t.playback.name})[0]||this.core.containers[0];t&&this.core.containers.forEach(function(e){e!==t&&e.destroy()})},(0,s.default)(e,[{key:"name",get:function(){return"sources"}}]),e}(p.default);e.default=g,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(6),s=n(o),l=i(3),u=n(l),c=i(4),d=n(c),h=i(8),p=n(h),f=i(35),y=n(f),g=i(11),v=function(t){function e(){return(0,a.default)(this,e),(0,u.default)(this,t.apply(this,arguments))}return(0,d.default)(e,t),e.prototype.bindEvents=function(){this.listenTo(this.core.mediaControl,p.default.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged);var t=this.core.getCurrentContainer();t&&(this.listenTo(t,p.default.CONTAINER_ENDED,this.ended),this.listenTo(t,p.default.CONTAINER_STOP,this.ended))},e.prototype.containerChanged=function(){this.stopListening(),this.bindEvents()},e.prototype.ended=function(){(void 0===this.core.options.exitFullscreenOnEnd||this.core.options.exitFullscreenOnEnd)&&g.Fullscreen.isFullscreen()&&this.core.toggleFullscreen()},(0,s.default)(e,[{key:"name",get:function(){return"end_video"}}]),e}(y.default);e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(36),a=n(r),o=i(1),s=n(o),l=i(3),u=n(l),c=i(6),d=n(c),h=i(4),p=n(h),f=i(11),y=i(7),g=n(y),v=i(35),m=n(v),b=function(t){function e(i){(0,s.default)(this,e);var n=(0,u.default)(this,t.call(this,i));return n._initializeMessages(),n}return(0,p.default)(e,t),(0,d.default)(e,[{key:"name",get:function(){return"strings"}}]),e.prototype.t=function(t){var e=this._language();return(e&&this._messages[e]||this._messages.en)[t]||t},e.prototype._language=function(){return this.core.options.language||(0,f.getBrowserLanguage)()},e.prototype._initializeMessages=function(){var t={en:{live:"live",back_to_live:"back to live",disabled:"Disabled",playback_not_supported:"Your browser does not support the playback of this video. Please try using a different browser."},pt:{live:"ao vivo",back_to_live:"voltar para o ao vivo",disabled:"Desativado",playback_not_supported:"Seu navegador no supporta a reproduo deste video. Por favor, tente usar um navegador diferente."},es:{live:"vivo",back_to_live:"volver en vivo",disabled:"Discapacitado",playback_not_supported:"Su navegador no soporta la reproduccin de un video. Por favor, trate de usar un navegador diferente."},ru:{live:" ",back_to_live:"  ",disabled:"",playback_not_supported:"      . ,   ."},fr:{live:"en direct",disabled:"Dsactiv",back_to_live:"retour au direct",playback_not_supported:"Votre navigateur ne supporte pas la lecture de cette vido. Merci de tenter sur un autre navigateur."},tr:{live:"canl",back_to_live:"canl yayna dn",disabled:"Engelli",playback_not_supported:"Taraycnz bu videoyu oynatma desteine sahip deil. Ltfen farkl bir tarayc ile deneyin."},et:{live:"Otselekanne",back_to_live:"Tagasi otselekande juurde",disabled:"Keelatud",playback_not_supported:"Teie brauser ei toeta selle video taasesitust. Proovige kasutada muud brauserit."}},e=this.core.options.strings||{};this._messages=(0,a.default)(t).reduce(function(i,n){return i[n]=g.default.extend({},t[n],e[n]),i},{}),this._messages["pt-BR"]=this._messages.pt,this._messages["en-US"]=this._messages.en,this._messages["es-419"]=this._messages.es,this._messages["fr-FR"]=this._messages.fr,this._messages["tr-TR"]=this._messages.tr,this._messages["et-EE"]=this._messages.et},e}(m.default);e.default=b,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),a=n(r),o=i(12),s=n(o),l={getStyleFor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{baseUrl:""};return(0,a.default)('<style class="clappr-style"></style>').html((0,s.default)(t.toString())(e))}};e.default=l,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAA05tZGF0AAACrgYF//+q3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCByMjYwMSBhMGNkN2QzIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTYgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAZmWIhAAz//727L4FNhTIUJcRLMXaSnA+KqSAgHc0wAAAAwAAAwAABIRT+ionVsXUeAAAAwJaAI4DRB2hXRFxCBHBniWEKHSMoAAAAwAAAwAAAwAAAwAAAwAAAwAAAwAAAwAAAwAJeQAAABJBmiJsQr/+OEAAAAMAAAMABUwAAAAQAZ5BeQr/AAADAAADAABHwQAAAzZtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAAeAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAACYHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAeAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAACgAAAAeAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAHgAAAQAAAEAAAAAAdhtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAADIAAAAGAFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAGDbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABQ3N0YmwAAACXc3RzZAAAAAAAAAABAAAAh2F2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAACgAHgAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwFkAB7/4QAYZ2QAHqzZQKA9oQAAAwABAAADADIPFi2WAQAGaOvjyyLAAAAAGHN0dHMAAAAAAAAAAQAAAAMAAAIAAAAAFHN0c3MAAAAAAAAAAQAAAAEAAAAoY3R0cwAAAAAAAAADAAAAAQAABAAAAAABAAAGAAAAAAEAAAIAAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAADAAAAAQAAACBzdHN6AAAAAAAAAAAAAAADAAADHAAAABYAAAAUAAAAFHN0Y28AAAAAAAAAAQAAADAAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjQwLjEwMQ==",t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",t.exports=e.default},function(t,e,i){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},writable:!0,configurable:!0}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if(0===n)return!1;for(var r=0|e,a=Math.max(r>=0?r:n-Math.abs(r),0);a<n;){if(i[a]===t)return!0;a++}return!1}})},function(t,e,i){"use strict";(function(n){function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(9),d=r(c),h=i(252),p=r(h),f=i(253),y=r(f),g=i(254),v=r(g),m=i(255),b=r(m),_=i(256),E=r(_),A=i(257),k=r(A),T=i(258),w=r(T),C=i(259),S=r(C),L=i(260),P=r(L),O=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type=Object.assign({},e.DEFAULT_MESSAGE,t.type),i.playerId=t.playerId,u.Mediator.on(i.playerId+":"+u.Events.PLAYER_RESIZE,i.resize,i),i}return s(e,t),l(e,[{key:"name",get:function(){return"player_error"}},{key:"template",get:function(){return(0,u.template)(y.default)}},{key:"attributes",get:function(){return{class:"player-error"}}}]),l(e,[{key:"setPoster",value:function(t){t.posterImage&&this.$el.css({"background-image":"url("+t.posterImage+")"})}},{key:"resize",value:function(t){t.width&&t.width<425?this.$el.find(".player-error__description").addClass("player-error--hide"):this.$el.find(".player-error__description").removeClass("player-error--hide")}},{key:"render",value:function(){var t=this,e=d.default.getStyleFrom(p.default,{playerId:this.playerId});return this.$el.html(this.template({title:this.type.title,description:this.type.description,className:this.type.className,icon:this.type.icon})),n.nextTick(function(){return t.resize({width:t.$el.width(),height:t.$el.height()})}),this.$el.append(e[0]),this}}]),e}(u.UIObject);e.default=O,Object.assign(O,{DEFAULT_MESSAGE:{title:"N&#227;o foi poss&#237;vel exibir o v&#237;deo.",description:'Ocorreu um problema ao tentar carregar o v&#237;deo. <a class="player-error__link"  href="" onclick="window.location.reload(); return false;">Atualize</a> a sua p&#225;gina para tentar novamente.',className:"default-error",code:"load-error",icon:v.default},SUBSCRIBERS_ONLY:{title:"Conte&#250;do exclusivo para assinantes.",description:"Voc&#234; precisa ser assinante para ter acesso ao conte&#250;do.",className:"subscriber-only",code:"AUT",icon:E.default},DEVICE_NOT_AUTHORIZED:{title:"Dispositivo n&#227;o autorizado.",description:"Voc&#234; precisa cadastrar seu dispositivo para ter acesso ao conte&#250;do exclusivo.",className:"unsupported-device",code:"DEV",icon:b.default},SIMULTANEOUS_ACCESS:{title:"Acesso Simult&#226;neo.",description:"Existem muitas sess&#245;es ativas utilizando esta conta. Por favor, pare de assistir em algum dispositivo para continuar.",className:"simultaneous-access",code:"simultaneous-access",icon:S.default},GEO_BLOCKED:{title:"V&#237;deo indispon&#237;vel nessa regi&#227;o",description:"Este v&#237;deo n&#227;o est&#225; dispon&#237;vel para ser exibido na sua regi&#227;o. Desculpe-nos pelo inconveniente.",className:"geoblocking",code:"GB",icon:k.default},NOT_FOUND:{title:"Conte&#250;do n&#227;o dispon&#237;vel.",description:"Infelizmente este v&#237;deo n&#227;o est&#225; mais dispon&#237;vel. Desculpe-nos pelo inconveniente.",className:"default-error",code:"NF",icon:v.default},DEVICE_NOT_SUPPORTED:{title:"Dispositivo n&#227;o suportado.",description:"Infelizmente, n&#227;o foi poss&#237;vel encontrar um v&#237;deo compat&#237;vel com o seu dispositivo.",className:"unsupported-device",code:"DNS",icon:b.default},STREAMING_PAUSE_TIME_EXPIRED:{title:"Sess&#227;o expirada.",description:'O v&#237;deo ficou pausado por muito tempo. Para voltar a assistir, <a class="player-error__link" href="" onclick="window.location.reload(); return false;">atualize</a> a p&#225;gina.',className:"time-expired",code:"streaming-pause-time-expired",icon:w.default},PLAYLIST_LOAD_ERROR:{title:"Erro ao carregar o recurso de v&#237;deo.",className:"default-error",code:"playlist-load-error",icon:v.default},HASH_LOAD_ERROR:{className:"default-error",code:"security-load-error",icon:v.default},UNSUPPORTED_MOBILE_DEVICE:{title:"Dispositivo n&#227;o suportado.",description:"Infelizmente, n&#227;o foi poss&#237;vel encontrar um v&#237;deo compat&#237;vel com o seu dispositivo.",className:"unsupported-device",code:"unsupported-mobile-device",icon:b.default},UNSUPPORTED_BROWSER:{title:"Seu navegador est&#225; velhinho.",description:"Para assistir aos nossos v&#237;deos, por favor, atualize-o para uma vers&#227;o mais nova.",className:"unsupported-browser",icon:P.default,code:"unsupported-browser"},LOCATION_UNAVAILABLE:{title:"Contedo disponvel apenas com informao de localizao.",code:"location-unavailable",icon:k.default},GEOFENCING:{title:"O vdeo no est disponvel nesta localidade",code:"geofencing",icon:k.default},NOT_ALLOWED_DOMAIN:{title:"N&#227;o foi poss&#237;vel exibir o v&#237;deo.",className:"default-error",code:"not-allowed-domain"},errorTemplate:'<div style="position: absolute; height: 100%; width: 100%; background-color: rgba(0, 0, 0, 0.5);"> </div>'}),t.exports=e.default}).call(e,i(22))},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .player-error{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#cccaca;position:absolute;top:0;height:100%;width:100%;background-color:rgba(0,0,0,.7);z-index:999;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.clappr-player#wp3-player-0 .player-error__background-overlay{width:100%;height:100%;background:rgba(0,0,0,.7);position:absolute;top:0}.clappr-player#wp3-player-0 .player-error__link,.clappr-player#wp3-player-0 .player-error__link:visited{color:#cccaca}.clappr-player#wp3-player-0 .player-error__content{position:relative;line-height:1.4}.clappr-player#wp3-player-0 .player-error__title{color:#cccaca;font-weight:700;font-size:18px}.clappr-player#wp3-player-0 .player-error__description{color:#cccaca;width:90%;margin:0 auto;font-size:14px}.clappr-player#wp3-player-0 .player-error__icon svg{width:30px;max-height:30px;fill:#fff}.clappr-player#wp3-player-0 .player-error__icon.unsupported-browser svg{width:40px}.clappr-player#wp3-player-0 .player-error--hide{display:none}",""])},function(t,e){t.exports='<div class="player-error__background-overlay"></div>\n<div class="player-error__content">\n  <span class="player-error__icon <%= className %>"><%= icon %></span>\n  <p class="player-error__title"><%= title %></p>\n  <p class="player-error__description"><%= description %></p>\n</div>\n'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector"><path d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921c-0.722,0-1.351,0.367-1.707,0.916l0,0 c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999c0,1.07,0.898,1.939,2.015,1.939 c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004c1.113,0,2.016-0.869,2.016-1.939 C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_" display="none"><path display="inline" fill="#CCCBCB" d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526 c-1.026-1.021-1.026-2.685,0-3.707c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g display="inline"><path fill="#CCCBCB" d="M23.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013 c1.215,0,1.561,0,4.561,0c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C18.776,6.412,21.035,6.409,23.341,6.386z"></path><path fill="#CCCBCB" d="M29.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C26.836,15.403,27.434,15.464,29.434,15.457z"></path><path fill="#CCCBCB" d="M28.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L28.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M38.618,3.387H6.309c-1.657,0-3,1.343-3,3v33.008c0,1.658,1.343,3,3,3h32.311 c1.656,0,3-1.342,3-3V6.387C41.618,4.73,40.275,3.387,38.618,3.387z M32.371,13.745c0,0.032-1.535,0.748-2.529,1.801 c-0.908,0.965-1.46,5.07-1.471,5.07c1.317,0,3.062,0,3.062,0s0,2.001,0,3.507c0,0.279-3.292,0.285-5.146,0.275 c-0.186,0-2.037,4.171-3.279,5.973c-1.604,2.322-3.759,3.744-6.474,4.349c-0.958,0.211-1.916,0.294-2.889,0.335 c-0.165,0.01-1.338-0.17-1.334-0.342c0.005-1.561,0.039-3.123,0.034-4.688c0-0.164,0.089-0.103,0.089-0.092 c0,0.017,0,0.036,0,0.052c1,0.104,4.33-0.785,5.325-1.809c0.364-0.37,1.775-2.266,2.091-2.805c0.19-0.332,1.627-3.421,1.9-4.141 c0.303-0.795,0.618-1.602,0.918-2.397c0.116-0.309,0.831-1.83,0.906-1.97c0.408-0.755,0.814-1.517,1.243-2.267 c0.239-0.421,0.509-0.83,0.798-1.216c1.606-2.158,3.36-3.726,5.94-4.406c0.938-0.249,0.938-0.249,0.938-0.249 C32.493,11.876,32.371,12.061,32.371,13.745z"></path></g><g id="vector_5_" display="none"><g display="inline"><g><path fill="#CCCBCB" d="M22.957,4.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V17.462C35.431,8.332,29.842,4.179,22.957,4.179z"></path></g></g><path display="inline" fill="#CCCBCB" d="M36.555,23.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903 c0,1.795,1.141,3.498,2.969,3.498h26.474c1.827,0,2.228-1.703,2.228-3.498V24.679C38.782,22.882,38.381,23.558,36.555,23.558z M23.446,35.267c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.018,4.017-4.018c2.218,0,4.016,1.799,4.016,4.018 C27.461,33.469,25.664,35.267,23.446,35.267z"></path></g><g id="vector_3_" display="none"><path display="inline" fill="#CCCBCB" d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_" display="none"><path display="inline" fill="#CCCBCB" d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136 c-1.004-0.994-1.004-2.599,0-3.589c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g display="inline"><path fill="#CCCBCB" d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path fill="#CCCBCB" d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector" display="none"><path display="inline" fill="#CCCBCB" d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921 c-0.722,0-1.351,0.367-1.707,0.916l0,0c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999 c0,1.07,0.898,1.939,2.015,1.939c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004 c1.113,0,2.016-0.869,2.016-1.939C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_" display="none"><path display="inline" fill="#CCCBCB" d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526 c-1.026-1.021-1.026-2.685,0-3.707c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g display="inline"><path fill="#CCCBCB" d="M24.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013 c1.215,0,1.561,0,4.561,0c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C19.776,6.412,22.035,6.409,24.341,6.386z"></path><path fill="#CCCBCB" d="M30.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C27.836,15.403,28.434,15.464,30.434,15.457z"></path><path fill="#CCCBCB" d="M29.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L29.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M40.294,3.616H8.433c-2.344,0-5-0.268-5,2.107v30.15c0,2.379,2.655,6.742,5,6.742h31.861 c2.345,0,1.14-4.363,1.14-6.742V5.723C41.434,3.349,42.639,3.616,40.294,3.616z M32.434,12.648c0,0.032,0.733,0.058,0.405,0.1 c-1.443,0.175-1.94,0.697-2.935,1.75c-0.907,0.965-1.46,5.118-1.471,5.118c1.318,0,3,0,3,0s0,1.904,0,3.411 c0,0.279,0.48,0.279,0.211,0.279c-1.854,0-3.472,0.005-5.327-0.004c-0.185,0-2.021,4.171-3.264,5.973 c-1.604,2.322-3.751,3.743-6.466,4.349c-0.958,0.211-1.912,0.293-2.884,0.334c-0.165,0.01-0.211-0.037-0.208-0.209 c0.005-1.56,0.008-3.123,0.003-4.688c0-0.164-0.555-0.307-0.304-0.264c-0.071,0.017-0.763,0.029-0.763,0.039 c0,0.017,0,0.035,0,0.052c0,0,0.84,0.006,0.976,0c1.58-0.095,3.26-0.655,4.381-1.808c0.363-0.371,1.791-2.267,2.105-2.807 c0.19-0.331,1.635-3.421,1.908-4.14c0.303-0.795,0.622-1.602,0.922-2.397c0.116-0.309,0.833-1.83,0.908-1.97 c0.409-0.755,0.816-1.517,1.245-2.267c0.239-0.421,0.508-0.83,0.797-1.216c1.607-2.158,3.362-3.726,5.941-4.406 c0.938-0.249,0.815-0.551,0.815-0.551C32.434,10.478,32.434,10.964,32.434,12.648z"></path></g><g id="vector_5_" display="none"><g display="inline"><g><path fill="#CCCBCB" d="M22.957,5.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V18.462C35.431,9.332,29.842,5.179,22.957,5.179z"></path></g></g><path display="inline" fill="#CCCBCB" d="M36.555,14.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903 c0,1.795,1.141,3.498,2.969,3.498h26.474c1.827,0,2.228-1.703,2.228-3.498V15.679C38.782,13.882,38.381,14.558,36.555,14.558z M23.446,26.267c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.017,4.017-4.017c2.218,0,4.016,1.798,4.016,4.017 C27.461,24.469,25.664,26.267,23.446,26.267z"></path></g><g id="vector_3_" display="none"><path display="inline" fill="#CCCBCB" d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_"><path d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136c-1.004-0.994-1.004-2.599,0-3.589 c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g><path d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector" display="none"><path display="inline" fill="#CCCBCB" d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921 c-0.722,0-1.351,0.367-1.707,0.916l0,0c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999 c0,1.07,0.898,1.939,2.015,1.939c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004 c1.113,0,2.016-0.869,2.016-1.939C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_" display="none"><path display="inline" fill="#CCCBCB" d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526 c-1.026-1.021-1.026-2.685,0-3.707c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g display="inline"><path fill="#CCCBCB" d="M24.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013 c1.215,0,1.561,0,4.561,0c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C19.776,6.412,22.035,6.409,24.341,6.386z"></path><path fill="#CCCBCB" d="M30.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C27.836,15.403,28.434,15.464,30.434,15.457z"></path><path fill="#CCCBCB" d="M29.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L29.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M40.294,3.616H8.433c-2.344,0-5-0.268-5,2.107v30.15c0,2.379,2.655,6.742,5,6.742h31.861 c2.345,0,1.14-4.363,1.14-6.742V5.723C41.434,3.349,42.639,3.616,40.294,3.616z M32.434,12.648c0,0.032,0.733,0.058,0.405,0.1 c-1.443,0.175-1.94,0.697-2.935,1.75c-0.907,0.965-1.46,5.118-1.471,5.118c1.318,0,3,0,3,0s0,1.904,0,3.411 c0,0.279,0.48,0.279,0.211,0.279c-1.854,0-3.472,0.005-5.327-0.004c-0.185,0-2.021,4.171-3.264,5.973 c-1.604,2.322-3.751,3.743-6.466,4.349c-0.958,0.211-1.912,0.293-2.884,0.334c-0.165,0.01-0.211-0.037-0.208-0.209 c0.005-1.56,0.008-3.123,0.003-4.688c0-0.164-0.555-0.307-0.304-0.264c-0.071,0.017-0.763,0.029-0.763,0.039 c0,0.017,0,0.035,0,0.052c0,0,0.84,0.006,0.976,0c1.58-0.095,3.26-0.655,4.381-1.808c0.363-0.371,1.791-2.267,2.105-2.807 c0.19-0.331,1.635-3.421,1.908-4.14c0.303-0.795,0.622-1.602,0.922-2.397c0.116-0.309,0.833-1.83,0.908-1.97 c0.409-0.755,0.816-1.517,1.245-2.267c0.239-0.421,0.508-0.83,0.797-1.216c1.607-2.158,3.362-3.726,5.941-4.406 c0.938-0.249,0.815-0.551,0.815-0.551C32.434,10.478,32.434,10.964,32.434,12.648z"></path></g><g id="vector_5_"><g><g><path d="M22.957,4.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V17.462C35.431,8.332,29.842,4.179,22.957,4.179z"></path></g></g><path d="M36.555,23.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903c0,1.795,1.141,3.498,2.969,3.498h26.474 c1.827,0,2.228-1.703,2.228-3.498V24.679C38.782,22.882,38.381,23.558,36.555,23.558z M23.446,35.267 c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.018,4.017-4.018c2.218,0,4.016,1.799,4.016,4.018 C27.461,33.469,25.664,35.267,23.446,35.267z"></path></g><g id="vector_3_" display="none"><path display="inline" fill="#CCCBCB" d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_" display="none"><path display="inline" fill="#CCCBCB" d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136 c-1.004-0.994-1.004-2.599,0-3.589c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g display="inline"><path fill="#CCCBCB" d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path fill="#CCCBCB" d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.7 45.8" enable-background="new 0 0 45.7 45.8" xml:space="preserve"><g id="Layer_1_1_" display="none"><g id="vector" display="inline"><path fill="#CCCBCB" d="M45.3,38.3L45.3,38.3L24.7,5.2l0,0c-0.4-0.6-1-0.9-1.7-0.9c-0.7,0-1.4,0.4-1.7,0.9l0,0 C16,13.6,0.6,38.3,0.6,38.3v0c-0.2,0.3-0.3,0.6-0.3,1c0,1.1,0.9,1.9,2,1.9c0,0,0.1,0,0.1,0l0,0h41.1v0c0,0,0,0,0,0 c1.1,0,2-0.9,2-1.9C45.6,38.9,45.5,38.6,45.3,38.3z M24.2,13.7c1.5,0.5,2.4,1.9,2.2,3.6c-0.2,1.7-0.6,3.4-0.8,5.1 c-0.3,2-0.6,4.1-1,6.2c-1.1,0-2.1,0-3.2,0c-0.3-2.2-0.7-4.3-1-6.4c-0.2-1.4-0.5-2.8-0.8-4.3C19.1,15,21.4,12.8,24.2,13.7z M23,37.2c-1.9,0-3.5-1.5-3.4-3.3c0-0.7,0.3-1.4,0.7-1.9c0.6-0.8,1.7-1.3,2.8-1.3c1.9,0,3.5,1.5,3.4,3.3 C26.4,35.7,24.9,37.2,23,37.2z"></path></g><g id="vector_2_" display="inline"><path fill="#CCCBCB" d="M44.9,44.7c-1,1-2.7,1-3.7,0L1,4.5c-1-1-1-2.7,0-3.7c1-1,2.7-1,3.7,0L44.9,41C45.9,42,45.9,43.7,44.9,44.7 z"></path><g><path fill="#CCCBCB" d="M24.3,6.4c0.8,0,1.6,0.4,1.6,1.2c0,1.5,0,3,0,6c1.2,0,1.6,0,4.6,0c0-3,0-5.6,0-7.5c0-2.5-1.5-3.3-3.9-3.3 c-4.1,0-8.5,0-12.6,0l3.6,3.6C19.8,6.4,22,6.4,24.3,6.4z"></path><path fill="#CCCBCB" d="M30.4,15.5C30.4,15.5,30.4,15.5,30.4,15.5c0,0,0.6,0,1.4,0c0.8,0,0.8,0.3,0.8,1.1c0,1.7-0.1,3.3-0.1,5 l3.6,3.6c0-3.3,0-6.7,0-10c0-2.5-0.7-3.3-3.1-3.3c-1.3,0-2.6,0-3.5,0l0,0c-1.4,0-2.7,0-4.1,0c-0.7,0-1.6,0-2.6,0.1l3.7,3.5 C27.8,15.4,28.4,15.5,30.4,15.5z"></path><path fill="#CCCBCB" d="M29.1,37.3c-0.9,0-1.8,0-2.7,0c-1.6,0-2.9,0-4.6,0c-1.7,0-1.7-0.8-1.7-0.8c0-5,0.2-4.5,0.2-6.6l-3.9-4.7 c0,1.2,0.1,2.1,0.1,3.3c-0.8,0-1.8,0.1-2.3,0.1c-0.8,0-1-0.6-1-1.4c0-1.9,0-3.9,0-5.8L9.7,18c0,0.5,0,0.8,0,0.8 c0,3.8,0,7.8,0,11.9c0,2.5,0.5,3.1,3,3.1c0.9,0,2.8-0.1,3.9-0.1c0.1,2.6,0.1,4.7,0.1,5.9c0,2.2,0.6,3,2.4,3.2c0.3,0,0.5,0,0.9,0 c4.3,0,8.7,0,13,0c0.5,0,1-0.1,1.4-0.2L29.1,37.3z"></path></g></g><g id="vector_4_" display="inline"><path fill="#CCCBCB" d="M40.3,3.6H8.4c-2.3,0-5-0.3-5,2.1v30.2c0,2.4,2.7,6.7,5,6.7h31.9c2.3,0,1.1-4.4,1.1-6.7V5.7 C41.4,3.3,42.6,3.6,40.3,3.6z M32.4,12.6c0,0,0.7,0.1,0.4,0.1c-1.4,0.2-1.9,0.7-2.9,1.8c-0.9,1-1.5,5.1-1.5,5.1c1.3,0,3,0,3,0 s0,1.9,0,3.4c0,0.3,0.5,0.3,0.2,0.3c-1.9,0-3.5,0-5.3,0c-0.2,0-2,4.2-3.3,6c-1.6,2.3-3.8,3.7-6.5,4.3c-1,0.2-1.9,0.3-2.9,0.3 c-0.2,0-0.2,0-0.2-0.2c0-1.6,0-3.1,0-4.7c0-0.2-0.6-0.3-0.3-0.3c-0.1,0-0.8,0-0.8,0c0,0,0,0,0,0.1c0,0,0.8,0,1,0 c1.6-0.1,3.3-0.7,4.4-1.8c0.4-0.4,1.8-2.3,2.1-2.8c0.2-0.3,1.6-3.4,1.9-4.1c0.3-0.8,0.6-1.6,0.9-2.4c0.1-0.3,0.8-1.8,0.9-2 c0.4-0.8,0.8-1.5,1.2-2.3c0.2-0.4,0.5-0.8,0.8-1.2c1.6-2.2,3.4-3.7,5.9-4.4c0.9-0.2,0.8-0.6,0.8-0.6C32.4,10.5,32.4,11,32.4,12.6z "></path></g><g id="vector_5_" display="inline"><g><g><path fill="#CCCBCB" d="M23,5.2c-6.9,0-12.5,4.2-12.5,13.3v11.2c0,5.5,4.3,8.7,9.3,9.7c-2.8-1.6-5-5.1-5-10.2v-7.4 c0-6.8,3.7-12.2,8.2-12.2c4.5,0,8.2,5.5,8.2,12.2v7.4c0,5.1-1.7,8.4-3.9,10c4.5-1.2,8.2-4.3,8.2-9.4V18.5 C35.4,9.3,29.8,5.2,23,5.2z"></path></g></g><path fill="#CCCBCB" d="M36.6,14.6H10.1c-1.8,0-3-0.7-3,1.1v11.9c0,1.8,1.1,3.5,3,3.5h26.5c1.8,0,2.2-1.7,2.2-3.5V15.7 C38.8,13.9,38.4,14.6,36.6,14.6z M23.4,26.3c-2.2,0-4-1.8-4-4c0-2.2,1.8-4,4-4c2.2,0,4,1.8,4,4C27.5,24.5,25.7,26.3,23.4,26.3z"></path></g><g id="vector_3_" display="inline"><path fill="#CCCBCB" d="M34.1,35.6c-0.3,0-0.6,0-0.9,0c-0.3-2.5,0.4-5-0.6-7.4c-1-2.3-2.6-4.1-4.3-5.8c1.7-1.7,3.3-3.4,4.3-5.7 c1-2.3,0.4-4.8,0.7-7.3c0.3,0,0.6,0,0.9,0c0.8-0.1,1.3-0.6,1.4-1.4c0-0.8-0.5-1.3-1.4-1.3c-0.1,0-22.1,0-22.3,0 c-0.8,0.1-1.2,0.6-1.2,1.4c0,0.8,0.5,1.3,1.3,1.4c0.4,0,0.8,0,1.3,0c0,1.4,0,2.7,0,4.1c0,1.9,0.5,3.6,1.5,5.1c1,1.4,2.1,2.6,3.2,4 c-1.6,1.6-3.2,3.4-4.1,5.6c-1,2.3-0.3,4.8-0.6,7.3c-0.5,0-0.9-0.1-1.4,0c-0.7,0.1-1.1,0.6-1.1,1.3c0,0.8,0.4,1.6,1.1,1.8 c0.2,0,22.4,0,22.5,0c0.8-0.1,1.3-0.8,1.3-1.6C35.4,36.4,34.9,35.7,34.1,35.6z M17,10.4c4,0,7.9,0,11.9,0c0.2,0,0.1,3.7-0.5,4.5 c-1.5,2.2-3.5,4.4-5.5,6.2c-2-1.7-3.9-4.2-5.3-6.4C16.9,13.8,16.8,10.4,17,10.4z M28.9,34.5c-4,0-7.9,0-11.9,0 c-0.2,0-0.1-3.4,0.5-4.2c1.5-2.2,3.5-3.8,5.5-5.6c2,1.7,3.9,3.5,5.3,5.7C29,31.3,29.1,34.5,28.9,34.5z"></path></g><g id="vector_1_" display="inline"><path fill="#CCCBCB" d="M44.5,44c-1,1-2.6,1-3.6,0L1.4,5.1c-1-1-1-2.6,0-3.6c1-1,2.6-1,3.6,0l39.4,38.8C45.5,41.4,45.5,43,44.5,44 z"></path><g><path fill="#CCCBCB" d="M16.5,34.5c-1,0-1.3-0.3-1.3-1.3c0-3.2,0-5.8,0-8.3L11.4,21c0,1.5,0,3,0,4.2c0,0-0.2,9.9-0.2,14.8 c0,3,0.8,4.1,3.8,4.1c5.3,0,10.4,0.1,15.7,0.1c1.5,0,2.5-0.3,3-1l-8.8-8.7C22.1,34.5,19.3,34.5,16.5,34.5z"></path><path fill="#CCCBCB" d="M28.7,11.7c1,0,1.3,0.3,1.3,1.3c0,2.4,0,4.8,0,7.2l4.4,4.4c0-4.4,0-8.8,0-13.2c0-3-1-3.9-4-3.9 c-4.5,0-9,0-13.5,0l4.4,4.3C23.8,11.7,26.2,11.7,28.7,11.7z"></path></g></g><g id="Layer_7" display="inline"></g></g><g id="Layer_2"><g><g><path d="M28.5,25.6l0.1-2c0-5.9,4.2-7.6,8.7-7.6c1.1,0,2.2,0.2,3.2,0.5c-0.9-2.9-2.5-5.5-4.9-7.8c-3.9-3.9-8.5-5.8-14-5.8 c-5.3,0-9.9,1.9-13.7,5.6c1.3,0.4,3,1,5.1,1.9c0.2,0.1-0.1,0.4-0.1,0.6c0,0.6,0.5,0.9,1.1,0.7c0.6-0.2,1.1-0.6,1.6-0.9 c0.8-0.4,1.6-0.7,2.5-0.6c0.5,0.1,0.9,0.4,0.8,0.9c0,0.4-0.2,0.8-0.3,1.3c-0.2,0.5-0.4,0.9-0.5,1.3c-0.1,0.5,0.1,0.7,0.6,0.5 c0.4-0.2,0.7-0.4,1.1-0.6c0.7-0.4,1.3-0.1,1.6,0.6c0.1,0.4,0.1,0.8-0.2,1.1c-0.3,0.4-0.6,0.8-0.9,1.2c-0.6,0.7-1.1,1.4-1.3,2.3 c-0.1,0.5-0.3,1.3-0.5,1.7c-0.1,0.2-0.2,0.8-0.3,0.8c0,0-0.1,0-0.1,0c-0.1,0-0.2-0.9-0.3-1.2c-0.3-0.9-0.7-1.4-1.6-1.5 c-0.3,0-0.6-0.1-0.8-0.1c-1,0.1-1.7,0.6-1.8,1.5c-0.2,1.3,0.8,2.8,2,3.1c0.7,0.1,1.3,0.1,2,0.1c0.6,0,1.3-0.1,1.9,0 c1.3,0,2.3,0.6,2.9,1.8c0.6,1.1,0.8,2.3,0.7,3.5c-0.1,1.3-0.6,2.3-1.7,3c-0.4,0.2-0.7,0.5-1,0.8c-0.5,0.4-0.8,1-0.9,1.7 c-0.2,1.3-0.9,2.4-1.8,3.4c0,0.1-0.1,0.1-0.2,0.1c-0.2,0.1-0.4,0.1-0.6-0.1c-0.1-0.1-0.3-0.3-0.4-0.4c-0.7-0.5-1.1-1.1-1.3-1.9 c-0.2-1-0.4-2.1-0.5-3.2c-0.2-1.4-0.7-2.7-1.9-3.6c-0.2-0.1-0.3-0.3-0.5-0.4c-1-0.9-1-2.2-0.1-3.2c0.2-0.3,0.5-0.5,0.7-0.8 c0.4-0.5,0.4-1.1,0-1.6c-0.3-0.4-0.7-0.8-1.1-1c-1.2-0.7-2.5-1.4-4-0.7c-0.3,0.1-0.5,0-0.6-0.3c-0.2-0.4-0.3-0.8-0.4-1.2 c-0.1-0.7,0-1.4,0-2c0-0.9-0.1-1.8-0.5-2.7c-0.1-0.2-0.8-1-1.5-2c-1.9,3.1-2.9,6.5-2.9,10.4c0,5.5,1.9,10.1,5.8,14 c3.9,3.9,8.5,6.4,14,6.4c4.8,0,9-0.9,12.6-3.9h-5.7c-1.2,0-1.7-2.2-1.7-3.4v-7.8C26.9,26.8,27.3,27.3,28.5,25.6z"></path></g></g><g><g><g><path d="M37.2,19.6c-3.2,0-5.7,1.9-5.7,6.1v5.1c0,6.1,11.4,6.1,11.4,0v-5.1C42.9,21.5,40.4,19.6,37.2,19.6z M40.5,29.7 c0,6.3-6.5,5.5-6.5,0v-2.9c0-2.7,1.4-4.8,3.3-4.8c1.8,0,3.2,2.2,3.2,4.8V29.7z"></path></g></g><path d="M43.2,28.1H31.1c-0.8,0-1.3-0.2-1.3,0.7v5.4c0,0.8,0.5,1.9,1.3,1.9h12.1c0.8,0,0.6-1.1,0.6-1.9v-5.4 C43.9,27.9,44.1,28.1,43.2,28.1z M37.3,33.6c-0.9,0-1.6-0.7-1.6-1.6c0-0.9,0.7-1.6,1.6-1.6c0.9,0,1.6,0.7,1.6,1.6 S38.2,33.6,37.3,33.6z"></path></g></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector" display="none"><path display="inline" fill="#CCCBCB" d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921 c-0.722,0-1.351,0.367-1.707,0.916l0,0c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999 c0,1.07,0.898,1.939,2.015,1.939c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004 c1.113,0,2.016-0.869,2.016-1.939C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_" display="none"><path display="inline" fill="#CCCBCB" d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526 c-1.026-1.021-1.026-2.685,0-3.707c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g display="inline"><path fill="#CCCBCB" d="M24.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013 c1.215,0,1.561,0,4.561,0c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C19.776,6.412,22.035,6.409,24.341,6.386z"></path><path fill="#CCCBCB" d="M30.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C27.836,15.403,28.434,15.464,30.434,15.457z"></path><path fill="#CCCBCB" d="M29.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L29.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M40.294,3.616H8.433c-2.344,0-5-0.268-5,2.107v30.15c0,2.379,2.655,6.742,5,6.742h31.861 c2.345,0,1.14-4.363,1.14-6.742V5.723C41.434,3.349,42.639,3.616,40.294,3.616z M32.434,12.648c0,0.032,0.733,0.058,0.405,0.1 c-1.443,0.175-1.94,0.697-2.935,1.75c-0.907,0.965-1.46,5.118-1.471,5.118c1.318,0,3,0,3,0s0,1.904,0,3.411 c0,0.279,0.48,0.279,0.211,0.279c-1.854,0-3.472,0.005-5.327-0.004c-0.185,0-2.021,4.171-3.264,5.973 c-1.604,2.322-3.751,3.743-6.466,4.349c-0.958,0.211-1.912,0.293-2.884,0.334c-0.165,0.01-0.211-0.037-0.208-0.209 c0.005-1.56,0.008-3.123,0.003-4.688c0-0.164-0.555-0.307-0.304-0.264c-0.071,0.017-0.763,0.029-0.763,0.039 c0,0.017,0,0.035,0,0.052c0,0,0.84,0.006,0.976,0c1.58-0.095,3.26-0.655,4.381-1.808c0.363-0.371,1.791-2.267,2.105-2.807 c0.19-0.331,1.635-3.421,1.908-4.14c0.303-0.795,0.622-1.602,0.922-2.397c0.116-0.309,0.833-1.83,0.908-1.97 c0.409-0.755,0.816-1.517,1.245-2.267c0.239-0.421,0.508-0.83,0.797-1.216c1.607-2.158,3.362-3.726,5.941-4.406 c0.938-0.249,0.815-0.551,0.815-0.551C32.434,10.478,32.434,10.964,32.434,12.648z"></path></g><g id="vector_5_" display="none"><g display="inline"><g><path fill="#CCCBCB" d="M22.957,5.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V18.462C35.431,9.332,29.842,5.179,22.957,5.179z"></path></g></g><path display="inline" fill="#CCCBCB" d="M36.555,14.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903 c0,1.795,1.141,3.498,2.969,3.498h26.474c1.827,0,2.228-1.703,2.228-3.498V15.679C38.782,13.882,38.381,14.558,36.555,14.558z M23.446,26.267c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.017,4.017-4.017c2.218,0,4.016,1.798,4.016,4.017 C27.461,24.469,25.664,26.267,23.446,26.267z"></path></g><g id="vector_3_"><path d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_" display="none"><path display="inline" fill="#CCCBCB" d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136 c-1.004-0.994-1.004-2.599,0-3.589c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g display="inline"><path fill="#CCCBCB" d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path fill="#CCCBCB" d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 45.695 45.782" enable-background="new 0 0 45.695 45.782" xml:space="preserve"><g id="vector" display="none"><path display="inline" fill="#CCCBCB" d="M45.272,38.282L45.272,38.282L24.659,5.224l0,0c-0.356-0.55-0.987-0.921-1.716-0.921 c-0.722,0-1.351,0.367-1.707,0.916l0,0c-5.22,8.377-20.606,33.05-20.606,33.05v0.004c-0.186,0.289-0.294,0.634-0.294,0.999 c0,1.07,0.898,1.939,2.015,1.939c0.027,0,0.054-0.008,0.082-0.008l0.004,0.008h41.085v-0.004c0.011,0,0.02,0.004,0.021,0.004 c1.113,0,2.016-0.869,2.016-1.939C45.559,38.911,45.452,38.572,45.272,38.282z M24.174,13.673c1.476,0.464,2.424,1.896,2.221,3.591 c-0.203,1.723-0.555,3.428-0.826,5.145c-0.323,2.036-0.624,4.071-0.951,6.185c-1.11,0-2.138,0-3.177,0 c-0.347-2.168-0.673-4.303-1.031-6.431c-0.239-1.422-0.524-2.838-0.791-4.257C19.066,14.951,21.386,12.789,24.174,13.673z M22.98,37.174c-1.914,0-3.455-1.479-3.448-3.324c0.005-0.702,0.259-1.352,0.678-1.883c0.632-0.811,1.655-1.344,2.78-1.344 c1.913-0.004,3.452,1.487,3.438,3.332C26.416,35.736,24.886,37.167,22.98,37.174z"></path></g><g id="vector_2_"><path d="M44.886,44.697c-1.023,1.025-2.684,1.025-3.71,0L1.009,4.526c-1.026-1.021-1.026-2.685,0-3.707 c1.023-1.028,2.684-1.028,3.709,0l40.168,40.168C45.912,42.013,45.912,43.67,44.886,44.697z"></path><g><path d="M23.341,6.386c0.821-0.008,1.574,0.409,1.568,1.217c-0.016,1.454-0.036,3.013-0.036,6.013c1.215,0,1.561,0,4.561,0 c0-3,0-5.613,0-7.525c0-2.509-1.47-3.31-3.948-3.314c-4.139-0.012-8.458-0.012-12.601-0.017l3.582,3.64 C18.776,6.412,21.035,6.409,23.341,6.386z"></path><path d="M29.434,15.457c0,0,0,0,0,0.003c0-0.008,0.646-0.008,1.427-0.014c0.804-0.003,0.849,0.274,0.845,1.075 c-0.02,1.672-0.08,3.349-0.094,5.021l3.6,3.628c0.022-3.341,0.037-6.678,0.037-10.02c0-2.507-0.671-3.314-3.149-3.317 c-1.263-0.004-2.558-0.001-3.539-0.004l0,0c-1.379-0.002-2.719-0.005-4.094-0.005c-0.688,0-1.641,0.028-2.569,0.061l3.726,3.494 C26.836,15.403,27.434,15.464,29.434,15.457z"></path><path d="M28.083,37.331c-0.903-0.008-1.809-0.02-2.708-0.02c-1.645,0-2.94,0.029-4.583,0.025 c-1.747-0.004-1.738-0.754-1.738-0.754c0.004-5,0.155-4.457,0.155-6.563l-3.886-4.667c0.027,1.189,0.095,2.059,0.122,3.268 c-0.804,0.006-1.816,0.084-2.274,0.088c-0.792,0.013-1.008-0.559-1.002-1.401c0.008-1.923,0.022-3.892,0.034-5.81l-3.516-3.538 c-0.019,0.509-0.026,0.797-0.026,0.797c0,3.753-0.001,7.828,0.004,11.912c0,2.504,0.535,3.131,3.02,3.138 c0.865,0.003,2.8-0.075,3.925-0.124c0.058,2.576,0.097,4.729,0.098,5.886c0,2.192,0.6,2.985,2.413,3.177 c0.258,0.028,0.542-0.002,0.853-0.002c4.332,0.014,8.662-0.01,12.994-0.007c0.531,0,0.977-0.055,1.36-0.161L28.083,37.331z"></path></g></g><g id="vector_4_" display="none"><path display="inline" fill="#CCCBCB" d="M38.618,3.387H6.309c-1.657,0-3,1.343-3,3v33.008c0,1.658,1.343,3,3,3h32.311 c1.656,0,3-1.342,3-3V6.387C41.618,4.73,40.275,3.387,38.618,3.387z M32.371,13.745c0,0.032-1.535,0.748-2.529,1.801 c-0.908,0.965-1.46,5.07-1.471,5.07c1.317,0,3.062,0,3.062,0s0,2.001,0,3.507c0,0.279-3.292,0.285-5.146,0.275 c-0.186,0-2.037,4.171-3.279,5.973c-1.604,2.322-3.759,3.744-6.474,4.349c-0.958,0.211-1.916,0.294-2.889,0.335 c-0.165,0.01-1.338-0.17-1.334-0.342c0.005-1.561,0.039-3.123,0.034-4.688c0-0.164,0.089-0.103,0.089-0.092 c0,0.017,0,0.036,0,0.052c1,0.104,4.33-0.785,5.325-1.809c0.364-0.37,1.775-2.266,2.091-2.805c0.19-0.332,1.627-3.421,1.9-4.141 c0.303-0.795,0.618-1.602,0.918-2.397c0.116-0.309,0.831-1.83,0.906-1.97c0.408-0.755,0.814-1.517,1.243-2.267 c0.239-0.421,0.509-0.83,0.798-1.216c1.606-2.158,3.36-3.726,5.94-4.406c0.938-0.249,0.938-0.249,0.938-0.249 C32.493,11.876,32.371,12.061,32.371,13.745z"></path></g><g id="vector_5_" display="none"><g display="inline"><g><path fill="#CCCBCB" d="M22.957,4.179c-6.904,0-12.493,4.152-12.493,13.283v11.199c0,5.51,4.287,8.729,9.307,9.674 c-2.807-1.61-5.027-5.127-5.027-10.25v-7.414c0-6.755,3.661-12.231,8.216-12.231c4.511,0,8.194,5.476,8.194,12.231v7.414 c0,5.117-1.674,8.379-3.949,10.006c4.539-1.184,8.229-4.32,8.229-9.43V17.462C35.431,8.332,29.842,4.179,22.957,4.179z"></path></g></g><path display="inline" fill="#CCCBCB" d="M36.555,23.558H10.081c-1.828,0-2.969-0.675-2.969,1.121v11.903 c0,1.795,1.141,3.498,2.969,3.498h26.474c1.827,0,2.228-1.703,2.228-3.498V24.679C38.782,22.882,38.381,23.558,36.555,23.558z M23.446,35.267c-2.219,0-4.017-1.798-4.017-4.015c0-2.219,1.798-4.018,4.017-4.018c2.218,0,4.016,1.799,4.016,4.018 C27.461,33.469,25.664,35.267,23.446,35.267z"></path></g><g id="vector_3_" display="none"><path display="inline" fill="#CCCBCB" d="M34.12,35.643c-0.285-0.025-0.573-0.048-0.889-0.048c-0.316-2.489,0.356-5.019-0.644-7.36 c-0.976-2.29-2.576-4.057-4.304-5.764c1.711-1.707,3.295-3.446,4.281-5.69c1.018-2.311,0.364-4.787,0.662-7.279 c0.335,0,0.601,0.018,0.859-0.004c0.817-0.067,1.342-0.619,1.35-1.414c0.01-0.827-0.537-1.275-1.402-1.332 c-0.146-0.009-22.139-0.014-22.342,0.013c-0.752,0.097-1.237,0.607-1.234,1.37c0.005,0.765,0.497,1.277,1.256,1.352 c0.399,0.042,0.805,0.007,1.313,0.007c0,1.422,0.023,2.749-0.004,4.078c-0.042,1.875,0.456,3.582,1.513,5.056 c0.982,1.371,2.086,2.644,3.17,4.005c-1.609,1.622-3.17,3.37-4.118,5.636c-0.979,2.338-0.324,4.838-0.646,7.312 c-0.499,0-0.945-0.062-1.371,0.014c-0.684,0.121-1.09,0.594-1.106,1.348c-0.021,0.801,0.391,1.615,1.109,1.792 c0.195,0.048,22.397,0.039,22.514,0.029c0.815-0.072,1.342-0.796,1.349-1.589C35.445,36.379,34.926,35.715,34.12,35.643z M17.009,10.403c3.966,0,7.907,0,11.875,0c0.169,0,0.1,3.687-0.472,4.513c-1.547,2.235-3.539,4.395-5.545,6.213 c-1.979-1.691-3.883-4.215-5.326-6.393C16.936,13.819,16.829,10.403,17.009,10.403z M28.885,34.517c-3.967,0-7.907,0-11.875,0 c-0.169,0-0.1-3.386,0.472-4.211c1.547-2.235,3.539-3.772,5.545-5.591c1.979,1.691,3.883,3.518,5.326,5.695 C28.959,31.327,29.065,34.517,28.885,34.517z"></path></g><g id="vector_1_" display="none"><path display="inline" fill="#CCCBCB" d="M44.479,43.969c-1.006,0.992-2.636,0.992-3.642,0L1.413,5.136 c-1.004-0.994-1.004-2.599,0-3.589c1.008-0.993,2.636-0.993,3.643,0L44.48,40.385C45.485,41.377,45.485,42.98,44.479,43.969z"></path><g display="inline"><path fill="#CCCBCB" d="M16.546,34.493c-0.961,0.01-1.326-0.262-1.325-1.27c0.016-3.178,0.046-5.826,0.004-8.35l-3.792-3.853 c0,1.537,0,2.963,0,4.159c0,0-0.247,9.863-0.241,14.75c0,2.994,0.761,4.139,3.773,4.146c5.258,0.014,10.425,0.112,15.686,0.116 c1.493,0,2.451-0.313,3.038-1.028l-8.815-8.686C22.1,34.465,19.314,34.467,16.546,34.493z"></path><path fill="#CCCBCB" d="M28.656,11.656c0.994-0.007,1.321,0.32,1.311,1.29c-0.022,2.392,0.016,4.782,0.019,7.179l4.448,4.355 c0-4.402,0-8.798,0-13.204c0-3.002-0.978-3.934-3.993-3.937c-4.484-0.018-8.98-0.018-13.465-0.02l4.396,4.34 C23.802,11.673,26.227,11.682,28.656,11.656z"></path></g></g><g id="Layer_7" display="none"></g></svg>'},function(t,e){t.exports='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 94.054 58.925" enable-background="new 0 0 94.054 58.925" xml:space="preserve"><g><path d="M89.057,0H13.051c-2.755,0-4.997,2.242-4.997,4.997v14.44C3.515,20.05,0,23.941,0,28.646v28.278c0,1.104,0.896,2,2,2 s2-0.896,2-2V28.646c0-2.492,1.734-4.574,4.054-5.139v30.421c0,2.755,2.241,4.996,4.997,4.996h76.006 c2.756,0,4.997-2.241,4.997-4.996V4.997C94.054,2.242,91.812,0,89.057,0z M23.054,3c1.105,0,2,0.896,2,2s-0.895,2-2,2 c-1.104,0-2-0.896-2-2S21.95,3,23.054,3z M18.054,3c1.104,0,2,0.896,2,2s-0.896,2-2,2s-2-0.896-2-2S16.95,3,18.054,3z M13.054,3 c1.104,0,2,0.896,2,2s-0.896,2-2,2s-2-0.896-2-2S11.95,3,13.054,3z M91.054,53.929c0,1.102-0.894,1.996-1.997,1.996H13.051 c-1.103,0-1.997-0.895-1.997-1.996V23.663c2.062,0.728,3.552,2.676,3.552,4.983c0,1.104,0.896,2,2,2s2-0.896,2-2 c0-4.531-3.257-8.311-7.552-9.133V10h80V53.929z M91.054,6c0,0.552-0.447,1-1,1h-61c-0.552,0-1-0.448-1-1V4c0-0.552,0.448-1,1-1h61 c0.553,0,1,0.448,1,1V6z"></path><path d="M55.14,37.386c-0.828,0-1.5,0.672-1.5,1.5c0,1.379-1.121,2.5-2.5,2.5s-2.5-1.121-2.5-2.5c0-0.828-0.672-1.5-1.5-1.5 c-0.829,0-1.5,0.672-1.5,1.5c0,3.032,2.468,5.5,5.5,5.5s5.5-2.468,5.5-5.5C56.64,38.058,55.968,37.386,55.14,37.386z"></path><path d="M21.921,23.039c3.199,0,5.802,2.604,5.802,5.804c0,4.854,3.951,8.805,8.808,8.805c4.854,0,8.803-3.95,8.803-8.805 c0-3.2,2.604-5.804,5.805-5.804c3.199,0,5.803,2.604,5.803,5.804c0,4.854,3.949,8.805,8.804,8.805s8.804-3.95,8.804-8.805 c0-3.2,2.604-5.804,5.804-5.804c0.828,0,1.5-0.671,1.5-1.5s-0.672-1.5-1.5-1.5c-3.038,0-5.721,1.547-7.304,3.894 c-1.583-2.347-4.266-3.894-7.304-3.894s-5.721,1.547-7.304,3.894c-1.583-2.347-4.266-3.894-7.303-3.894 c-3.038,0-5.722,1.547-7.305,3.894c-1.583-2.347-4.265-3.894-7.303-3.894c-3.039,0-5.724,1.547-7.307,3.895 c-1.583-2.348-4.265-3.895-7.303-3.895c-0.829,0-1.5,0.671-1.5,1.5S21.093,23.039,21.921,23.039z M65.745,23.039 c3.2,0,5.804,2.604,5.804,5.804c0,3.201-2.604,5.805-5.804,5.805s-5.804-2.604-5.804-5.805 C59.941,25.643,62.545,23.039,65.745,23.039z M36.531,23.039c3.2,0,5.803,2.604,5.803,5.804c0,3.201-2.603,5.805-5.803,5.805 c-3.202,0-5.808-2.604-5.808-5.805C30.724,25.643,33.329,23.039,36.531,23.039z"></path><path d="M21.921,30.343h2.937c0.829,0,1.5-0.672,1.5-1.5s-0.671-1.5-1.5-1.5h-2.937c-0.829,0-1.5,0.672-1.5,1.5 S21.093,30.343,21.921,30.343z"></path><path d="M80.353,27.343h-2.938c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h2.938c0.828,0,1.5-0.672,1.5-1.5 S81.181,27.343,80.353,27.343z"></path><path d="M78.476,31.036c-0.586-0.586-1.535-0.586-2.121,0s-0.586,1.535,0,2.121l1.492,1.492c0.293,0.293,0.677,0.439,1.061,0.439 s0.768-0.146,1.061-0.439c0.586-0.586,0.586-1.535,0-2.121L78.476,31.036z"></path><path d="M23.797,31.037l-1.49,1.492c-0.585,0.586-0.584,1.535,0.001,2.121c0.293,0.292,0.676,0.438,1.06,0.438 c0.384,0,0.769-0.146,1.062-0.44l1.49-1.492c0.585-0.586,0.584-1.535-0.001-2.121C25.333,30.45,24.383,30.449,23.797,31.037z"></path></g></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(262),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(10),c=i(2),d=n(c),h=i(40),p=i(9),f=n(p),y=i(263),g=n(y),v=i(264),m=n(v),b=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i.container=t.options.container,i.keepVisible=!1,i.userDisabled=!1,i.userKeepVisible=!1,i.draggingSeekBar=!1,i.draggingVolumeBar=!1,i.kibo=new h.Kibo(i.mediaControl.focusElement),(i.container&&i.container.mediaControlDisabled||t.options.chromeless)&&i.disable(),i}return o(e,t),s(e,[{key:"name",get:function(){return"globo_media_control"}},{key:"disabled",get:function(){return this.userDisabled||this.container&&this.container.getPlaybackType()===l.Playback.NO_OP}},{key:"attributes",get:function(){return{class:"media-control"}}},{key:"events",get:function(){return{"mouseenter [data-controls]":"setUserKeepVisible","mouseleave [data-controls]":"resetUserKeepVisible"}}},{key:"template",get:function(){return(0,l.template)(m.default)}},{key:"mediaControl",get:function(){return this.core.mediaControl}}]),s(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.setContainer),this.listenTo(this.mediaControl,"BASIC_MEDIACONTROL_SHOW",this.show),this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_HIDE,this.hide),this.listenTo(this.mediaControl,l.Events.CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.mediaControl,l.Events.CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.mediaControl,d.default.MEDIACONTROL_MODAL_SHOW,this.showModal),this.listenTo(this.mediaControl,d.default.MEDIACONTROL_MODAL_HIDE,this.hideModal),this.listenTo(this.mediaControl,d.default.MEDIACONTROL_KEEPVISIBLE,function(e){return e?t.setUserKeepVisible():t.resetUserKeepVisible()}),this.listenTo(this.mediaControl,d.default.MEDIACONTROL_ITEMCLICKED,this.resetFocus),l.Mediator.on(this.options.playerId+":"+d.default.DFP_AD_SKIPPED,this.resetFocus,this),l.Mediator.on(this.options.playerId+":"+d.default.DFP_AD_CLICKED,this.resetFocus,this)}},{key:"bindContainerEvents",value:function(){this.container&&(this.container.trigger(l.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,this.container.isDvrInUse()),l.Mediator.on(this.options.playerId+":"+l.Events.PLAYER_RESIZE,this.playerResize,this),this.listenTo(this.container,l.Events.CONTAINER_PLAY,this.updatePlaybackTypeClass),this.listenTo(this.container,l.Events.CONTAINER_STATE_BUFFERING,this.updatePlaybackTypeClass),this.listenTo(this.container,l.Events.CONTAINER_MEDIACONTROL_DISABLE,this.disable),this.listenTo(this.container,l.Events.CONTAINER_MEDIACONTROL_ENABLE,this.enable),this.listenTo(this.container,l.Events.CONTAINER_SETTINGSUPDATE,this.settingsUpdate),this.container.mediaControlDisabled&&this.disable())}},{key:"setContainer",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),l.Mediator.off(this.options.playerId+":"+l.Events.PLAYER_RESIZE,this.playerResize,this),this.bindContainerEvents(),this.updatePlaybackTypeClass()}},{key:"settingsUpdate",value:function(){var t=this;setTimeout(function(){t.playerResize(l.PlayerInfo.getInstance(t.options.playerId).computedSize)},100)}},{key:"createCachedElements",value:function(){this.$modal=this.$el.find(".media-control-panel__modal")}},{key:"renderMediaControlPlugins",value:function(){var t=this;this.options.mediacontrol&&this.options.mediacontrol.plugins&&this.options.mediacontrol.plugins.forEach(function(e){var i=t.core.getPlugin(e);if(i){var n=i.panel,r=i.position,a=i.el;t.$el.find(".media-control-panel__"+n+" .media-control-position__"+r).append(a),i.render()}})}},{key:"updatePlaybackTypeClass",value:function(){if(this.container){var t=this.container.getPlaybackType();this.$el.removeClass("vod live dvr ad"),t&&this.$el.addClass(t),this.container.isDvrInUse()&&this.$el.addClass("dvr")}}},{key:"setKeepVisible",value:function(){this.keepVisible=!0}},{key:"resetKeepVisible",value:function(){this.keepVisible=!1}},{key:"setUserKeepVisible",value:function(){this.userKeepVisible=!0}},{key:"resetUserKeepVisible",value:function(){this.userKeepVisible=!1}},{key:"disable",value:function(){this.keepVisible=!1,this.userDisabled=!0,this.userKeepVisible=!1,this.mediaControl.hide(),this.updatePlaybackTypeClass()}},{key:"enable",value:function(){this.options.chromeless||(this.userDisabled=!1,this.mediaControl.show())}},{key:"isVisible",value:function(){return!this.$el.hasClass("media-control-hide")}},{key:"show",value:function(){var t=this;if(!this.disabled){this.mediaControl.trigger(l.Events.MEDIACONTROL_SHOW),this.$el.removeClass("media-control-hide");clearTimeout(this.hideId),this.hideId=setTimeout(function(){return t.hideDelayed()},2e3)}}},{key:"hideDelayed",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.container&&this.isVisible()&&(!l.Browser.isMobile||this.container.isPlaying())){var i=e||2e3;clearTimeout(this.hideId),(this.disabled||!1!==this.options.hideMediaControl)&&(!this.disabled&&(e||this.userKeepVisible||this.keepVisible||this.draggingSeekBar||this.draggingVolumeBar)?this.hideId=setTimeout(function(){return t.hideDelayed()},i):this.mediaControl.hide())}}},{key:"hide",value:function(){this.keepVisible||(this.$el.addClass("media-control-hide"),this.hideModal())}},{key:"showModal",value:function(t,e){this.$modal.html(t),this.$modal.show().off("transitionend"),this.$modal.removeClass("modal--hide"),e&&e.hidePanels&&this.$el.addClass("media-control--panels-hide")}},{key:"hideModal",value:function(){var t=this;this.$modal&&(this.$modal.addClass("modal--hide").on("transitionend",function(){t.$modal.hide().off("transitionend"),t.$modal.html("")}),this.$el.removeClass("media-control--panels-hide"),this.resetFocus())}},{key:"destroy",value:function(){this.remove()}},{key:"playerResize",value:function(t){this.disabled||(0,u.applySizeClass)(this.$el,t.width)}},{key:"resetFocus",value:function(){this.mediaControl.focusElement.focus()}},{key:"render",value:function(){if(!this.container)return this;var t=f.default.getStyleFrom(g.default.toString(),{baseUrl:this.options.baseUrl,playerId:this.options.playerId});return this.$el.html(this.template()),this.$el.append(t[0]),this.core.$el.append(this.$el),this.createCachedElements(),this.renderMediaControlPlugins(),this.updatePlaybackTypeClass(),this.disabled&&this.hide(),this}}]),e}(l.UICorePlugin);e.default=b,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.media-control-notransition{transition:none!important}.clappr-player#wp3-player-0 .media-control{position:absolute;border-radius:0;bottom:0;left:0;right:0;margin-left:auto;margin-right:auto;width:100%;height:100%;z-index:997;opacity:1;transition:visibility .4s ease,opacity .4s ease;-webkit-transform:translateZ(0);transform:translateZ(0);pointer-events:none}.clappr-player#wp3-player-0 .media-control .media-control-dragging{pointer-events:auto;cursor:-webkit-grabbing!important;cursor:grabbing!important}.clappr-player#wp3-player-0 .media-control .media-control-dragging *{cursor:-webkit-grabbing!important;cursor:grabbing!important}.clappr-player#wp3-player-0 .media-control .media-control-background{position:absolute;height:100%;width:100%;bottom:0;background-color:rgba(0,0,0,.1);transition:opacity .4s ease}.clappr-player#wp3-player-0 .media-control .media-control-background:after,.clappr-player#wp3-player-0 .media-control .media-control-background:before{content:"";width:100%;position:absolute}.clappr-player#wp3-player-0 .media-control .media-control-background:after{height:75px;bottom:0;left:0;box-shadow:inset 0 -90px 80px -70px rgba(0,0,0,.6)}.clappr-player#wp3-player-0 .media-control .media-control-background:before{height:104px;top:0;left:0;background-image:linear-gradient(180deg,rgba(0,0,0,.6),transparent)}.clappr-player#wp3-player-0 .media-control .media-control-panel__lower,.clappr-player#wp3-player-0 .media-control .media-control-panel__upper{position:relative;-webkit-transform:translateY(0);transform:translateY(0);opacity:1;transition:opacity .4s ease,-webkit-transform .4s ease;transition:transform .4s ease,opacity .4s ease;transition:transform .4s ease,opacity .4s ease,-webkit-transform .4s ease;will-change:transform,opacity}.clappr-player#wp3-player-0 .media-control .media-control-panel__modal{will-change:visibility,opacity;opacity:1;visibility:visible;transition:visibility .4s ease,opacity .4s ease}.clappr-player#wp3-player-0 .media-control.media-control-hide,.clappr-player#wp3-player-0 .media-control .media-control-panel__modal.modal--hide{opacity:0;visibility:hidden}.clappr-player#wp3-player-0 .media-control.media-control-hide .media-control-background{opacity:0}.clappr-player#wp3-player-0 .media-control.media-control-hide .media-control-panel__upper{-webkit-transform:translateY(-60px);transform:translateY(-60px)}.clappr-player#wp3-player-0 .media-control.media-control-hide .media-control-panel__lower{-webkit-transform:translateY(65px);transform:translateY(65px)}.clappr-player#wp3-player-0 .media-control--panels-hide .media-control-background{opacity:0}.clappr-player#wp3-player-0 .media-control--panels-hide .media-control-panel__upper{visibility:hidden;-webkit-transform:translateY(-60px);transform:translateY(-60px);opacity:0}.clappr-player#wp3-player-0 .media-control--panels-hide .media-control-panel__lower{visibility:hidden;-webkit-transform:translateY(65px);transform:translateY(65px);opacity:0}.clappr-player#wp3-player-0 .media-control .media-control-panel{position:absolute;width:100%;height:100%;vertical-align:middle;pointer-events:none;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.clappr-player#wp3-player-0 .media-control .media-control-panel .opposites-container{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.clappr-player#wp3-player-0 .media-control .media-control-panel .media-control-position__left,.clappr-player#wp3-player-0 .media-control .media-control-panel .media-control-position__right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .media-control .media-control-panel .media-control-position__right>.media-control-button:last-child{padding-right:0}.clappr-player#wp3-player-0 .media-control .media-control-panel .media-control-position__center{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .media-control .media-control-panel__upper .media-control-position__center{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap}.clappr-player#wp3-player-0 .media-control .media-control-panel__lower .media-control-position__center{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-flow:column-reverse nowrap;flex-flow:column-reverse nowrap}.clappr-player#wp3-player-0 .media-control .media-control-panel__middle{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .media-control .media-control-panel__lower,.clappr-player#wp3-player-0 .media-control .media-control-panel__middle>*,.clappr-player#wp3-player-0 .media-control .media-control-panel__modal,.clappr-player#wp3-player-0 .media-control .media-control-panel__upper{pointer-events:auto}.clappr-player#wp3-player-0 .media-control .media-control-panel__upper{padding:17px 17px 0}.clappr-player#wp3-player-0 .media-control .media-control-panel__middle{padding:0 17px}.clappr-player#wp3-player-0 .media-control .media-control-panel__lower{padding:0 17px 15px;line-height:12px}.clappr-player#wp3-player-0 .media-control .media-control-button{padding:0 10px;display:inline-block;margin:0;border:0;cursor:pointer;background-color:transparent;text-align:center;opacity:.9;will-change:opacity;transition:opacity .1s ease-out}.clappr-player#wp3-player-0 .media-control .media-control-button svg{width:17px;height:17px}.clappr-player#wp3-player-0 .media-control .media-control-button svg path{fill:#fff}.clappr-player#wp3-player-0 .media-control .media-control-button:hover{color:#fff;opacity:1}.clappr-player#wp3-player-0 .media-control .media-control-button:hover.icon-glow svg{-webkit-filter:drop-shadow(0 0 10px #fff);filter:drop-shadow(0 0 10px #fff)}.clappr-player#wp3-player-0 .media-control .media-control-button:focus{outline:none}.clappr-player#wp3-player-0 .media-control .media-control-button--hidden{display:none}.clappr-player#wp3-player-0 .media-control .media-control-button[data-playpause]{padding:0}.clappr-player#wp3-player-0 .media-control .media-control-button[data-playpause] svg{width:15px}.clappr-player#wp3-player-0 .media-control .media-control-button[data-volume]{padding-right:8px}.clappr-player#wp3-player-0 .media-control .media-control-button[data-volume] svg{width:24px}.clappr-player#wp3-player-0 .media-control .media-control-button[data-settings] svg{width:18px;height:18px}.clappr-player#wp3-player-0 .media-control .media-control-button[data-share] svg{width:20px;height:17px}.clappr-player#wp3-player-0 .media-control .media-control-button[data-chromecast] svg{width:22px;height:18px}.clappr-player#wp3-player-0 .media-control.ad.media-control-hide{visibility:visible;opacity:1}.clappr-player#wp3-player-0 .media-control.ad.media-control-hide .media-control-panel__lower{-webkit-transform:none;transform:none;bottom:-65px}.clappr-player#wp3-player-0 .media-control.ad .media-control-button svg path,.clappr-player#wp3-player-0 .media-control.ad .media-control-button svg rect{fill:#fffb9c!important}.clappr-player#wp3-player-0 .media-control.ad .media-control-button[data-settings],.clappr-player#wp3-player-0 .media-control.ad .media-control-button[data-share]{display:none}.clappr-player#wp3-player-0 .media-control.ad .media-control-panel__lower{-webkit-transform:none;transform:none;bottom:0;transition:bottom .4s ease,opacity .4s ease;will-change:bottom,opacity}.clappr-player#wp3-player-0 .media-control.ad .media-control-panel__lower .media-control-position__center{height:0}.clappr-player#wp3-player-0 .media-control.ad .chromecast-button,.clappr-player#wp3-player-0 .media-control.ad .live-button,.clappr-player#wp3-player-0 .media-control.ad .time-indicator{display:none}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-volume] .bar-fill-1[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-volume] .bar-fill-2[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-seekbar] .bar-fill-1[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-seekbar] .bar-fill-2[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-volume] .bar-fill-2[data-seekbar]{background-color:#fffb9c}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-volume] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-volume] .bar-hover[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-seekbar] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-seekbar] .bar-hover[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-background[data-volume] .bar-hover[data-volume]{opacity:0}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-scrubber[data-volume] .bar-scrubber-icon[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-seekbar]{display:none}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-volume],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume]{background-color:#fffb9c}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar]{position:fixed;width:100%;left:0;bottom:0;margin-bottom:0;height:6px;overflow:hidden}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar]{margin:0;height:100%;border-radius:0;background-color:hsla(0,0%,100%,.4);box-shadow:none;-webkit-transform:scaleY(1);transform:scaleY(1)}.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar],.clappr-player#wp3-player-0 .media-control.ad .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{border-radius:0}.clappr-player#wp3-player-0 .media-control.ad.seekbar--secondary .bar-container[data-seekbar]{opacity:1}.clappr-player#wp3-player-0 .media-control.ad.seekbar--secondary .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{-webkit-transform:scale(1);transform:scale(1)}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar]{margin-bottom:2px}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:red}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{background-color:#fff;display:none}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{background-color:red}.clappr-player#wp3-player-0 .media-control.live .media-control-panel .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{display:block}.clappr-player#wp3-player-0 .media-control.live .time-indicator{display:none}.clappr-player#wp3-player-0 .media-control.dvr .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#fff}.clappr-player#wp3-player-0 .media-control.dvr .media-control-panel .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{background-color:red}.clappr-player#wp3-player-0 .media-control.dvr .media-control-panel .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{background-color:#fff}.clappr-player#wp3-player-0 .media-control.dvr .media-control-panel .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{display:block}',""])},function(t,e){t.exports='<div class="media-control-background"></div>\n<div class="media-control-panel">\n  <div class="media-control-panel__upper">\n    <div class="opposites-container">\n      <div class="media-control-position__left"></div>\n      <div class="media-control-position__right"></div>\n    </div>\n    <div class="media-control-position__center"></div>\n  </div>\n  <div class="media-control-panel__middle">\n    <div class="media-control-position__left"></div>\n    <div class="media-control-position__center"></div>\n    <div class="media-control-position__right"></div>\n  </div>\n  <div class="media-control-panel__lower" data-controls>\n    <div class="media-control-position__center"></div>\n    <div class="opposites-container">\n      <div class="media-control-position__left"></div>\n      <div class="media-control-position__right"></div>\n    </div>\n  </div>\n  <div class="media-control-panel__modal"></div>\n</div>\n'},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(2),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.focusElement=t.focusElement,i}return a(e,t),o(e,[{key:"name",get:function(){return"basic_media_control"}},{key:"attributes",get:function(){return{class:"basic_media_control"}}}]),o(e,[{key:"setContainer",value:function(t){this.container&&this.stopListening(this.container),this.container=t,this.trigger(s.Events.MEDIACONTROL_CONTAINERCHANGED)}},{key:"setVolume",value:function(t){this.container.setVolume(t)}},{key:"setUserKeepVisible",value:function(){this.trigger(u.default.MEDIACONTROL_KEEPVISIBLE,!0)}},{key:"resetUserKeepVisible",value:function(){this.trigger(u.default.MEDIACONTROL_KEEPVISIBLE,!1)}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"destroy",value:function(){this.remove()}},{key:"show",value:function(){this.trigger("BASIC_MEDIACONTROL_SHOW")}},{key:"hide",value:function(){this.container&&this.trigger(s.Events.MEDIACONTROL_HIDE)}},{key:"fullscreen",value:function(){this.trigger(s.Events.MEDIACONTROL_FULLSCREEN,this.name)}},{key:"render",value:function(){return this.$el.hide(),this.trigger(s.Events.MEDIACONTROL_RENDERED),this}}]),e}(s.UIObject);e.default=c,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(267),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(16),c=n(u),d=i(100),h=n(d),p=i(268),f=n(p),y=i(269),g=n(y),v=function(t){function e(t){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),s(e,[{key:"name",get:function(){return"play_button"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"left"}},{key:"attributes",get:function(){return{class:"media-control-button","data-playpause":"","aria-label":"play"}}},{key:"events",get:function(){return{click:this.togglePlay}}},{key:"willStop",get:function(){var t=this.container&&this.container.getPlaybackType()===l.Playback.LIVE,e=this.container.playback&&!this.container.playback.dvrEnabled;return t&&e}}]),s(e,[{key:"destroy",value:function(){this.unbindKeyEvents()}},{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,l.Events.CONTAINER_PLAY,this.changeTogglePlay),this.listenTo(this.container,l.Events.CONTAINER_PAUSE,this.changeTogglePlay),this.listenTo(this.container,l.Events.CONTAINER_STOP,this.changeTogglePlay),this.listenTo(this.container,l.Events.CONTAINER_ENDED,this.changeTogglePlay))}},{key:"bindKeyEvents",value:function(){var t=this;this.kibo&&(this.unbindKeyEvents(),this.bindKeyAndShow("space",function(){return t.togglePlay()}))}},{key:"unbindKeyEvents",value:function(){this.kibo&&this.kibo.off("space")}},{key:"onContainerChanged",value:function(){this.bindContainerEvents(),this.changeTogglePlay()}},{key:"changeTogglePlay",value:function(){if(this.$el.html(""),this.container&&this.container.isPlaying()){var t=this.willStop;this.$el.append(t?g.default:f.default),this.$el.attr("aria-label",t?"stop":"pause"),this.$el.removeClass("play"),this.$el.addClass(t?"stop":"pause"),this.trigger(l.Events.MEDIACONTROL_PLAYING)}else this.$el.append(h.default),this.$el.attr("aria-label","play"),this.$el.removeClass("stop pause"),this.$el.addClass("play"),this.trigger(l.Events.MEDIACONTROL_NOTPLAYING);this.applyButtonStyle(this.$el)}},{key:"togglePlay",value:function(){return this["togglePlay"+(this.willStop?"Stop":"Pause")](),!1}},{key:"togglePlayPause",value:function(){return this.container.isPlaying()?this.container.pause():this.container.play(),!1}},{key:"togglePlayStop",value:function(){this.container.isPlaying()?this.container.stop():this.container.play()}},{key:"render",value:function(){return this.bindKeyEvents(),this.changeTogglePlay(),this}}]),e}(c.default);e.default=v,t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 18 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-49.000000, -349.000000)" fill="#FFFFFF"><path d="M54.0140182,369 C54.561138,369 55.0046662,368.544694 55.0046662,368.008197 L55.0046662,349.991803 C55.0046662,349.444045 54.5657296,349 54.0140182,349 L50.1554819,349 C49.6083622,349 49.164834,349.455306 49.164834,349.991803 L49.164834,368.008197 C49.164834,368.555955 49.6037705,369 50.1554819,369 L54.0140182,369 Z M60.8444984,368.008197 C60.8444984,368.555955 61.2834349,369 61.8351463,369 L65.6936826,369 C66.2408024,369 66.6843305,368.544694 66.6843305,368.008197 L66.6843305,349.991803 C66.6843305,349.444045 66.245394,349 65.6936826,349 L61.8351463,349 C61.2880265,349 60.8444984,349.455306 60.8444984,349.991803 L60.8444984,368.008197 Z" id="Shape"></path></g></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 21 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-75.000000, -349.000000)" fill="#FFFFFF"><rect id="Rectangle" x="75.1368517" y="349" width="20" height="20" rx="1"></rect></g></g></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(271),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(16),c=n(u),d=i(272),h=n(d),p=i(273),f=n(p),y=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.fullScreenOnVideoTagSupported=null,i}return o(e,t),s(e,[{key:"name",get:function(){return"fullscreen_button"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"right"}},{key:"attributes",get:function(){return{class:"media-control-button","data-fullscreen":"","aria-label":"fullscreen"}}},{key:"events",get:function(){return{click:this.toggleFullscreen}}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.fullScreenOnVideoTagSupported=null,this.container&&(l.Mediator.off(this.core.options.playerId+":"+l.Events.PLAYER_RESIZE,this.changeToggleFullscreen,this),l.Mediator.on(this.core.options.playerId+":"+l.Events.PLAYER_RESIZE,this.changeToggleFullscreen,this),this.listenTo(this.container,l.Events.CONTAINER_DBLCLICK,this.toggleFullscreen),"video"===this.container.playback.el.nodeName.toLowerCase()&&this.listenToOnce(this.container,l.Events.CONTAINER_LOADEDMETADATA,this.onLoadedMetadataOnVideoTag),(l.Browser.isIE&&!l.Browser.isIE11||l.Browser.isMobile)&&this.stopListening(this.container,l.Events.CONTAINER_DBLCLICK))}},{key:"bindKeyEvents",value:function(){var t=this;this.kibo&&(this.unbindKeyEvents(),this.bindKeyAndShow("f",function(){return t.toggleFullscreen()}))}},{key:"unbindKeyEvents",value:function(){this.kibo&&this.kibo.off("f")}},{key:"onLoadedMetadataOnVideoTag",value:function(){var t=this.container.playback.el;!l.Utils.Fullscreen.fullscreenEnabled()&&t.webkitSupportsFullscreen&&(this.fullScreenOnVideoTagSupported=!0,this.render())}},{key:"changeToggleFullscreen",value:function(){this.$el.html(""),l.Utils.Fullscreen.isFullscreen()?this.$el.append(f.default):this.$el.append(h.default),this.applyButtonStyle(this.$el)}},{key:"toggleFullscreen",value:function(){this.container.fullscreen(),this.mediaControl.fullscreen(),this.mediaControlPlugin.resetUserKeepVisible()}},{key:"render",value:function(){return this.bindKeyEvents(),this.changeToggleFullscreen(),this.fullScreenOnVideoTagSupported||l.Utils.Fullscreen.fullscreenEnabled()||this.$el.remove(),this}}]),e}(c.default);e.default=y,t.exports=e.default},function(t,e){t.exports='<svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1888.000000, -1016.000000)" fill="#FFFFFF"><path d="M1891.3887,1031.42857 L1888,1031.42857 L1888,1040 L1896.47176,1040 L1896.47176,1036.57143 L1891.3887,1036.57143 L1891.3887,1031.42857 L1891.3887,1031.42857 Z M1888,1024.57143 L1891.3887,1024.57143 L1891.3887,1019.42857 L1896.47176,1019.42857 L1896.47176,1016 L1888,1016 L1888,1024.57143 L1888,1024.57143 Z M1908.33223,1036.57143 L1903.24917,1036.57143 L1903.24917,1040 L1911.72093,1040 L1911.72093,1031.42857 L1908.33223,1031.42857 L1908.33223,1036.57143 L1908.33223,1036.57143 Z M1903.24917,1016 L1903.24917,1019.42857 L1908.33223,1019.42857 L1908.33223,1024.57143 L1911.72093,1024.57143 L1911.72093,1016 L1903.24917,1016 L1903.24917,1016 Z" id="Shape-Copy-2"></path></g></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1854.000000, -1015.000000)" fill="#FFFFFF"><g id="Group" transform="translate(1846.000000, 1007.000000)"><path d="M8.73614155,27.8670781 L13.9778265,27.8670781 L13.9778265,33.0921552 L17.4722831,33.0921552 L17.4722831,24.3836933 L8.73614155,24.3836933 L8.73614155,27.8670781 L8.73614155,27.8670781 Z M13.9778265,13.933539 L8.73614155,13.933539 L8.73614155,17.4169238 L17.4722831,17.4169238 L17.4722831,8.70846189 L13.9778265,8.70846189 L13.9778265,13.933539 L13.9778265,13.933539 Z M24.4611963,33.0921552 L27.955653,33.0921552 L27.955653,27.8670781 L33.1973379,27.8670781 L33.1973379,24.3836933 L24.4611963,24.3836933 L24.4611963,33.0921552 L24.4611963,33.0921552 Z M27.955653,13.933539 L27.955653,8.70846189 L24.4611963,8.70846189 L24.4611963,17.4169238 L33.1973379,17.4169238 L33.1973379,13.933539 L27.955653,13.933539 L27.955653,13.933539 Z" id="Shape"></path></g></g></g></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(275),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(16),c=n(u),d=i(9),h=n(d),p=i(276),f=n(p),y=function(t){function e(t){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),s(e,[{key:"name",get:function(){return"time_indicator"}},{key:"tagName",get:function(){return"div"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"left"}},{key:"attributes",get:function(){return{class:"time-indicator"}}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.container&&this.listenTo(this.container,l.Events.CONTAINER_TIMEUPDATE,this.onTimeUpdate)}},{key:"onTimeUpdate",value:function(t){var e=t.current<0?t.total:t.current;this.currentPositionValue=e,this.currentDurationValue=t.total,null!==this.currentPositionValue&&null!==this.currentDurationValue&&this.updatePositionAndDuration()}},{key:"updatePositionAndDuration",value:function(){var t=l.Utils.formatTime(this.currentPositionValue),e=l.Utils.formatTime(this.currentDurationValue);t!==this.displayedPosition&&(this.$position.text(t),this.displayedPosition=t),e!==this.displayedDuration&&(this.$duration.text(e),this.displayedDuration=e)}},{key:"render",value:function(){this.$position=$("<span/>").attr("data-position",""),this.$separator=$("<span/>").addClass("separator").html("/"),this.$duration=$("<span/>").attr("data-duration",""),this.$el.empty();var t=h.default.getStyleFrom(f.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]),this.$el.append(this.$position[0]),this.$el.append(this.$separator[0]),this.$el.append(this.$duration[0]),this}}]),e}(c.default);e.default=y,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .time-indicator{display:-webkit-box;display:-ms-flexbox;display:flex;cursor:default;position:relative;margin-left:17px;font-family:opensans-bold,sans-serif;font-size:13px;line-height:13px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .time-indicator .separator{display:inline;margin:0 5px}.clappr-player#wp3-player-0 [data-duration],.clappr-player#wp3-player-0 [data-position]{display:inline}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(278),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(2),d=n(c),h=i(16),p=n(h),f=i(9),y=n(f),g=i(279),v=n(g),m=i(280),b=n(m),_=i(281),E=n(_),A=i(282),k=n(A),T=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.persistConfig=i.core.options.persistConfig;var n=i.persistConfig?u.Utils.Config.restore("volume"):100;i.volumeBeforeMute=n>0?n:100;var o=i.core.options.mute?0:n;return i.isMuted=!(o>0),i.setVolume(o,{initial:!0}),i.lastUIValue=null,i.stopDragHandler=function(t){return i.stopDrag(t)},i.updateDragHandler=function(t){return i.updateDrag(t)},$(document).bind("mouseup",i.stopDragHandler),$(document).bind("mousemove",i.updateDragHandler),i}return o(e,t),l(e,[{key:"name",get:function(){return"volume"}},{key:"tagName",get:function(){return"div"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"right"}},{key:"template",get:function(){return(0,u.template)(v.default)}},{key:"volume",get:function(){return this.container.volume}},{key:"muted",get:function(){return 0===this.volume}},{key:"attributes",get:function(){return{class:"drawer-container volume-hide","data-volume":""}}},{key:"events",get:function(){return{mouseenter:this.showVolumeBar,mouseleave:this.hideVolumeBar,"click .bar-container[data-volume]":"onVolumeClick","click .drawer-icon[data-volume]":"toggleMute","mousedown .bar-container[data-volume]":"startVolumeDrag","mousemove .bar-container[data-volume]":"mousemoveOnVolumeBar"}}}]),l(e,[{key:"destroy",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),$(document).unbind("mouseup",this.stopDragHandler),$(document).unbind("mousemove",this.updateDragHandler)}},{key:"bindEvents",value:function(){var t=this;this.listenTo(this.mediaControl,u.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),this.listenTo(this.core.mediaControl,d.default.WM_SETTINGS_SHOW,function(){t.hideVolumeBar({timeout:0,keepSeekbarSecondary:!0})}),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,u.Events.CONTAINER_VOLUME,this.updateVolumeUI),this.listenTo(this.container,u.Events.CONTAINER_SETTINGSUPDATE,this.updateVolumeUI))}},{key:"createCachedElements",value:function(){this.hasCachedElements=!0,this.$volumeBarContainer=this.$el.find(".bar-container"),this.$volumeIcon=this.$el.find(".drawer-icon"),this.$volumeBarBackground=this.$el.find(".bar-background"),this.$volumeBarFill=this.$el.find(".bar-fill-1"),this.$volumeBarScrubber=this.$el.find(".bar-scrubber")}},{key:"setVolume",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.initial;t=Math.min(100,Math.max(t,0)),this.persistConfig&&!n&&u.Utils.Config.persist("volume",t);var r=function(){e.container.isReady?e.container.setVolume(t):e.mediaControl.listenToOnce(e.container,u.Events.CONTAINER_READY,function(){e.container.setVolume(t)})};this.container?r():this.mediaControl.listenToOnce(this.mediaControl,u.Events.MEDIACONTROL_CONTAINERCHANGED,function(){r()})}},{key:"getVolumeFromUIEvent",value:function(t){var e=t.pageY-this.$volumeBarContainer.offset().top,i=100*(1-e/this.$volumeBarContainer.height());return Math.min(100,Math.max(i,0))}},{key:"updateVolumeUI",value:function(t){var e=this;if(t=void 0!==t&&t>=0?t:this.volume,this.updatePlaybackVolume(t),t!==this.lastUIValue)if(t>0&&this.isMuted?(this.isMuted=!1,this.$volumeIcon.removeClass("muted"),this.container.trigger(d.default.WM_UNMUTED,this.lastUIValue)):t<=0&&!this.isMuted&&(this.isMuted=!0,this.$volumeIcon.addClass("muted"),this.container.trigger(d.default.WM_MUTED,this.lastUIValue)),this.container.isReady){if(this.$volumeBarContainer){var i=this.$volumeBarContainer.height(),n=this.$volumeBarBackground.height(),r=(i-n)/2,a=n*t/100-this.$volumeBarScrubber.height()/2+r;this.$volumeBarFill.css({height:t+"%"}),this.$volumeBarScrubber.css({bottom:a}),this.$volumeIcon.html(""),t>0?this.$volumeIcon.append(E.default):this.$volumeIcon.append(k.default)}this.lastUIValue=t}else this.mediaControl.listenToOnce(this.container,u.Events.CONTAINER_READY,function(){return e.updateVolumeUI()})}},{key:"onVolumeClick",value:function(t){this.setVolume(this.getVolumeFromUIEvent(t))}},{key:"toggleMute",value:function(){this.volumeBeforeMute=!this.muted&&this.volume||this.volumeBeforeMute,this.setVolume(this.muted?this.volumeBeforeMute:0)}},{key:"showVolumeBar",value:function(){this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.$el.removeClass("volume-hide"),this.mediaControlPlugin.$el.addClass("seekbar--secondary"),this.mediaControl.trigger(d.default.WM_VOLUME_SHOW),this.isVolumeBarVisible=!0}},{key:"hideVolumeBar",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isVolumeBarVisible&&("number"!=typeof e.timeout&&(e.timeout=100),this.$volumeBarContainer&&(this.draggingVolumeBar?this.hideVolumeId=setTimeout(function(){return t.hideVolumeBar(e)},e.timeout):(this.hideVolumeId&&clearTimeout(this.hideVolumeId),this.hideVolumeId=setTimeout(function(){t.$el.addClass("volume-hide"),!e.keepSeekbarSecondary&&t.mediaControlPlugin.$el.removeClass("seekbar--secondary"),t.mediaControl.trigger(d.default.WM_VOLUME_HIDE),t.isVolumeBarVisible=!1},e.timeout))))}},{key:"updatePlaybackVolume",value:function(t){var e=this.container.playback;t!==e.getVolume()&&e.volume(t)}},{key:"startVolumeDrag",value:function(t){this.draggingVolumeBar=!0,this.mediaControlPlugin.$el.addClass("media-control-dragging"),this.mediaControlPlugin.setKeepVisible(),t&&t.preventDefault()}},{key:"mousemoveOnVolumeBar",value:function(t){this.draggingVolumeBar&&this.setVolume(this.getVolumeFromUIEvent(t))}},{key:"stopDrag",value:function(){this.draggingVolumeBar&&this.mediaControlPlugin.resetKeepVisible(),this.mediaControlPlugin.$el.removeClass("media-control-dragging"),this.draggingVolumeBar=!1}},{key:"updateDrag",value:function(t){this.draggingVolumeBar&&(t.preventDefault(),this.setVolume(this.getVolumeFromUIEvent(t)))}},{key:"render",value:function(){if(!this.hasCachedElements){this.$el.html(this.template());var t=y.default.getStyleFrom(b.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]),this.createCachedElements(),this.$volumeIcon.html(E.default),this}}}]),e}(p.default);e.default=T,t.exports=e.default},function(t,e){t.exports='<div class="drawer-icon-container" data-volume>\n  <button class="drawer-icon media-control-button" data-volume></button>\n</div>\n\n<div class="bar-container" data-volume>\n  <div class="bar-background" data-volume>\n    <div class="bar-fill-1" data-volume></div>\n    <div class="bar-hover" data-volume></div>\n  </div>\n  <div class="bar-scrubber" data-volume>\n    <div class="bar-scrubber-icon" data-volume></div>\n  </div>\n</div>\n'},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.clappr-player#wp3-player-0 .drawer-container[data-volume]{cursor:pointer}.clappr-player#wp3-player-0 .drawer-container[data-volume].volume-hide .bar-container[data-volume]{opacity:0;visibility:hidden}.clappr-player#wp3-player-0 .bar-container[data-volume]{will-change:visibility,opacity;position:absolute;bottom:42px;width:30px;height:115px;margin-left:6px;border-radius:4px;background-color:rgba(0,0,0,.85);transition:visibility .4s ease,opacity .4s ease}.clappr-player#wp3-player-0 .bar-container[data-volume]:after{content:"";width:100%;position:absolute;height:10px;bottom:-10px;left:0}.clappr-player#wp3-player-0 .bar-container[data-volume] .bar-background[data-volume]{position:relative;top:15px;width:2px;margin-left:14px;background:hsla(0,0%,100%,.2);border-radius:10px;height:calc(100% - 30px);overflow:hidden;box-shadow:inset 0 0 2px 0 rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .bar-container[data-volume] .bar-background[data-volume] .bar-fill-1[data-volume]{position:absolute;bottom:0;background:#fff;width:100%;height:0;transition:height .2s ease}.clappr-player#wp3-player-0 .bar-container[data-volume] .bar-scrubber[data-volume]{position:absolute;left:9px;width:12px;height:12px;bottom:40%;transition:bottom .2s ease}.clappr-player#wp3-player-0 .bar-container[data-volume] .bar-scrubber[data-volume] .bar-scrubber-icon[data-volume]{width:100%;height:100%;border-radius:6px;background-color:#fff;box-shadow:0 0 1px #000}',""])},function(t,e){t.exports='<svg viewBox="0 0 31 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1673.000000, -1018.000000)" fill="#FFFFFF"><g transform="translate(1673.485819, 1018.000000)"><g id="Group-3-Copy-15"><path d="M13.9668671,0.799731827 C13.9668671,0.489300165 13.7866121,0.20692178 13.5045005,0.0753912816 C13.222389,-0.0561392167 12.8894109,-0.0131980156 12.6502026,0.185697261 L4.6082334,6.87338944 L1.39987822,6.87338944 C0.62669505,6.87338944 0,7.49794398 0,8.26842479 L0,13.7186352 C0,14.489116 0.62669505,15.1137321 1.39987822,15.1137321 L4.6082334,15.1137321 L12.6502026,21.8013627 C12.7973697,21.9237267 12.9800323,21.9870927 13.1644851,21.9870927 L13.1715842,21.9870927 C13.6120363,21.9838936 13.9681635,21.6270141 13.9681635,21.1873282 C13.9681635,21.1722557 13.9677314,21.1573678 13.9668671,21.1425414 L13.9668671,0.799731827 Z" id="Fill-1-Copy-9"></path></g><path d="M18.5320447,14.7062211 C19.3473619,13.521095 19.7725191,12.2818454 19.7725191,11.0113571 C19.7725191,9.65739949 19.3159939,8.24071193 18.4773144,7.24776887 C18.0335961,6.72243468 17.245156,6.65386588 16.7162842,7.09461618 C16.1874124,7.53536648 16.1183819,8.3185327 16.5621002,8.84386689 C16.9985198,9.36055991 17.2725191,10.2108336 17.2725191,11.0113571 C17.2725191,11.7549143 17.0119589,12.5143963 16.4679553,13.3051471 C16.0784541,13.871317 16.224763,14.6439295 16.7947456,15.0308255 C17.3647281,15.4177214 18.1425434,15.2723911 18.5320447,14.7062211 Z" id="Oval-2-Copy-4" fill-rule="nonzero"></path><path d="M19.7350131,4.50418557 C19.2556087,5.12258808 19.3699348,6.01118795 19.9904568,6.48901647 C21.2120553,7.42953951 21.8314043,8.94515474 21.8314043,10.9935362 C21.8314043,13.0419176 21.2119936,14.5575328 19.9904568,15.4981789 C19.3699348,15.9759459 19.2556087,16.8646073 19.7350131,17.4829483 C20.0148406,17.8438266 20.4348596,18.0328786 20.8595702,18.0328786 C21.1626704,18.0328786 21.468178,17.9365378 21.7266465,17.7375195 C23.6529066,16.2542639 24.6710391,13.9222122 24.6710391,10.9935362 C24.6710391,8.0647986 23.6529066,5.73280839 21.7266465,4.24961438 C21.1060629,3.77172434 20.2143558,3.88578306 19.7350131,4.50418557 Z" id="Fill-7"></path><path d="M25.2879864,0.29539312 C24.6674027,-0.182496922 23.7756957,-0.0684382017 23.296353,0.549964309 C22.8169486,1.16836682 22.9312747,2.05696669 23.5517967,2.53473369 C24.6628964,3.39029713 25.5081816,4.5211026 26.0641327,5.89571319 C26.6013175,7.22387593 26.8736755,8.77991002 26.8736755,10.5205667 C26.8736755,12.2611003 26.6013175,13.8171344 26.0641327,15.1453586 C25.5081816,16.5199692 24.6628964,17.6507747 23.5517967,18.5063381 C22.9312747,18.9841667 22.8169486,19.8727665 23.296353,20.491169 C23.5761805,20.8519859 23.9961995,21.0410379 24.4209101,21.0410379 C24.7240102,21.0410379 25.0295179,20.944697 25.2879864,20.7457402 C28.1830558,18.5164275 29.713372,14.9806687 29.713372,10.5205667 C29.713372,6.06040316 28.1830558,2.52458283 25.2879864,0.29539312" id="Fill-4"></path></g></g></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 31 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1622.000000, -1016.000000)" fill="#FFFFFF"><g id="Group-5" transform="translate(1622.485819, 1016.000000)"><g id="Group-3-Copy-4"><g id="Group-3-Copy-15"><path d="M14.0307678,0.799731827 C14.0307678,0.489300165 13.8496881,0.20692178 13.5662858,0.0753912816 C13.2828836,-0.0561392167 12.9483821,-0.0131980156 12.7080793,0.185697261 L4.62931682,6.87338944 L1.40628289,6.87338944 C0.629562282,6.87338944 0,7.49794398 0,8.26842479 L0,13.7186352 C0,14.489116 0.629562282,15.1137321 1.40628289,15.1137321 L4.62931682,15.1137321 L12.7080793,21.8013627 C12.8559198,21.9237267 13.0394181,21.9870927 13.2247148,21.9870927 L13.2318464,21.9870927 C13.6743135,21.9838936 14.0320701,21.6270141 14.0320701,21.1873282 C14.0320701,21.1722557 14.031636,21.1573678 14.0307678,21.1425414 L14.0307678,0.799731827 Z" id="Fill-1-Copy-9"></path></g></g><g id="Group-4" transform="translate(16.490196, 4.641026)"><rect id="Rectangle-11" transform="translate(6.406498, 6.893029) rotate(-45.000000) translate(-6.406498, -6.893029) " x="4.92806636" y="0.025693928" width="2.95686275" height="13.7346711" rx="1.47843137"></rect><rect id="Rectangle-11-Copy" transform="translate(6.406498, 6.893029) scale(-1, 1) rotate(-45.000000) translate(-6.406498, -6.893029) " x="4.92806636" y="0.025693928" width="2.95686275" height="13.7346711" rx="1.47843137"></rect></g></g></g></g></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(284),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(16),d=n(c),h=i(9),p=n(h),f=i(285),y=n(f),g=i(286),v=n(g),m=["1","2","3","4","5","6","7","8","9","0"],b=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.stopDragHandler=function(t){return i.stopDrag(t)},i.updateDragHandler=function(t){return i.updateDrag(t)},$(document).bind("mouseup",i.stopDragHandler),$(document).bind("mousemove",i.updateDragHandler),i}return o(e,t),l(e,[{key:"name",get:function(){return"seekbar"}},{key:"tagName",get:function(){return"div"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"center"}},{key:"template",get:function(){return(0,u.template)(y.default)}},{key:"settings",get:function(){return this.container?this.container.settings:{}}},{key:"isLivePlayback",get:function(){return this.container&&this.container.getPlaybackType()===u.Playback.LIVE}},{key:"attributes",get:function(){return{class:"bar-container","data-seekbar":""}}},{key:"events",get:function(){return{click:this.seek,mousemove:this.mousemoveOnSeekBar,mouseleave:this.mouseleaveOnSeekBar,"mousedown .bar-scrubber[data-seekbar]":"startSeekDrag"}}}]),l(e,[{key:"destroy",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),$(document).unbind("mouseup",this.stopDragHandler),$(document).unbind("mousemove",this.updateDragHandler),this.unbindKeyEvents()}},{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,u.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){u.Mediator.off(this.options.playerId+":"+u.Events.PLAYER_RESIZE,this.playerResize,this),this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.container&&(u.Mediator.on(this.options.playerId+":"+u.Events.PLAYER_RESIZE,this.playerResize,this),this.listenTo(this.container,u.Events.CONTAINER_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.container,u.Events.CONTAINER_PROGRESS,this.updateProgressBar),this.listenTo(this.container,u.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,u.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferfull))}},{key:"createCachedElements",value:function(){this.$seekBarContainer=this.$el,this.$seekBarHover=this.$el.find(".bar-hover[data-seekbar]"),this.$seekBarLoaded=this.$el.find(".bar-fill-1[data-seekbar]"),this.$seekBarPosition=this.$el.find(".bar-fill-2[data-seekbar]"),this.$seekBarScrubber=this.$el.find(".bar-scrubber[data-seekbar]"),this.$seekBarScrubberIcon=this.$el.find(".bar-scrubber-icon[data-seekbar]"),this.mediaControl.$seekBarContainer=this.$seekBarContainer}},{key:"bindKeyEvents",value:function(){var t=this;this.kibo&&(this.unbindKeyEvents(),this.bindKeyAndShow("left",function(){return t.seekRelative(-5)}),this.bindKeyAndShow("right",function(){return t.seekRelative(5)}),this.bindKeyAndShow("shift left",function(){return t.seekRelative(-10)}),this.bindKeyAndShow("shift right",function(){return t.seekRelative(10)}),this.bindKeyAndShow("shift ctrl left",function(){return t.seekRelative(-15)}),this.bindKeyAndShow("shift ctrl right",function(){return t.seekRelative(15)}),m.forEach(function(e){t.bindKeyAndShow(e,function(){return t.settings.seekEnabled&&t.container.seekPercentage(10*e+.1)})}))}},{key:"unbindKeyEvents",value:function(){this.kibo&&(this.kibo.off("left"),this.kibo.off("right"),this.kibo.off("shift left"),this.kibo.off("shift right"),this.kibo.off("shift ctrl left"),this.kibo.off("shift ctrl right"),this.kibo.off(m))}},{key:"playerResize",value:function(){this.setSeekPercentage(this.currentSeekPercentage)}},{key:"seekRelative",value:function(t){if(this.settings.seekEnabled){var e=this.container.getCurrentTime(),i=this.container.getDuration(),n=Math.min(Math.max(e+t,0),i);n=Math.min(100*n/i,100),this.container.seekPercentage(n)}}},{key:"setSeekPercentage",value:function(t){t=Math.min(t,100);var e=this.$seekBarContainer.width()*t/100-this.$seekBarScrubber.width()/2;e=Math.max(e,-(this.$seekBarScrubber.width()-this.$seekBarScrubberIcon.width())/2),e=Math.min(e,this.$seekBarContainer.width()-this.$seekBarScrubber.width()/2-this.$seekBarScrubberIcon.width()/2),this.currentSeekPercentage=t;var i=this.$seekBarScrubberIcon.width()/4;isNaN(i)||isNaN(t)||isNaN(e)||(this.$seekBarPosition.css({width:"calc("+t+"% + "+i+"px)"}),this.$seekBarScrubber.css({left:e}))}},{key:"stopDrag",value:function(t){this.draggingSeekBar&&this.seek(t),this.mediaControlPlugin.$el.removeClass("media-control-dragging"),this.$seekBarLoaded.removeClass("media-control-notransition"),this.$seekBarPosition.removeClass("media-control-notransition"),this.$seekBarScrubber.removeClass("media-control-notransition media-control-dragging"),this.draggingSeekBar=!1}},{key:"updateDrag",value:function(t){if(this.draggingSeekBar){t.preventDefault();var e=t.pageX-this.$seekBarContainer.offset().left,i=e/this.$seekBarContainer.width()*100;i=Math.min(100,Math.max(i,0)),this.setSeekPercentage(i)}}},{key:"startSeekDrag",value:function(t){this.settings.seekEnabled&&(this.draggingSeekBar=!0,this.mediaControlPlugin.$el.addClass("media-control-dragging"),this.$seekBarLoaded.addClass("media-control-notransition"),this.$seekBarPosition.addClass("media-control-notransition"),this.$seekBarScrubber.addClass("media-control-notransition"),t&&t.preventDefault())}},{key:"mousemoveOnSeekBar",value:function(t){if(this.settings.seekEnabled){var e=t.pageX-this.$seekBarContainer.offset().left-this.$seekBarHover.width()/2;this.$seekBarHover.css({left:e})}this.mediaControl.trigger(u.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,t)}},{key:"mouseleaveOnSeekBar",value:function(t){this.mediaControl.trigger(u.Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR,t)}},{key:"seek",value:function(t){if(this.settings.seekEnabled){var e=t.pageX-this.$seekBarContainer.offset().left,i=e/this.$seekBarContainer.width()*100;return i=Math.min(100,Math.max(i,0)),this.container.seekPercentage(i),this.setSeekPercentage(i),this.checkSeekOnBuffering(i),!1}}},{key:"updateProgressBar",value:function(t){var e=t.start/t.total*100,i=t.current/t.total*100;this.$seekBarLoaded.css({left:e+"%",width:i-e+"%"})}},{key:"onTimeUpdate",value:function(t){this.draggingSeekBar||(this.currentPositionValue=t.current<0?0:t.current,this.currentDurationValue=t.total,this.renderSeekBar())}},{key:"checkSeekOnBuffering",value:function(t){var e=this;setTimeout(function(){e.buffering&&(e.seekOnBufferingPos=t,e.seekOnBuffering=!0)},200)}},{key:"onBuffering",value:function(){this.buffering=!0}},{key:"onBufferfull",value:function(){this.buffering=!1,this.seekOnBuffering&&(this.container.seekPercentage(this.seekOnBufferingPos),this.seekOnBuffering=!1)}},{key:"renderSeekBar",value:function(){null!==this.currentPositionValue&&null!==this.currentDurationValue&&(this.currentSeekBarPercentage=this.isLivePlayback?100:0,this.isLivePlayback&&!this.container.isDvrInUse()||(this.currentSeekBarPercentage=this.currentPositionValue/this.currentDurationValue*100),this.setSeekPercentage(this.currentSeekBarPercentage))}},{key:"render",value:function(){this.$el.html(this.template());var t=p.default.getStyleFrom(v.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]),this.createCachedElements(),this.bindKeyEvents(),this}}]),e}(d.default);e.default=b,t.exports=e.default},function(t,e){t.exports='<div class="bar-background" data-seekbar>\n  <div class="bar-fill-1" data-seekbar></div>\n  <div class="bar-fill-2" data-seekbar></div>\n  <div class="bar-hover" data-seekbar></div>\n</div>\n<div class="bar-scrubber" data-seekbar>\n  <div class="bar-scrubber-icon" data-seekbar></div>\n</div>\n'},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .bar-container[data-seekbar]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:25px;margin-bottom:4px;cursor:pointer;transition:opacity .2s ease}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar]{position:absolute;width:100%;height:3px;top:calc(50% - 1.5px);background-color:hsla(0,0%,100%,.2);overflow:hidden;-webkit-transform:scaleY(1);transform:scaleY(1);transition:-webkit-transform .2s ease-in-out;transition:transform .2s ease-in-out;transition:transform .2s ease-in-out,-webkit-transform .2s ease-in-out}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar],.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{position:absolute;top:0;left:0;width:0;height:100%;transition:left .1s ease-out,width .1s ease-out,background-color .1s ease}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-1[data-seekbar]{background-color:hsla(0,0%,100%,.3)}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-fill-2[data-seekbar]{background-color:#fff}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-background[data-seekbar] .bar-hover[data-seekbar]{display:none;position:absolute;top:0;width:8px;height:8px;background-color:red;transition:background-color .1s ease}.clappr-player#wp3-player-0 .bar-container[data-seekbar]:hover .bar-background[data-seekbar]{-webkit-transform:scaleY(1.7);transform:scaleY(1.7)}.clappr-player#wp3-player-0 .bar-container[data-seekbar]:hover .bar-background[data-seekbar] .bar-hover[data-seekbar]{display:block}.clappr-player#wp3-player-0 .bar-container[data-seekbar].seek-disabled{cursor:default}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{position:relative;left:0;width:12px;height:12px;opacity:1;text-align:center;z-index:200;transition:left .1s ease-out,opacity .1s ease}.clappr-player#wp3-player-0 .bar-container[data-seekbar] .bar-scrubber[data-seekbar] .bar-scrubber-icon[data-seekbar]{display:inline-block;position:absolute;top:0;left:0;background-color:#fff;height:100%;width:100%;border-radius:50%;box-shadow:0 0 3px 1px rgba(0,0,0,.2);transition:background-color .1s ease,width .1s ease,height .1s ease}.clappr-player#wp3-player-0 .seekbar--secondary .bar-container[data-seekbar]{opacity:.2}.clappr-player#wp3-player-0 .seekbar--secondary .bar-container[data-seekbar] .bar-scrubber[data-seekbar]{-webkit-transform:scale(.7);transform:scale(.7)}.clappr-player#wp3-player-0 .seekbar--secondary .thumb-preview{opacity:0;left:-100%!important}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(288),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(10),c=i(289),d=i(16),h=n(d),p=i(2),f=n(p),y=i(9),g=n(y),v=i(290),m=n(v),b=i(291),_=n(b),E=i(292),A=n(E),k=i(293),T=n(k),w=i(294),C=n(w),S=i(295),L=n(S),P=i(296),O=n(P),R=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.loadSocialList(t.options.share&&t.options.share.socialList?t.options.share.socialList:[]),i.shouldRender=!1,i}return o(e,t),s(e,[{key:"name",get:function(){return"share"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"upper"}},{key:"position",get:function(){return"right"}},{key:"template",get:function(){return(0,l.template)(m.default)}},{key:"modal",get:function(){return this.mediaControlPlugin.$modal}},{key:"video",get:function(){return this.core.getCurrentPlayback().video}},{key:"attributes",get:function(){return{class:"media-control-button","data-share":"","data-controls":""}}},{key:"events",get:function(){return{click:"showShareBox"}}}]),s(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),this.listenTo(this.mediaControl,f.default.WM_SHARE_SHOW,function(){var e=t.modal.find(".share__box"),i=t.modal.find(".share__close");e&&e.on("click",function(){return t.hideModal()}),i&&i.append(T.default)})}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.playback&&this.stopListening(this.playback),this.container=this.core.getCurrentContainer(),this.playback=this.core.getCurrentPlayback(),this.listenTo(this.playback,f.default.WM_RESOURCE_SELECTED,this.checkUrl),this.listenTo(this.container,l.Events.CONTAINER_SETTINGSUPDATE,this.shouldHideModal)}},{key:"shouldHideModal",value:function(){var t=this.core.getCurrentPlayback(),e=t&&t.getPlaybackType();"vod"!==e&&"live"!==e&&this.hideModal()}},{key:"checkUrl",value:function(){this.shouldRender=!0,this.render()}},{key:"getDefaultSocialList",value:function(){var t=this;return[{name:"facebook",element:C.default,onClickAction:function(){(0,c.facebookWindow)(t.video.urlForConsumption,t.video.title)}},{name:"twitter",element:L.default,onClickAction:function(){(0,c.twitterWindow)(t.video.urlForConsumption,t.video.title,t.video.program)}},{name:"link",element:O.default,onClickAction:function(e){e.stopPropagation(),t.showLinkCopiedBox(),(0,u.copyToClipboard)(t.video.urlForConsumption,t.modal)}}]}},{key:"loadSocialList",value:function(t){var e=this;this.socialList=[],t&&t.length>0?t.forEach(function(t){e.getDefaultSocialList().forEach(function(i){i.name==t&&e.socialList.push(i)})}):this.socialList=this.getDefaultSocialList()}},{key:"hideModal",value:function(){var t=this.modal&&this.modal.find(".share__box");t&&t.off("click"),this.mediaControl.trigger(f.default.WM_SHARE_HIDE),this.mediaControl.trigger(f.default.MEDIACONTROL_MODAL_HIDE),this.mediaControlPlugin.resetKeepVisible()}},{key:"render",value:function(){if(this.shouldRender){this.shouldRender=!1,this.$el.html("");var t=g.default.getStyleFrom(_.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]),this.$el.append(A.default),this}}},{key:"bindShareEvents",value:function(){var t=this;this.socialList.forEach(function(e){var i=t.modal.find(".share__button[data-share-item="+e.name+"]");"function"==typeof e.onClickAction&&i.on("click",e.onClickAction)})}},{key:"showShareBox",value:function(){var t=this.template({shareItems:this.socialList,videoUrl:this.video.urlForConsumption});this.mediaControl.trigger(f.default.MEDIACONTROL_MODAL_SHOW,t,{hidePanels:!0}),this.mediaControl.trigger(f.default.WM_SHARE_SHOW),this.mediaControlPlugin.setKeepVisible(),this.bindShareEvents()}},{key:"showLinkCopiedBox",value:function(){var t=this.modal.find(".share__box"),e=this.modal.find('.share__button[data-share-item="link"], .share__item-copied-box ');t&&t.addClass("share__box--link-copied"),e&&e.on("click",function(t){return t.stopPropagation()})}}]),e}(h.default);e.default=R,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){return encodeURIComponent(t+"?utm_source="+e+"&utm_medium=share-player-desktop")}function r(t,e){var i=window.screen.width/2-260,n=window.screen.height/2-300,r="height=500,width=500,left="+i+",top="+n+",screenX="+i+",screenY="+n+",\n               resizable=yes,status=no,toolbar=no,menubar=no,scrollbars=no,location=no,directories=no";window.open(t,e,r)}function a(t,e){var i=n(t,"facebook"),a="?app_id=289255557788943&display=popup&href="+i;-1!=t.search("globoplay")&&(a+="&hashtag="+encodeURIComponent("#GloboPlay")),r("https://www.facebook.com/dialog/share"+a,e)}function o(t,e,i){var a=s(i),o=-1!=t.search("globoplay")?" pelo #GloboPlay":"",l=a&&o?"Assista "+a:""+e,u=n(t,"twitter");r("https://twitter.com/intent/tweet?text="+encodeURIComponent(""+l+o)+"&url="+u,e)}function s(t){return t?"#"+t.split(" ").map(function(t){return t[0].toUpperCase()+t.slice(1)}).join("").replace(/[-:]/g,""):""}Object.defineProperty(e,"__esModule",{value:!0}),e.openShareWindow=r,e.facebookWindow=a,e.twitterWindow=o,e.getVideoProgramHashtag=s},function(t,e){t.exports='<div class="share__box">\n  <% for (var i = 0; i < shareItems.length; i++) { %>\n    <button class="share__button" data-share-item="<%= shareItems[i].name %>"> <%= shareItems[i].element %> </button>\n  <% } %>\n\n  <div class="share__item-copied-box">\n    <h1 class="share__title share__button--not-clickable">\n      Link Copiado\n    </h1>\n    <h2 class="share__subtitle">\n      <%= videoUrl %>\n    </h2>\n  </div>\n\n  <button class="share__close" ></button>\n</div>\n'},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .share__box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;right:0;bottom:0;z-index:998;height:100%;width:100%;background-color:rgba(0,0,0,.7)}.clappr-player#wp3-player-0 .share__box--link-copied .share__button{visibility:hidden}.clappr-player#wp3-player-0 .share__box--link-copied .share__button[data-share-item=link]{visibility:visible;transition:-webkit-transform .4s ease;transition:transform .4s ease;transition:transform .4s ease,-webkit-transform .4s ease;-webkit-transform:translate(calc(-100% - 3px));transform:translate(calc(-100% - 3px));opacity:1;cursor:default}.clappr-player#wp3-player-0 .share__box--link-copied .share__item-copied-box{transition:visibility .7s ease,opacity .7s ease;visibility:visible;opacity:1}.clappr-player#wp3-player-0 .share__button{background-color:transparent;border:0;opacity:.6;cursor:pointer;padding:20px;transition:opacity .2s ease;outline:none}.clappr-player#wp3-player-0 .share__button:focus,.clappr-player#wp3-player-0 .share__button:hover{opacity:1}.clappr-player#wp3-player-0 .share__button svg{width:40px}.clappr-player#wp3-player-0 .share__button[data-share-item=facebook]{padding-right:30px}.clappr-player#wp3-player-0 .share__button[data-share-item=twitter]{padding-left:30px;padding-right:25px}.clappr-player#wp3-player-0 .share__button[data-share-item=twitter] svg{width:48px}.clappr-player#wp3-player-0 .share__button[data-share-item=link]{padding-left:30px}.clappr-player#wp3-player-0 .share__button[data-share-item=link] svg{width:50px}.clappr-player#wp3-player-0 .share__item-copied-box{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;position:absolute;top:calc(50% + 32px);left:0;opacity:0;visibility:hidden}.clappr-player#wp3-player-0 .share__title{margin-bottom:5px;font-family:proximanova-bold,sans-serif;font-size:18px;line-height:1;color:#fff;text-shadow:0 2px 5px rgba(0,0,0,.8);text-transform:uppercase;cursor:default}.clappr-player#wp3-player-0 .share__subtitle{padding:0 35px;max-width:100%;word-wrap:break-word;font-family:opensans-regular,sans-serif;font-size:12px;letter-spacing:-.5px;color:#fff;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;text-shadow:0 2px 5px rgba(0,0,0,.8);margin:0}.clappr-player#wp3-player-0 .share__close{background-color:transparent;border:0;padding:0;transition:opacity .4s ease;opacity:.6;position:absolute;top:15px;right:10px;width:28px;height:21px;outline:none;cursor:pointer}.clappr-player#wp3-player-0 .share__close:focus,.clappr-player#wp3-player-0 .share__close:hover{opacity:1}.clappr-player#wp3-player-0 .share__close svg{width:28px;height:21px}",""])},function(t,e){t.exports='<svg viewBox="0 0 32 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Shape Copy 2</title><desc>Created with Sketch.</desc><defs></defs><g id="Player-Interface" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop_Large_VOD01" transform="translate(-1847.000000, -38.000000)" fill="#FFFFFF"><path d="M1859.43421,45.2 L1859.43421,38 L1847,50.6 L1859.43421,63.2 L1859.43421,55.82 C1868.31579,55.82 1874.53289,58.7 1878.97368,65 C1877.19737,56 1871.86842,47 1859.43421,45.2 Z" id="Shape-Copy-2" transform="translate(1862.986842, 51.500000) scale(-1, 1) translate(-1862.986842, -51.500000) "></path></g></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path fill="#FFF" d="M17.167 2.478L15.522.833 9 7.355 2.478.833.833 2.478 7.355 9 .833 15.522l1.645 1.645L9 10.645l6.522 6.522 1.645-1.645L10.645 9z"></path><path d="M-5-5h28v28H-5z"></path></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 77 77" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Shape Copy 2</title><desc>Created with Sketch.</desc><defs></defs><g id="Player-Interface" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop_Large_Share01" transform="translate(-648.000000, -703.000000)" fill="#FFFFFF"><path d="M717.90141,703 L654.881685,703 C652.544599,703 648,707.52765 648,709.860801 L648,772.645493 C648,774.973863 652.5398,779.501513 654.881685,779.501513 L687.701659,779.501513 L687.701659,750.45666 L677.11519,750.45666 L677.11519,739.962265 L687.69686,739.962265 L687.69686,731.887078 C687.69686,722.004657 695.197609,716.138314 704.051659,716.138314 C708.293925,716.138314 710.525434,716.592513 711.581201,716.731163 L711.581201,726.737892 L704.075654,726.733111 C699.267113,726.733111 698.36971,729.109291 698.36971,732.451242 L698.36971,739.962265 L711.72517,739.962265 L709.983153,750.45666 L698.36971,750.45666 L698.36971,779.501513 L717.90141,779.501513 C720.238495,779.501513 724.783095,774.978644 724.783095,772.645493 L724.783095,709.860801 C724.783095,707.532431 720.243294,703 717.90141,703 L717.90141,703 Z" id="Shape-Copy-2"></path></g></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 96 77" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Shape Copy 3</title><desc>Created with Sketch.</desc><defs></defs><g id="Player-Interface" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop_Large_Share01" transform="translate(-905.000000, -703.000000)" fill="#FFFFFF"><path d="M1001.01726,712.05052 C997.485238,713.590016 993.689273,714.627503 989.70615,715.091265 C993.775654,712.705523 996.894968,708.923716 998.368243,704.41519 C994.557882,706.628814 990.34441,708.235245 985.857398,709.100614 C982.267788,705.347493 977.152114,703 971.479763,703 C960.605357,703 951.784899,711.648912 951.784899,722.305863 C951.784899,723.816673 951.952862,725.294016 952.288789,726.709206 C935.914794,725.901209 921.39799,718.218069 911.684928,706.533193 C909.986102,709.387477 909.016716,712.700742 909.016716,716.238716 C909.016716,722.93218 912.49595,728.841552 917.779586,732.303029 C914.549897,732.202627 911.512166,731.337258 908.858351,729.888601 C908.853552,729.97466 908.853552,730.051157 908.853552,730.132435 C908.853552,739.488941 915.648855,747.286827 924.656472,749.060595 C923.005636,749.500451 921.263619,749.739503 919.473613,749.739503 C918.197094,749.739503 916.968565,749.619977 915.76403,749.395268 C918.269079,757.064065 925.544277,762.643546 934.163179,762.80132 C927.425463,767.979193 918.931333,771.067748 909.698166,771.067748 C908.109715,771.067748 906.540461,770.972127 905,770.795229 C913.714881,776.274307 924.0758,779.468046 935.194952,779.468046 C971.431774,779.468046 991.241812,750.055052 991.241812,724.543392 C991.241812,723.706709 991.222616,722.874807 991.189024,722.047686 C995.032978,719.32249 998.373042,715.918386 1001.01726,712.05052 L1001.01726,712.05052 Z" id="Shape-Copy-3"></path></g></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 94 47" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Shape Copy 4</title><desc>Created with Sketch.</desc><defs></defs><g id="Player-Interface" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Desktop_Large_Share01" transform="translate(-1181.000000, -719.000000)" fill="#FFFFFF"><path d="M1189.8407,742.5 C1189.8407,734.463 1196.30837,727.93 1204.265,727.93 L1222.877,727.93 L1222.877,719 L1204.265,719 C1191.42272,719 1181,729.528 1181,742.5 C1181,755.472 1191.42272,766 1204.265,766 L1222.877,766 L1222.877,757.07 L1204.265,757.07 C1196.30837,757.07 1189.8407,750.537 1189.8407,742.5 Z M1208.918,747.2 L1246.142,747.2 L1246.142,737.8 L1208.918,737.8 L1208.918,747.2 Z M1250.795,719 L1232.183,719 L1232.183,727.93 L1250.795,727.93 C1258.75163,727.93 1265.2193,734.463 1265.2193,742.5 C1265.2193,750.537 1258.75163,757.07 1250.795,757.07 L1232.183,757.07 L1232.183,766 L1250.795,766 C1263.63728,766 1274.06,755.472 1274.06,742.5 C1274.06,729.528 1263.63728,719 1250.795,719 Z" id="Shape-Copy-4"></path></g></g></svg>'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(298),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=n(u),d=i(299),h=n(d),p=i(300),f=n(p),y=i(9),g=n(y),v=i(7),m=n(v),b=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.$thumbPreview=i.core.getPlugin("thumb_preview").$el,i}return o(e,t),s(e,[{key:"name",get:function(){return"cuepoints"}},{key:"attributes",get:function(){return{class:"cuepoints"}}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"seekbar",get:function(){return this.core.getPlugin("seekbar")}},{key:"template",get:function(){return(0,l.template)(f.default)}},{key:"playbackType",get:function(){return this.container&&this.container.getPlaybackType()}},{key:"playback",get:function(){return this.container.playback&&this.container.playback||{}}},{key:"events",get:function(){return{mouseenter:"showDetails",mouseleave:"hideDetails",click:"clicked"}}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.container&&this.stopListening(this.container),this.container&&this.container.playback&&this.stopListening(this.container.playback),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container,l.Events.CONTAINER_SETTINGSUPDATE,this.render),this.listenTo(this.container.playback,c.default.WM_PLAYLIST_LOADED,this.parseCuepoints))}},{key:"containerChanged",value:function(){this.cuepoints=[],this.bindContainerEvents()}},{key:"parseCuepoints",value:function(t){this.duration=t.duration;var e=this.core.options.cuepoints&&this.core.options.cuepoints.values;if(e)this.cuepoints=e;else{var i=t&&t.cuepoints||[];this.cuepoints=i.map(function(t){return t.time/=1e3,t})}this.render()}},{key:"clicked",value:function(t){t.stopPropagation(),this.container.seek(this.cuepoints[(0,m.default)(t.target).index()].time)}},{key:"showDetails",value:function(t){var e=this.$thumbPreview.find(".thumb-preview__position"),i=(0,m.default)(t.target).index();e.toggleClass("thumb-preview__position cuepoint__details"),e.empty();var n=(0,m.default)("<div/>",{class:"cuepoint__details-title"}),r=(0,m.default)("<div/>",{class:"cuepoint__details-time"});n.text(this.cuepoints[i].title||"Bloco "+(i+2)),r.text(l.Utils.formatTime(this.cuepoints[i].time)),e.append(n,r),this.seekbar.$el.find(".bar-hover[data-seekbar]").css("visibility","hidden")}},{key:"hideDetails",value:function(t){this.$thumbPreview.find(".cuepoint__details").toggleClass("thumb-preview__position cuepoint__details"),this.seekbar.$el.find(".bar-hover[data-seekbar]").css("visibility","visible")}},{key:"render",value:function(){var t=this;if(this.cuepoints&&this.cuepoints.length&&"ad"!==this.playbackType){this.seekbar.$el.find(".cuepoint").remove();var e=g.default.getStyleFrom(h.default,{playerId:this.core.options.playerId});this.$el.html(this.template({cuepoints:this.cuepoints})),this.$el.append(e[0]),this.cuepoints.forEach(function(e,i){var n=t.duration||t.playback&&t.playback.video&&t.playback.video.duration||0,r=100*e.time/(n/1e3);t.$el.find(".cuepoint").eq(i).css("left",r+"%")}),this.seekbar.$el.append(this.el)}}}]),e}(l.UICorePlugin);e.default=b,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.clappr-player#wp3-player-0 .cuepoints{z-index:100}.clappr-player#wp3-player-0 .cuepoint{position:absolute;height:100%;width:5px;bottom:0}.clappr-player#wp3-player-0 .cuepoint:before{position:absolute;display:inline-block;width:100%;height:3px;bottom:11px;left:0;background:#c2c2c2;content:"";transition:all .2s}.clappr-player#wp3-player-0 .cuepoint:hover:before{-webkit-transform:scaleX(1.5);transform:scaleX(1.5);background:red}.clappr-player#wp3-player-0 .cuepoint__details{width:100%;height:100%;line-height:16px;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:rgba(0,0,0,.3);z-index:100}.clappr-player#wp3-player-0 .cuepoint__details-title{font-family:opensans-bold,sans-serif;font-size:12px;text-shadow:0 0 2px rgba(0,0,0,.5);display:-webkit-box;padding:5px 10px;width:100%;height:45px;-webkit-line-clamp:3;-webkit-box-orient:vertical;text-align:left;overflow:hidden;position:absolute;left:0}.clappr-player#wp3-player-0 .cuepoint__details-time{padding:4px 12px;font-family:opensans-bold,sans-serif;font-size:14px;color:#fff;margin-bottom:1px;text-shadow:0 0 2px rgba(0,0,0,.5);border-radius:3px;border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:rgba(0,0,0,.5);-ms-flex-item-align:end;align-self:flex-end}.clappr-player#wp3-player-0 .bar-container[data-seekbar]:hover .cuepoint:before{height:5px;bottom:10px}',""])},function(t,e){t.exports="<% for (var i = 0; i < cuepoints.length; i++) { %>\n<div class='cuepoint'></div>\n<% } %>\n"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(302),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=n(u),d=i(303),h=n(d),p=i(304),f=n(p),y=i(306),g=n(y),v=i(2),m=n(v),b=i(10),_=i(308),E=n(_),A=i(311),k=n(A),T=i(312),w=n(T),C=i(7),S=n(C),L=c.default.Log.getInstance(),P=(!window.google||!window.google.ima)&&(0,b.embedScript)("https://imasdk.googleapis.com/js/sdkloader/ima3.js"),O=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.isBootstrapReady=!1,i.isAllAdsCompleted=!1,i.isContainerEnded=!1,i.attachCorePlugins(),i}return o(e,t),l(e,[{key:"name",get:function(){return"dfp"}},{key:"attributes",get:function(){return{class:"dfp"}}},{key:"imaScript",get:function(){return P}},{key:"sizes",get:function(){return{playerWidth:this.core.el&&this.core.el.offsetWidth,defaultWidth:640,linearHeight:400,nonLinearHeight:150}}},{key:"shouldSkipAd",get:function(){var t=u.Browser.isChromecast&&this.core.options.skipDFP,e=!window.google||!window.google.ima;return t||e||!this.adUnit}}],[{key:"DEFAULT_ACCOUNT_ID",get:function(){return 95377733}},{key:"DEFAULT_CMS_ID",get:function(){return 11413}}]),l(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,u.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.listenTo(this.core,u.Events.CORE_OPTIONS_CHANGE,this.configure),this.listenTo(this.core,m.default.DFP_DISABLE,this.disable),this.listenTo(this,m.default.DFP_FINISHED,this.destroyIMA)}},{key:"enable",value:function(){this.enabled||(this.dfpAdOverlay&&this.dfpAdOverlay.enable(),this.dfpCountdown&&this.dfpCountdown.enable(),this.dfpVideoAd&&this.dfpVideoAd.enable(),this.adCompanion&&this.adCompanion.enable(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enable",this).call(this),this.bindContainerEvents())}},{key:"disable",value:function(){this.enabled&&(this.dfpAdOverlay&&this.dfpAdOverlay.disable(),this.dfpCountdown&&this.dfpCountdown.disable(),this.dfpVideoAd&&this.dfpVideoAd.disable(),this.adCompanion&&this.adCompanion.disable(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disable",this).call(this),this.listenToOnce(this.core,m.default.DFP_ENABLE,this.enable))}},{key:"attachCorePlugins",value:function(){this.watchedAds=this.core.options&&this.core.options.watchedAds||0,this.core._options=Object.assign(this.core.options,{dfp:this}),this.dfpAdOverlay=new f.default(this.core),!u.Browser.isChromecast&&(this.dfpCountdown=new E.default(this.core)),this.core.$el.append(this.dfpAdOverlay.el),this.core.addPlugin(this.dfpAdOverlay)}},{key:"attachContainerPlugins",value:function(){this.container&&(this.container._options=Object.assign(this.container.options,{dfp:this}),this.dfpVideoAd=new g.default(this.container),this.container.addPlugin(this.dfpVideoAd))}},{key:"configure",value:function(){this.watchedAds=this.core.options&&this.core.options.watchedAds||0;var t=this.core.getCurrentContainer().options;this.videoId=t&&t.src||t.sources&&t.sources[0],void 0===t.useStyledNonLinearAds&&(t.useStyledNonLinearAds=!0),this.container&&(this.stopListening(this.container.playback,m.default.WM_VIDEO_METADATALOADED),this.listenTo(this.container.playback,m.default.WM_VIDEO_METADATALOADED,this.init))}},{key:"parseCustomData",value:function(t){return(0,k.default)(t)?Object.keys(t).reduce(function(e,i){var n=t[i],r=i+"="+n;return e?e+="&"+r:r},""):t}},{key:"init",value:function(t){var i=this,n=this.core.getCurrentContainer().options;this.adAccountId=n.adAccountId||t.adAccountId||e.DEFAULT_ACCOUNT_ID,this.adCmsId=n.adCmsId||t.adCmsId||e.DEFAULT_CMS_ID,this.error=!1,this.adUnit=n.adUnit||t.adUnit,this.adUnit&&(this.adCustomData=this.getAdCustomData(n,t),this.setupCompanion(),this.imaScript.then(function(){return i.bootstrapApi()},function(){return i.onAdError({type:"adError",message:"google.ima not available"})}))}},{key:"getAdCustomData",value:function(t,e){var i=e.adCustomData,n=this.parseCustomData(t.adCustomData),r="";r=t.adUnit?n:i&&n?i+"&"+n:i||n;var a=b.LocalStorage.loadRaw("kxglobo_kuid"),o=b.LocalStorage.loadRaw("kxglobo_allsegs"),s=b.LocalStorage.loadRaw("nvgpersona13574",JSON.parse),l={};return l.video_subscription=e.isSubscriberOnly||!1,s&&(l.nvg_gender=s.gender,l.nvg_age=s.age,l.nvg_income=s.income),a&&o&&(l.ognCluster=o,l.kuid=a),0!==Object.keys(l).length?(r?r+"&":"")+this.parseCustomData(l):r}},{key:"triggerContentResume",value:function(){this.trigger(m.default.DFP_CONTENT_RESUME),u.Mediator.trigger(this.core.options.playerId+":"+m.default.DFP_CONTENT_RESUME)}},{key:"bootstrapApi",value:function(){this.error=!1,this.destroyIMA(),this.shouldSkipAd||(this.setupIMA(),this.requestAd(),this.isAllAdsCompleted=!1,this.isBootstrapReady=!0)}},{key:"setupIMA",value:function(){if(google.ima.settings.setLocale("pt-br"),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),this.adDisplayContainer||(this.adDisplayContainer=new google.ima.AdDisplayContainer(this.dfpAdOverlay.el,this.dfpVideoAd.videoElement)),this.adsLoader||(this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this),!1)),this.adsRenderingSettings||(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!u.Browser.isChromecast),!this.adRequest){var t=Math.min(this.sizes.defaultWidth,this.sizes.playerWidth);this.adsRequest=new google.ima.AdsRequest,this.adsRequest.linearAdSlotWidth=t,this.adsRequest.linearAdSlotHeight=this.sizes.linearHeight,this.adsRequest.nonLinearAdSlotWidth=t,this.adsRequest.nonLinearAdSlotHeight=this.sizes.nonLinearHeight}}},{key:"setupCompanion",value:function(){var t=Object.assign({},this.core.options,{adUnit:this.adUnit,adCustomData:this.adCustomData});this.adCompanion&&this.adCompanion.stopListening(),this.adCompanion=new h.default(t,this.adAccountId,this)}},{key:"destroyIMA",value:function(){this.adsManager&&this.adsManager.destroy(),this.adsLoader&&this.adsLoader.destroy(),this.adsManager=null,this.adsLoader=null,this.isBootstrapReady=!1}},{key:"destroyVideoAd",value:function(){this.dfpVideoAd&&(this.dfpVideoAd.stopListening(),this.dfpVideoAd.destroy(),this.dfpVideoAd=null)}},{key:"onAdError",value:function(t){var e=t&&this.getErrorData(t);L.warn(this.name,"dfp encountered an error, skipping -",e),this.error=!0,this.trigger(m.default.DFP_AD_ERROR,e),u.Mediator.trigger(this.core.options.playerId+":"+m.default.DFP_AD_ERROR,e)}},{key:"getErrorData",value:function(t){var e="function"==typeof t.getError?t.getError():t;return e?{type:"function"==typeof e.getType?e.getType():e.type||e.o||e,message:e.message||e.l||e}:{}}},{key:"onAdsManagerLoaded",value:function(t){var e=this;this.adsRenderingSettings.useStyledNonLinearAds=this.core.options.useStyledNonLinearAds,this.adsManager=t.getAdsManager(this.dfpVideoAd.videoElement,this.adsRenderingSettings),this.discardWatchedAds(this.watchedAds),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e.onAdError(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_METADATA,function(t){return e.onAdMetadata(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(t){return e.onContentPauseRequested(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(t){return e.onContentResumeRequested(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(t){return e.onAdStarted(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,function(t){return e.onAdResumed(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,function(t){return e.onAdPaused(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,function(t){return e.onAdSkipped(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(t){return e.onAdLoaded(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,function(t){return e.onAdClosed(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,function(t){return e.onAdCompleted(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(t){return e.onAdCompleted(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,function(t){return e.onAllAdsCompleted(t)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,function(t){return e.onAdClicked(t)}),this.trigger(m.default.DFP_MANAGER_LOADED)}},{key:"onPlaylistLoaded",value:function(){if(this.isContainerEnded=!1,this.shouldSkipAd)return void this.triggerContentResume();this.startAd()}},{key:"startAd",value:function(){if(!this.adsManager)return void this.listenToOnce(this,m.default.DFP_MANAGER_LOADED,this.startAd);try{this.adsManager.init(this.dfpAdOverlay.$el.width(),this.dfpAdOverlay.$el.height(),google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(t){this.onAdError({type:"adError",message:t&&t.message})}}},{key:"discardWatchedAds",value:function(t){var e=this;(0,w.default)(t,function(t){setTimeout(function(){return e.adsManager.discardAdBreak()},500*t)})}},{key:"onAdClicked",value:function(t){var e=t.getAd();this.trigger(m.default.DFP_AD_CLICKED,e)}},{key:"onAdMetadata",value:function(){this.trigger(m.default.DFP_AD_METADATA)}},{key:"onAdLoaded",value:function(t){var e=t.getAd();this.trigger(m.default.DFP_AD_LOADED,e)}},{key:"onAdStarted",value:function(t){var e=t.getAd();this.watchedAds+=1,u.Mediator.trigger(this.core.options.playerId+":"+m.default.DFP_AD_STARTED),this.trigger(m.default.DFP_AD_STARTED,e.isLinear())}},{key:"onAdResumed",value:function(t){var e=t.getAd();this.trigger(m.default.DFP_AD_RESUME,e.isLinear())}},{key:"onAdPaused",value:function(t){var e=t.getAd();this.trigger(m.default.DFP_AD_PAUSE,e.isLinear())}},{key:"onAdClosed",value:function(t){var e=t.getAd();this.trigger(m.default.DFP_AD_CLOSED,e.isLinear())}},{key:"onAdSkipped",value:function(t){var e=t.getAd();this.trigger(m.default.DFP_AD_SKIPPED,e.isLinear()),u.Mediator.trigger(this.core.options.playerId+":"+m.default.DFP_AD_SKIPPED,e.isLinear())}},{key:"onAdCompleted",value:function(t){var e=t.getAd();this.trigger(m.default.DFP_AD_COMPLETED,e.isLinear())}},{key:"onAllAdsCompleted",value:function(t){this.isAllAdsCompleted=!0;var e=t.getAd();this.trigger(m.default.DFP_ALL_ADS_COMPLETED,e.isLinear()),this.watchedAds=0,this.triggerDfpFinished()}},{key:"onContentPauseRequested",value:function(t){var e=t.getAd();this.trigger(m.default.DFP_CONTENT_PAUSE,e),this.core.getCurrentContainer()||this.adsManager.stop()}},{key:"onContentResumeRequested",value:function(){this.dfpVideoAd.isServedAd||(this.trigger(m.default.DFP_AD_NOTSERVED),u.Mediator.trigger(this.core.options.playerId+":"+m.default.DFP_AD_NOTSERVED)),this.triggerContentResume()}},{key:"containerChanged",value:function(){this.destroyVideoAd(),this.container=this.core.getCurrentContainer();var t=this.container.playback;t.options.onPip?this.listenTo(this.core.getCurrentContainer().playback,m.default.WM_PLAYLIST_LOADED,function(){return t.play()}):(this.attachContainerPlugins(),this.configure(),this.bindContainerEvents(),this.trigger(m.default.DFP_CONTENT_ENDED),u.Mediator.trigger(this.core.options.playerId+":"+m.default.DFP_CONTENT_ENDED)),this.listenTo(this.container,u.Events.CONTAINER_ENDED,this.onContainerEnded),this.listenTo(this.container,u.Events.CONTAINER_STOP,this.onContainerEnded)}},{key:"triggerDfpFinished",value:function(){var t=this.isContainerEnded&&this.isAllAdsCompleted,e=this.isContainerEnded&&this.error;(t||e)&&this.trigger(m.default.DFP_FINISHED)}},{key:"onContainerEnded",value:function(){this.isContainerEnded=!0,this.bindContainerEvents(),this.triggerDfpFinished()}},{key:"bindContainerEvents",value:function(){this.listenToOnce(this.container.playback,m.default.WM_PLAY_REQUESTED_READY,this.onUserGesture),this.listenToOnce(this.container.playback,m.default.WM_PLAYLIST_LOADED,this.onPlaylistLoaded)}},{key:"contentEnded",value:function(){this.trigger(m.default.DFP_CONTENT_ENDED),u.Mediator.trigger(this.core.options.playerId+":"+m.default.DFP_CONTENT_ENDED),this.adsLoader&&this.adsLoader.contentComplete()}},{key:"contentStarted",value:function(){this.trigger(m.default.DFP_CONTENT_STARTED)}},{key:"onUserGesture",value:function(){this.isBootstrapReady||this.bootstrapApi(),this.adDisplayContainer&&this.adDisplayContainer.initialize()}},{key:"requestAd",value:function(){var t=this.unescapeHtml(this.adUnit),e=encodeURIComponent(this.unescapeHtml(this.adCustomData));this.adsRequest.adTagUrl=this.core.options.env.dfpAdTagTemplate({adAccountId:this.adAccountId,adUnit:t,adCmsId:this.adCmsId,videoId:this.videoId,customParams:e}),this.adsLoader&&this.adsLoader.requestAds(this.adsRequest)}},{key:"unescapeHtml",value:function(t){return(0,S.default)("<div/>").html(t).text()}}]),e}(u.CorePlugin);e.default=O,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(2),d=n(c),h=i(7),p=n(h),f=function(t){function e(t,i,n){r(this,e),t.dfp=n;var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),l=t.adUnit,u=t.adCompanion;if(u&&i&&l){var c="object"===(void 0===u?"undefined":s(u))&&Object.keys(u)||[],d=c[0];o.unitcode="/"+i+"/"+l,o.companionWidth=+d.split("x")[0],o.companionHeight=+d.split("x")[1],o.companionDiv=u[d],o.embedScript(),o.setup(),o.show()}else o.disable();return o}return o(e,t),l(e,[{key:"name",get:function(){return"dfp_companion"}}]),l(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.dfp,d.default.DFP_CONTENT_RESUME,this.hide),this.listenTo(this.core.dfp,d.default.DFP_AD_ERROR,this.hide),this.listenTo(this.core.dfp,d.default.DFP_CONTENT_ENDED,this.hide)}},{key:"embedScript",value:function(){if(0===(0,p.default)('script[src="//www.googletagservices.com/tag/js/gpt.js"]').length){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("async","async"),t.setAttribute("src","//www.googletagservices.com/tag/js/gpt.js"),document.head.appendChild(t)}}},{key:"setup",value:function(){var t=this;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],googletag.cmd.push(function(){googletag.defineSlot(t.unitcode,[t.companionWidth,t.companionHeight],t.companionDiv).addService(googletag.companionAds()).addService(googletag.pubads()).addService(googletag.content()),googletag.companionAds().setRefreshUnfilledSlots(!0),googletag.pubads().enableVideoAds(),googletag.enableServices()})}},{key:"show",value:function(){var t=this;googletag.cmd.push(function(){googletag.display(t.companionDiv)})}},{key:"hide",value:function(){(0,p.default)("#"+this.companionDiv).hide()}}]),e}(u.CorePlugin);e.default=f,t.exports=e.default},function(t,e,i){"use strict";(function(n){function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var l=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(0),d=i(9),h=r(d),p=i(2),f=r(p),y=i(305),g=r(y),v=function(){function t(){s(this,t)}return u(t,null,[{key:"Full",get:function(){return""}},{key:"Overlay",get:function(){return"dfp-ad-overlay--overlay-mode"}},{key:"Hidden",get:function(){return"dfp-ad-overlay--poster-mode"}}]),t}(),m=function(t){function e(t){s(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.setMode(v.Hidden),i.dfp||i.disable(),i}return o(e,t),u(e,[{key:"name",get:function(){return"dfp_ad_overlay"}},{key:"attributes",get:function(){return{class:"dfp-ad-overlay"}}}],[{key:"Mode",get:function(){return v}}]),u(e,[{key:"disable",value:function(){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disable",this).call(this)}},{key:"bindEvents",value:function(){var t=this;this.dfp=this.core.options.dfp,this.listenTo(this.dfp,f.default.DFP_AD_LOADED,this.adLoaded),this.listenTo(this.dfp,f.default.DFP_AD_CLOSED,this.adClosed),this.listenTo(this.dfp,f.default.DFP_AD_COMPLETED,this.adClosed),this.listenTo(this.dfp,f.default.DFP_AD_COMPLETED,this.adEnded),this.listenTo(this.dfp,f.default.DFP_AD_SKIPPED,this.adEnded),this.listenTo(this.dfp,f.default.DFP_ALL_ADS_COMPLETED,this.adEnded),this.listenTo(this.dfp,f.default.DFP_CONTENT_STARTED,this.contentStarted),this.listenTo(this.dfp,f.default.DFP_CONTENT_ENDED,this.contentEnded),c.Mediator.on(this.core.options.playerId+":"+c.Events.PLAYER_RESIZE,this.updateSize,this),this.core.$el.on("mouseenter",function(){return t.core.showMediaControl()}),this.bindMediaControlEvents()}},{key:"bindMediaControlEvents",value:function(){this.listenTo(this.core.mediaControl,c.Events.MEDIACONTROL_SHOW,this.mediaControlShow),this.listenTo(this.core.mediaControl,c.Events.MEDIACONTROL_HIDE,this.mediaControlHide),this.$el.removeClass("dfp-ad-overlay--notransition")}},{key:"unbindMediaControlEvents",value:function(){this.stopListening(this.core.mediaControl,c.Events.MEDIACONTROL_SHOW,this.mediaControlShow),this.stopListening(this.core.mediaControl,c.Events.MEDIACONTROL_HIDE,this.mediaControlHide),this.$el.addClass("dfp-ad-overlay--notransition")}},{key:"adLoaded",value:function(t){var e=t.isLinear();this.setMode(e?v.Full:v.Overlay),e&&(this.unbindMediaControlEvents(),this.mediaControlHide()),c.Browser.isMobile&&!e&&this.mediaControlShow()}},{key:"adClosed",value:function(t){this.setMode(v.Hidden)}},{key:"adEnded",value:function(t){this.setMode(v.Hidden),t&&this.bindMediaControlEvents()}},{key:"contentStarted",value:function(){this.setMode(v.Hidden)}},{key:"contentEnded",value:function(){this.setMode(v.Hidden)}},{key:"mediaControlShow",value:function(){this.$el.addClass("dfp-ad-overlay--media-control-show"),this.updateSize()}},{key:"mediaControlHide",value:function(){this.$el.removeClass("dfp-ad-overlay--media-control-show"),this.updateSize()}},{key:"setMode",value:function(t){var e=this;this.$el.removeClass(v.Overlay),this.$el.removeClass(v.Hidden),t&&(this.$el.addClass(t),n.nextTick(function(){return e.updateSize()}))}},{key:"updateSize",value:function(){var t=this.$el.width(),e=this.$el.height();this.dfp.adsManager&&t&&e&&this.dfp.adsManager.resize(t,e,google.ima.ViewMode.NORMAL)}},{key:"render",value:function(){return this.$el.append(h.default.getStyleFrom(g.default,{playerId:this.core.options.playerId})[0]),this}}]),e}(c.UICorePlugin);e.default=m,t.exports=e.default}).call(e,i(22))},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .dfp-ad-overlay{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:994;-webkit-transform:translateZ(0);transform:translateZ(0);transition:bottom .4s ease-out}.clappr-player#wp3-player-0 .dfp-ad-overlay--notransition{transition:none!important}.clappr-player#wp3-player-0 .dfp-ad-overlay--poster-mode{visibility:hidden!important}.clappr-player#wp3-player-0 .dfp-ad-overlay--overlay-mode{height:80px}.clappr-player#wp3-player-0 .dfp-ad-overlay--media-control-show{bottom:36px}.clappr-player#wp3-player-0 .dfp-ad-overlay video{position:absolute;left:0;top:0;width:100%;height:100%}",""])},function(t,e,i){"use strict";(function(n){function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(2),d=r(c),h=i(307),p=r(h),f=function(t){function e(t){a(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.isServedAd=!1,i}return s(e,t),l(e,[{key:"name",get:function(){return"dfp_video_ad"}},{key:"videoElement",get:function(){var t=this.container.playback,e=t&&t.playback;return e&&e.el}}]),l(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.container.playback,d.default.WM_RESOURCE_SELECTED,this.onResourceSelected),this.listenToOnce(this.container.playback,d.default.WM_PLAYLIST_LOADED,this.onPlaylistLoaded),this.listenTo(this.container,u.Events.CONTAINER_TIMEUPDATE,this.containerTimeUpdate),this.listenTo(this.container,u.Events.CONTAINER_ENDED,this.containerEnded),this.listenTo(this.container,u.Events.CONTAINER_STOP,this.containerEnded),this.listenTo(this.container,u.Events.CONTAINER_ERROR,this.containerError),this.listenTo(this.options.dfp,d.default.DFP_AD_LOADED,this.adLoaded),this.listenTo(this.options.dfp,d.default.DFP_CONTENT_PAUSE,this.adBreakStarted),this.listenTo(this.options.dfp,d.default.DFP_CONTENT_RESUME,this.adBreakEnded),this.listenTo(this.options.dfp,d.default.DFP_AD_ERROR,this.adError),this.listenTo(this.container,d.default.WM_MASTERTOPIP,this.onPip)}},{key:"onPip",value:function(){this.stopListening(),this.listenTo(this.container,d.default.WM_PIPTOMASTER,this.bindEvents)}},{key:"onResourceSelected",value:function(){this.container.getPlugin("click_to_pause").disable(),this.hasError=!1}},{key:"onPlaylistLoaded",value:function(){this.container.playback.options.onPip||(this.adPlayback=new p.default(this.options,this.options.dfp)),this.containerPlay(),this.options.dfp.contentStarted()}},{key:"containerPlay",value:function(){var t=this;this.containerPlaying=!0,this.container.disableMediaControl(),this.container.getPlugin("poster").show(),this.container.onBuffering(),this.hasError&&n.nextTick(function(){return t.adBreakEnded()})}},{key:"containerEnded",value:function(){this.options.dfp.contentEnded(),this.stopListening(),this.bindEvents(),this.containerPlaying=!1,this.hasError&&this.adPlayback&&this.adPlayback.stop()}},{key:"containerError",value:function(){this.hasError=!0}},{key:"adError",value:function(){this.hasError=!0,this.adBreakEnded()}},{key:"adLoaded",value:function(t){var e=this,i=t.isLinear();this.options.dfp.podIndex=t.getAdPodInfo().getPodIndex();var n={"-1":function(){u.Log.info(e.name,"Post-roll loaded"),!e.adPlayback&&(e.adPlayback=new p.default(e.options,e.options.dfp)),e.adPlayback.duration=t.getDuration(),e.postroll=!0},0:function(){return u.Log.info(e.name,"Pre-roll loaded")},midroll:function(){u.Log.info(e.name,"Mid-roll loaded"),!e.adPlayback&&(e.adPlayback=new p.default(e.options,e.options.dfp)),e.adPlayback.duration=t.getDuration()}};i?(n[this.options.dfp.podIndex]||n.midroll)():u.Log.info(this.name,"Overlay loaded")}},{key:"adBreakStarted",value:function(){if(this.isServedAd=!0,this.onBreak=!0,this.hasError)return void this.adBreakEnded();this.container.playback.isPlaying()?this.pauseMainContent():this.initAdPlayback()}},{key:"pauseMainContent",value:function(){this.listenToOnce(this.container.playback,u.Events.PLAYBACK_PAUSE,this.initAdPlayback),this.container.pause()}},{key:"initAdPlayback",value:function(){this.playback=this.container.playback,this.playback.stopListening(),this.container.stopListening(),this.container.playback=this.adPlayback,this.container.bindEvents(),this.adPlayback.ready(),!u.Browser.isMobile&&this.container.enableMediaControl(),this.adPlayback.volume(this.container.volume),this.container.settingsUpdate(),this.adPlayback.play(),this.container.bufferfull(),this.container.getPlugin("poster").onPlay(),this.container.trigger(u.Events.CONTAINER_PLAY)}},{key:"adBreakEnded",value:function(){var t=this;this.onBreak&&(this.container.stopListening(),this.playback.bindPlaybackEvents(),this.container.playback=this.playback,this.container.bindEvents()),this.adPlayback&&(this.adPlayback.stop(),this.adPlayback.destroy(),this.adPlayback=null),this.listenToOnce(this.container,u.Events.CONTAINER_PLAY,function(){return t.container.settingsUpdate()}),this.containerPlaying||this.hasError||this.options.dfp.shouldSkipAd?(this.container.getPlugin("click_to_pause").enable(),n.nextTick(function(){return t.container.playback.playWhenReady()})):this.container.getPlugin("poster").show(),this.onBreak=!1,this.hasError=!1,this.isServedAd=!1}},{key:"containerTimeUpdate",value:function(t){}}]),e}(u.ContainerPlugin);e.default=f,t.exports=e.default}).call(e,i(22))},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=function(t){return t&&t.__esModule?t:{default:t}}(u),d=function(t){function e(t,i){n(this,e);var a=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.dfp=i,a.settings=a.defaultSettings,a.bindEvents(),a}return a(e,t),s(e,[{key:"name",get:function(){return"dfp_playback"}},{key:"tagName",get:function(){return"video"}},{key:"attributes",get:function(){return{"data-dfp-playback":""}}},{key:"defaultSettings",get:function(){return{left:[],default:["playpause","volume","position","seekbar","duration","fullscreen"],right:[],seekEnabled:!1,volumeBarTemplate:"bar"}}}]),s(e,[{key:"ready",value:function(){this.trigger(l.Events.PLAYBACK_READY,this.name)}},{key:"bindEvents",value:function(){var t=this;this.listenTo(this.dfp,c.default.DFP_AD_LOADED,function(e){return t.duration=e&&e.getDuration()})}},{key:"render",value:function(){return this}},{key:"getPlaybackType",value:function(){return"ad"}},{key:"getDuration",value:function(){return this.duration}},{key:"getRemainingTime",value:function(){return this.dfp&&this.dfp.adsManager?this.dfp.adsManager.getRemainingTime():0}},{key:"play",value:function(){this.dfp&&this.dfp.adsManager&&(this.playing=!0,this.trigger(l.Events.PLAYBACK_PLAY),this.dfp.adsManager.resume(),this.updateTimer||l.Browser.isMobile||this.startUpdateTimer())}},{key:"pause",value:function(){this.dfp&&this.dfp.adsManager&&(this.dfp.adsManager.pause(),this.playing=!1,this.trigger(l.Events.PLAYBACK_PAUSE),this.stopUpdateTimer())}},{key:"stop",value:function(){this.stopUpdateTimer(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this)}},{key:"startUpdateTimer",value:function(){var t=this;this.stopUpdateTimer(),this.updateTimer=setInterval(function(){var e=t.getRemainingTime();t.trigger(l.Events.PLAYBACK_TIMEUPDATE,{current:t.duration-e,total:t.duration})},100)}},{key:"stopUpdateTimer",value:function(){clearInterval(this.updateTimer),delete this.updateTimer}},{key:"isPlaying",value:function(){return this.playing}},{key:"destroy",value:function(){this.stopUpdateTimer(),this.stopListening(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"volume",value:function(t){var e=this.dfp&&this.dfp.adsManager;e&&e.setVolume(t/100)}},{key:"getVolume",value:function(){return this.dfp.adsManager.getVolume()}}]),e}(l.Playback);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(2),d=n(c),h=i(9),p=n(h),f=i(309),y=n(f),g=i(310),v=n(g),m=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i}return o(e,t),l(e,[{key:"name",get:function(){return"dfp_countdown"}},{key:"template",get:function(){return(0,u.template)(v.default)}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"attributes",get:function(){return{class:"dfp-countdown"}}}]),l(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.options.dfp,d.default.DFP_AD_STARTED,this.adStarted),this.listenTo(this.core.options.dfp,d.default.DFP_AD_COMPLETED,this.adEnded),this.listenTo(this.core.options.dfp,d.default.DFP_AD_SKIPPED,this.adEnded),this.listenTo(this.core.options.dfp,d.default.DFP_AD_ERROR,this.adEnded)}},{key:"adStarted",value:function(t){t&&(this.core.mediaControl.$el.find(".media-control-background").css({visibility:"visible",opacity:1}),this.container=this.core.getCurrentContainer(),this.playback=this.core.getCurrentPlayback(),this.listenTo(this.playback,u.Events.PLAYBACK_TIMEUPDATE,this.renderCountdown),this.$el.removeClass("dfp-countdown--hidden"))}},{key:"adEnded",value:function(){this.stopListening(this.playback,u.Events.PLAYBACK_TIMEUPDATE),this.core.mediaControl.$el.find(".media-control-background").removeAttr("style"),this.$el.addClass("dfp-countdown--hidden")}},{key:"renderCountdown",value:function(){var t={"-1":"Este anncio encerra em",0:"O seu vdeo comea em",midroll:"O seu vdeo continua em"},e=p.default.getStyleFrom(y.default,{playerId:this.container.options.playerId}),i="function"==typeof this.playback.getRemainingTime?this.playback.getRemainingTime():0;this.$el.html(this.template({message:t[this.core.options.dfp.podIndex]||t.midroll,remainingTime:u.Utils.formatTime(i)})),this.$el.append(e[0]),this.mediaControlPlugin.$el.find(".media-control-panel__lower .media-control-position__left").append(this.el)}},{key:"destroy",value:function(){this.stopListening(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}(u.UICorePlugin);e.default=m,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .dfp-countdown{position:relative;margin-left:15px;z-index:998;pointer-events:none;font-size:13px;line-height:13px;color:#e5e886;transition:-webkit-transform .4s ease-out;transition:transform .4s ease-out;transition:transform .4s ease-out,-webkit-transform .4s ease-out}.clappr-player#wp3-player-0 .dfp-countdown__text{display:inline-block;font-family:opensans-regular,sans-serif}.clappr-player#wp3-player-0 .dfp-countdown__time{display:inline-block;font-family:opensans-bold,sans-serif}.clappr-player#wp3-player-0 .dfp-countdown--hidden{display:none;visibility:hidden;opacity:0}",""])},function(t,e){t.exports='<div class="dfp-countdown__text"><%= message %></div>\n<div class="dfp-countdown__time"><%= remainingTime %></div>\n'},function(t,e,i){"use strict";function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function r(t){return!!t&&"object"==(void 0===t?"undefined":o(t))}function a(t){if(!r(t)||p.call(t)!=s||n(t))return!1;var e=f(t);if(null===e)return!0;var i=d.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&c.call(i)==h}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=c.call(Object),p=u.toString,f=function(t,e){return function(i){return t(e(i))}}(Object.getPrototypeOf,Object);t.exports=a},function(t,e,i){"use strict";function n(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function r(t){var e=void 0===t?"undefined":h(t);return!!t&&("object"==e||"function"==e)}function a(t){return!!t&&"object"==(void 0===t?"undefined":h(t))}function o(t){return"symbol"==(void 0===t?"undefined":h(t))||a(t)&&w.call(t)==m}function s(t){if(!t)return 0===t?t:0;if((t=u(t))===p||t===-p){return(t<0?-1:1)*y}return t===t?t:0}function l(t){var e=s(t),i=e%1;return e===e?i?e-i:e:0}function u(t){if("number"==typeof t)return t;if(o(t))return g;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(b,"");var i=E.test(t);return i||A.test(t)?k(t.slice(2),i?2:8):_.test(t)?g:+t}function c(t){return t}function d(t,e){if((t=l(t))<1||t>f)return[];var i=v,r=C(t,v);e="function"==typeof e?e:c,t-=v;for(var a=n(r,e);++i<t;)e(i);return a}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p=1/0,f=9007199254740991,y=1.7976931348623157e308,g=NaN,v=4294967295,m="[object Symbol]",b=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,A=/^0o[0-7]+$/i,k=parseInt,T=Object.prototype,w=T.toString,C=Math.min;t.exports=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(314),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(9),c=n(u),d=i(16),h=n(d),p=i(315),f=n(p),y=i(316),g=n(y),v=function(t){function e(t){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),s(e,[{key:"name",get:function(){return"live_button"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"left"}},{key:"attributes",get:function(){return{class:"live-button live-button--hide"}}},{key:"template",get:function(){return(0,l.template)(g.default)}},{key:"events",get:function(){return{click:this.click}}},{key:"isLive",get:function(){return this.container&&this.container.getPlaybackType()===l.Playback.LIVE}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.onContainerChanged)}},{key:"onContainerChanged",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.getCurrentContainer(),this.listenTo(this.container,l.Events.CONTAINER_SETTINGSUPDATE,this.onContainerUpdate),this.updateState()}},{key:"onContainerUpdate",value:function(){this.stopListening(this.container),this.listenTo(this.container,l.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,this.toggleButton),this.listenTo(this.container,l.Events.CONTAINER_PLAY,this.updateState),this.listenTo(this.container,l.Events.CONTAINER_PAUSE,this.enableButton),this.listenTo(this.container,l.Events.CONTAINER_STOP,this.enableButton)}},{key:"toggleButton",value:function(t){this.dvrInUse=t,this.dvrInUse?this.enableButton():this.disableButton()}},{key:"click",value:function(){this.dvrInUse&&(this.core.mediaControl.container.isPlaying()||this.core.mediaControl.container.play(),this.core.mediaControl.container.seek(this.core.mediaControl.container.getDuration()))}},{key:"updateState",value:function(){this.isLive?this.show():this.hide(),this.dvrInUse?this.enableButton():this.disableButton()}},{key:"show",value:function(){this.$el.removeClass("live-button--hide")}},{key:"hide",value:function(){this.$el.addClass("live-button--hide")}},{key:"enableButton",value:function(){this.$el.addClass("live-button--dvr")}},{key:"disableButton",value:function(){this.$el.removeClass("live-button--dvr")}},{key:"render",value:function(){var t=c.default.getStyleFrom(f.default,{playerId:this.core.options.playerId});return this.$el.html(this.template()),this.$el.append(t[0]),this}}]),e}(h.default);e.default=v,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.clappr-player#wp3-player-0 .live-button{position:relative;margin-left:15px;padding:0 5px 0 18px;height:17px;line-height:22px;border:0;color:#fff;background:transparent;cursor:default;pointer-events:none;top:-3px}.clappr-player#wp3-player-0 .live-button:focus{outline:none}.clappr-player#wp3-player-0 .live-button:before{content:"";position:absolute;top:4px;left:0;width:14px;height:14px;background:red;border-radius:20px;z-index:1;box-shadow:0 0 3px 1px rgba(0,0,0,.2);transition:width .2s ease,height .2s ease,top .2s ease;will-change:width,height,top}.clappr-player#wp3-player-0 .live-button--watch-label{position:relative;display:inline-block;z-index:2;font-family:opensans-regular,sans-serif;font-size:14px;line-height:13.5px;width:0;opacity:0;transition:width .2s ease,opacity .2s ease;will-change:width,opacity}.clappr-player#wp3-player-0 .live-button--live-label{position:relative;z-index:2;font-family:proximanova-xbold,sans-serif;text-transform:uppercase;font-size:16px;letter-spacing:-.7px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5);transition:font-size .2s ease-out}.clappr-player#wp3-player-0 .live-button--dvr{padding:0 14px;cursor:pointer;pointer-events:all;transition:opacity .2s ease-out}.clappr-player#wp3-player-0 .live-button--dvr:before{width:120px;height:22px;top:0}.clappr-player#wp3-player-0 .live-button--dvr .live-button--watch-label{opacity:1;width:44px}.clappr-player#wp3-player-0 .live-button--dvr .live-button--live-label{font-size:12px;line-height:13.3px;letter-spacing:-.8px;top:0}.clappr-player#wp3-player-0 .live-button--hide,.clappr-player#wp3-player-0 .live-button--hide:hover{opacity:0}',""])},function(t,e){t.exports='<span class="live-button--watch-label">assista</span> <span class="live-button--live-label">ao vivo</span>\n'},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=n(u),d=i(9),h=n(d),p=i(318),f=n(p),y=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));i.core=t,i.mediaControl=i.core.mediaControl,i.allowPipToMaster=!!i.core.options.allowPipToMaster;var n=h.default.getStyleFrom(f.default,{playerId:i.core.options.playerId});return i.core.$el.append(n[0]),i.setupContainers(),i.addListeners(),i}return o(e,t),s(e,[{key:"name",get:function(){return"pip"}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}}]),s(e,[{key:"getExternalInterface",value:function(){return{addPip:this.addPip,discardPip:this.discardPip,addMaster:this.addMaster,changeMaster:this.changeMaster,getPipSource:this.getPipSource,pipToMaster:this.pipToMaster,hasPip:this.hasPip}}},{key:"addListeners",value:function(){var t=this;this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.mediaControlContainerChanged),this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_SHOW,this.onMediaControlShow),this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_HIDE,this.onMediaControlHide),this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,function(e){return t.onMouseMove(e)}),this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.onMouseLeave),this.listenTo(this.core.mediaControl,c.default.WM_SETTINGS_SHOW,this.setSettingsUnobtrusiveMode),this.listenTo(this.core.mediaControl,c.default.WM_SETTINGS_HIDE,this.removeSettingsUnobtrusiveMode),this.listenTo(this.core.mediaControl,c.default.WM_VOLUME_SHOW,this.setVolumeUnobtrusiveMode),this.listenTo(this.core.mediaControl,c.default.WM_VOLUME_HIDE,this.removeVolumeUnobtrusiveMode),this.listenTo(this.core.mediaControl,c.default.WM_SHARE_SHOW,this.setUnobtrusiveMode),this.listenTo(this.core.mediaControl,c.default.WM_SHARE_HIDE,this.removeUnobtrusiveMode)}},{key:"mediaControlContainerChanged",value:function(){this.core.options.dfp&&(this.stopListening(this.core.options.dfp),this.listenTo(this.core.options.dfp,c.default.DFP_AD_STARTED,this.setUnobtrusiveMode),this.listenTo(this.core.options.dfp,c.default.DFP_AD_COMPLETED,this.removeUnobtrusiveMode),this.listenTo(this.core.options.dfp,c.default.DFP_AD_CLOSED,this.removeUnobtrusiveMode),this.listenTo(this.core.options.dfp,c.default.DFP_AD_SKIPPED,this.removeUnobtrusiveMode)),this.masterContainer=this.core.mediaControl.container,this.setMasterStyle(this.masterContainer,!1)}},{key:"setupContainers",value:function(){this.core.containers.length>0&&(this.masterContainer=this.core.containers[0],this.setMasterStyle(this.masterContainer,!1),this.core.mediaControl.setContainer(this.masterContainer),this.core.mediaControl.render(),2===this.core.containers.length&&(this.pipContainer=this.core.containers[1],this.setPipStyle(this.pipContainer,!1),this.masterContainer.playback&&this.masterContainer.playback.playWhenReady()||this.masterContainer.play(),this.pipContainer.playback&&this.pipContainer.playback.playWhenReady()||this.pipContainer.play(),this.pipContainer.setVolume(0),this.pipContainer.playback.isPip(!0),this.listenToPipClick()))}},{key:"onMouseMove",value:function(t){this.isOnUnobtrusiveMode||((!t||this.core.mediaControl.container.playback.settings.seekEnabled&&!["thumb","thumb-position"].includes(t.target.className))&&this.pipContainer?this.pipContainer.$el.addClass("unobtrusive-mode"):this.onMouseLeave())}},{key:"onMouseLeave",value:function(){this.isOnUnobtrusiveMode||this.pipContainer&&this.pipContainer.$el.removeClass("unobtrusive-mode")}},{key:"hasPip",value:function(){return!!this.pipContainer}},{key:"getPipSource",value:function(){return this.pipContainer.playback.src}},{key:"canAddMaster",value:function(){return this.masterContainer&&"ad"!==this.masterContainer.getPlaybackType()}},{key:"addPip",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=this.core.getCurrentPlayback(),n=this.core.getCurrentContainer();!!i.getPlaybackType()&&"ad"!==i.getPlaybackType()&&i.isPlaying()?(this.discardPip(),this.pipContainer=this.core.createContainer(e,{onPip:!0}),this.addPipCallback()):n.once(l.Events.CONTAINER_PLAY,function(){return t.addPip(e)})}},{key:"addPipCallback",value:function(){var t=this,e=this.pipContainer.playback;e.once(l.Events.PLAYBACK_READY,function(){return t.pipContainer.setVolume(0)}),this.setPipStyle(this.pipContainer),e&&e.playWhenReady()||this.pipContainer.play(),this.stopListening(this.pipContainer),this.listenToPipClick(),this.listenTo(this.pipContainer,l.Events.CONTAINER_ENDED,this.discardPip),this.listenTo(this.pipContainer,l.Events.CONTAINER_MOUSE_ENTER,this.mouseEnterPip),this.listenTo(this.pipContainer,l.Events.CONTAINER_MOUSE_LEAVE,this.mouseLeavePip),this.listenTo(this.masterContainer,l.Events.CONTAINER_ENDED,this.pipToMaster),e.isPip(!0),this.core.trigger(c.default.WM_PIP_ADDED)}},{key:"mouseEnterPip",value:function(){this.pipContainer.$el.addClass("mouse-over"),this.pipContainer.setVolume(this.masterContainer.volume),this.masterContainer.setVolume(0)}},{key:"mouseLeavePip",value:function(){this.pipContainer.$el.removeClass("mouse-over"),this.masterContainer.setVolume(this.pipContainer.volume),this.pipContainer.setVolume(0)}},{key:"discardPip",value:function(){this.pipContainer&&(this.stopListening(this.pipContainer),this.discardContainer(this.pipContainer),this.pipContainer=void 0,this.core.trigger(c.default.WM_PIP_DISCARDED))}},{key:"discardMaster",value:function(){this.masterContainer&&(this.stopListening(this.masterContainer),this.discardContainer(this.masterContainer),this.masterContainer=void 0)}},{key:"setMasterContainer",value:function(t){this.discardMaster(),this.masterContainer=t,this.setMasterStyle(this.masterContainer),this.listenTo(this.masterContainer,l.Events.CONTAINER_ENDED,this.pipToMaster),this.masterContainer.playback&&this.masterContainer.playback.playWhenReady()||this.masterContainer.play()}},{key:"addMaster",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.canAddMaster()&&this.masterContainer){this.stopListening(this.masterContainer),this.tmpContainer=this.masterContainer,this.tmpContainer.$el.addClass("pip-transition");var e=this.core.createContainer(t.toString(),{onMaster:!0});this.addMasterCallback(e)}}},{key:"addMasterContainer",value:function(t){this.masterContainer&&(this.tmpContainer=this.masterContainer,this.tmpContainer.$el.addClass("pip-transition"),this.addMasterCallback(t))}},{key:"addMasterCallback",value:function(t){var e=Math.max(this.masterContainer.volume,this.pipContainer&&this.pipContainer.volume||0);this.tmpContainer.setVolume(0),this.masterContainer=t,this.pipContainer&&this.discardPip(),this.pipContainer=this.tmpContainer,this.setPipStyle(this.pipContainer),this.setMasterStyle(this.masterContainer);var i=this.masterContainer.playback&&this.masterContainer.playback.playWhenReady.bind(this.masterContainer.playback)||this.masterContainer.play.bind(this.masterContainer);this.masterContainer.isReady?i():this.listenTo(this.masterContainer,l.Events.CONTAINER_READY,function(){return i()}),this.animateMasterToPip(),this.listenTo(this.pipContainer,l.Events.CONTAINER_MOUSE_ENTER,this.mouseEnterPip),this.listenTo(this.pipContainer,l.Events.CONTAINER_MOUSE_LEAVE,this.mouseLeavePip),this.tmpContainer=void 0,this.masterContainer.setVolume(e),this.pipContainer.trigger(c.default.WM_MASTERTOPIP),this.core.trigger(c.default.WM_MASTER_ADDED)}},{key:"animateMasterToPip",value:function(){this.listenTo(this.masterContainer,l.Events.CONTAINER_ENDED,this.pipToMaster),this.pipContainer.playback.isPip(!0),this.setPipStyle(this.pipContainer),this.core.mediaControl.setContainer(this.masterContainer),this.listenToPipClick()}},{key:"changeMaster",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.masterContainer){this.stopListening(this.masterContainer),this.tmpContainer=this.masterContainer,this.tmpContainer.$el.addClass("pip-transition");var e=this.core.createContainer(t.toString(),{onMaster:!0});this.changeMasterCallback(e)}}},{key:"changeMasterCallback",value:function(t){this.masterContainer.destroy(),this.masterContainer=t,this.tmpContainer=void 0,this.setMasterStyle(this.masterContainer),this.listenTo(this.masterContainer,l.Events.CONTAINER_ENDED,this.pipToMaster);var e=this.masterContainer.playback&&this.masterContainer.playback.playWhenReady.bind(this.masterContainer.playback)||this.masterContainer.play.bind(this.masterContainer);this.masterContainer.isReady?e():this.listenTo(this.masterContainer,l.Events.CONTAINER_READY,function(){return e()}),this.core.mediaControl.setContainer(this.masterContainer),this.core.trigger(c.default.WM_MASTER_CHANGED)}},{key:"listenToPipClick",value:function(){this.pipContainer&&this.allowPipToMaster&&(this.stopListening(this.pipContainer),this.listenTo(this.pipContainer,l.Events.CONTAINER_CLICK,this.pipToMaster.bind(this)))}},{key:"discardContainer",value:function(t){t.destroy()}},{key:"pipToMaster",value:function(){var t=this;return this.stopListening(this.masterContainer),this.stopListening(this.pipContainer),this.pipContainer&&(this.pipContainer.$el.addClass("pip-transition"),this.setMasterStyle(this.pipContainer),this.pipContainer.$el.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t.pipContainer.$el.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"),t.pipToMasterCallback()})),this}},{key:"pipToMasterCallback",value:function(){var t=Math.max(this.masterContainer.volume,this.pipContainer.volume);this.discardMaster(),this.pipContainer.playback.isPip(!1),this.masterContainer=this.pipContainer,this.pipContainer=void 0,this.core.mediaControl.setContainer(this.masterContainer),this.mediaControlPlugin.updatePlaybackTypeClass(),this.mediaControlPlugin.enable(),this.masterContainer.setVolume(t),this.masterContainer.trigger(c.default.WM_PIPTOMASTER)}},{key:"onMediaControlShow",value:function(){this.mediaControlPlugin.disabled||this.pipContainer&&this.pipContainer.$el.addClass("pip-transition over-media-control")}},{key:"onMediaControlHide",value:function(){this.mediaControlPlugin.keepVisible||(this.masterContainer&&this.masterContainer.$el.removeClass("over-media-control"),this.pipContainer&&(this.pipContainer.$el.addClass("pip-transition"),this.pipContainer.$el.removeClass("over-media-control")))}},{key:"setAnimatedTransition",value:function(t,e){e?t.$el.addClass("pip-transition"):t.$el.removeClass("pip-transition")}},{key:"setPipStyle",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setAnimatedTransition(t,e),t.$el.attr("data-pip",""),t.$el.addClass("pip-container"),t.$el.removeClass("over-media-control master-container"),t.hasPlugin("click_to_pause")&&(t.getPlugin("click_to_pause").disable(),t.getPlugin("click_to_pause").settingsUpdate()),this.mediaControlPlugin.isVisible()&&this.onMediaControlShow()}},{key:"setMasterStyle",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setAnimatedTransition(t,e),t.$el.attr("data-pip",""),t.$el.addClass("master-container"),t.$el.removeClass("over-media-control pip-container"),t.hasPlugin("click_to_pause")&&(t.getPlugin("click_to_pause").enable(),t.getPlugin("click_to_pause").settingsUpdate())}},{key:"setUnobtrusiveMode",value:function(){this.isOnUnobtrusiveMode=!0,this.pipContainer&&this.pipContainer.$el.addClass("unobtrusive-mode")}},{key:"removeUnobtrusiveMode",value:function(){this.volumeUnobtrusive||this.settingsUnobtrusive||(this.isOnUnobtrusiveMode=!1,this.pipContainer&&this.pipContainer.$el.removeClass("unobtrusive-mode"))}},{key:"setVolumeUnobtrusiveMode",value:function(){this.volumeUnobtrusive=!0,this.setUnobtrusiveMode()}},{key:"removeVolumeUnobtrusiveMode",value:function(){this.volumeUnobtrusive=!1,this.removeUnobtrusiveMode()}},{key:"setSettingsUnobtrusiveMode",value:function(){this.settingsUnobtrusive=!0,this.setUnobtrusiveMode()}},{key:"removeSettingsUnobtrusiveMode",value:function(){this.settingsUnobtrusive=!1,this.removeUnobtrusiveMode()}}]),e}(l.CorePlugin);e.default=y,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .pip-transition[data-pip]{transition:all .4s ease-out}.clappr-player#wp3-player-0.nocursor .container[data-container].master-container[data-pip],.clappr-player#wp3-player-0.nocursor .container[data-container].master-container[data-pip].pointer-enabled,.clappr-player#wp3-player-0.nocursor .container[data-container].pip-container[data-pip],.clappr-player#wp3-player-0.nocursor .container[data-container].pip-container[data-pip].pointer-enabled{cursor:none}.clappr-player#wp3-player-0 .container[data-container].master-container[data-pip]{cursor:default;width:100%;height:100%;font-size:100%;position:absolute;bottom:0;right:0;padding:0;margin:0;border:none}.clappr-player#wp3-player-0 .container[data-container].master-container[data-pip].pointer-enabled{cursor:pointer}.clappr-player#wp3-player-0 .container[data-container].master-container[data-pip].pip-transition{z-index:1000}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip]{cursor:default;width:24%;height:24%;min-width:0;font-size:24%;z-index:1000;position:absolute;padding:0;margin:0;right:23px;bottom:23px;border-radius:3px;border:2px solid hsla(0,0%,100%,.25);background-clip:padding-box;-webkit-background-clip:padding-box}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip].pointer-enabled{cursor:pointer}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip].over-media-control{-webkit-transform:translateY(-43px);transform:translateY(-43px)}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip].mouse-over{border-color:hsla(0,0%,100%,.5)}.clappr-player#wp3-player-0 .container[data-container].pip-container[data-pip].unobtrusive-mode{opacity:.3;z-index:993}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(320),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(7),c=n(u),d=i(16),h=n(d),p=i(9),f=n(p),y=i(321),g=n(y),v=i(67),m=n(v),b=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i.showOrHideInfo(),i}return o(e,t),s(e,[{key:"name",get:function(){return"seekbar_info"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"center"}},{key:"attributes",get:function(){return{class:"seekbar-info seekbar-info--hide"}}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.swapContainers),this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.hide),this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_RENDERED,this.showOrHideInfo),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){this.core.mediaControl.container&&(this.listenTo(this.core.mediaControl.container,l.Events.CONTAINER_PLAY,this.showOrHideInfo),this.listenTo(this.core.mediaControl.container,l.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,this.showOrHideInfo))}},{key:"swapContainers",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.mediaControl.container,this.bindContainerEvents(),this.showOrHideInfo()}},{key:"showOrHideInfo",value:function(){this.isOnDvr()&&this.hide(),this.shouldRender()&&(this.render(),this.isOnDvr()?this.hide():this.show())}},{key:"shouldRender",value:function(){return this.isLive()&&this.dvrEnabled()&&!this.isOnDvr()}},{key:"isLive",value:function(){return this.container&&"live"===this.container.getPlaybackType()}},{key:"isOnDvr",value:function(){return this.container&&this.container.isDvrInUse()}},{key:"dvrEnabled",value:function(){if(this.container)return!!this.container.playback.settings.seekEnabled}},{key:"show",value:function(){var t=this;this.$el.removeClass("seekbar-info--hide"),this.isLive()&&(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){return t.hide()},2e3))}},{key:"hide",value:function(){this.isLive()&&(clearTimeout(this.hideTimeout),this.hideTimeout=null,this.$el.addClass("seekbar-info--hide"))}},{key:"getExternalInterface",value:function(){}},{key:"render",value:function(){var t=f.default.getStyleFrom(g.default,{playerId:this.core.options.playerId});this.$el.html("");var e="";return this.dvrEnabled()&&(e="Reveja a transmisso"),this.$span=(0,c.default)("<span/>").text(e),this.$el.append(this.$span[0]),this.$el.append(m.default),this.$el.append(t[0]),this.$span=this.$el.find("span"),this}}]),e}(h.default);e.default=b,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .seekbar-info{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;position:relative;height:30px;bottom:-48px;cursor:default;text-transform:lowercase;font-family:opensans-regular,sans-serif;font-size:12px;color:#fff;text-shadow:0 0 1px #000;will-change:bottom;transition:bottom .4s ease,opacity .4s ease}.clappr-player#wp3-player-0 .seekbar-info svg{width:7px;margin:0 auto;-webkit-transform:rotate(270deg);transform:rotate(270deg)}.clappr-player#wp3-player-0 .seekbar-info--hide{display:none;bottom:-60px;opacity:0}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(323),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(16),c=n(u),d=i(2),h=n(d),p=i(9),f=n(p),y=i(324),g=n(y),v=i(331),m=n(v),b=i(332),_=n(b),E=i(7),A=n(E),k=i(336),T=n(k),w=i(337),C=n(w),S=i(338),L=n(S),P=i(67),O=n(P),R=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.render),this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.core.mediaControl,h.default.WM_VOLUME_SHOW,function(){t.hideSettingsBox({timeout:0,keepSeekbarSecondary:!0})}),this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_HIDE,function(){t.hideSettingsBox({timeout:0})}),this.selectors.forEach(function(e){t.listenTo(e,h.default.WM_SETTINGS_OPTIONS_CHANGED,t.render)})}},{key:"bindSettingsEvents",value:function(){var t=this;this.$settingsBox=this.mediaControlPlugin.$modal.find(".settings__box"),this.$settingsMenuItens=this.mediaControlPlugin.$modal.find(".settings__menu-itens"),this.$settingsBox.on("mouseenter",function(){clearTimeout(t.mouseLeaveTimeout)}),this.$settingsBox.on("mouseleave",this.hideSettingsBox.bind(this)),this.$settingsMenuItens.on("click",this.clickMenu.bind(this))}},{key:"unbindSettingsEvents",value:function(){this.$settingsBox.off("mouseleave"),this.$settingsMenuItens.off("click"),this.mediaControlPlugin.$modal.find(".settings__options-title").off("click")}},{key:"clickMenu",value:function(t){var e=(0,A.default)(t.target).data("selector-name"),i=this.selectors.find(function(t){return t.name===e});this.fromMenuToOptions(),this.renderOptions(i)}},{key:"renderOptions",value:function(t){this.mediaControlPlugin.$modal.find(".settings__options").html(t.render().el),this.mediaControlPlugin.$modal.find(".settings__options-title").on("click",this.fromOptionsToMenu.bind(this))}},{key:"fromMenuToOptions",value:function(){this.mediaControlPlugin.$modal.find(".settings__menu").css({display:"none"}),this.mediaControlPlugin.$modal.find(".settings__options").css({display:"block"})}},{key:"fromOptionsToMenu",value:function(){this.mediaControlPlugin.$modal.find(".settings__menu").css({display:"block"}),this.mediaControlPlugin.$modal.find(".settings__options").css({display:"none"}),this.showSettingsBox(),this.hideSettingsBox({timeout:500})}},{key:"showSettingsBox",value:function(){if(!this.mediaControlPlugin.$el.hasClass("media-control-dragging")){this.mouseLeaveTimeout&&clearTimeout(this.mouseLeaveTimeout);var t=this.template({selectors:this.availableSelectors,arrowIcon:O.default});this.mediaControl.trigger(h.default.MEDIACONTROL_MODAL_SHOW,t),this.mediaControl.trigger(h.default.WM_SETTINGS_SHOW),this.mediaControlPlugin.$el.addClass("seekbar--secondary"),this.isSettingsBoxVisible=!0,this.bindSettingsEvents()}}},{key:"hideSettingsBox",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isSettingsBoxVisible&&(e.timeout="number"==typeof e.timeout?e.timeout:200,this.mouseLeaveTimeout&&clearTimeout(this.mouseLeaveTimeout),this.mouseLeaveTimeout=setTimeout(function(){t.unbindSettingsEvents(),t.mediaControl.trigger(h.default.MEDIACONTROL_MODAL_HIDE),t.mediaControl.trigger(h.default.WM_SETTINGS_HIDE),t.isSettingsBoxVisible=!1,!e.keepSeekbarSecondary&&t.mediaControlPlugin.$el.removeClass("seekbar--secondary")},e.timeout),this.mediaControlPlugin.resetUserKeepVisible())}},{key:"shouldRender",value:function(){return this.availableSelectors.length>0&&!["ad","live"].includes(this.core.getPlaybackType())}},{key:"render",value:function(){this.$el.html("");var t=f.default.getStyleFrom(T.default,{playerId:this.core.options.playerId});return this.$el.append(t[0]),this.shouldRender()?(this.$el.removeClass("media-control-button--hidden"),this.$el.attr("style",""),this.$el.append(L.default)):this.$el.addClass("media-control-button--hidden"),this}},{key:"name",get:function(){return"settings"}},{key:"tagName",get:function(){return"button"}},{key:"panel",get:function(){return"lower"}},{key:"position",get:function(){return"right"}},{key:"template",get:function(){return(0,l.template)(C.default)}},{key:"attributes",get:function(){return{class:"media-control-button","data-settings":""}}},{key:"events",get:function(){return{mouseenter:"showSettingsBox",mouseleave:"hideSettingsBox"}}},{key:"selectors",get:function(){return this._selectors=this._selectors||[new g.default(this.core),new _.default(this.core),new m.default(this.core)],this._selectors}},{key:"availableSelectors",get:function(){return this.selectors.filter(function(t){return t.shouldRender()})}}]),e}(c.default);e.default=R,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(325),c=n(u),d=i(327),h=n(d),p=i(328),f=n(p),y=i(69),g=n(y),v=i(2),m=n(v),b={max:"M&aacute;xima",high:"Alta",mid:"M&eacute;dia",low:"Baixa",auto:"Autom&aacute;tica"},_=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.container&&this.playback&&(this.listenTo(this.playback,l.Events.PLAYBACK_READY,this.setup),this.playback.isReady&&this.setup())}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents(),this.setup()}},{key:"setup",value:function(){var t=this.core.getCurrentPlayback(),e=t&&t.playback;if(!t||!t.video||!e)return void l.Log.info(this.name,"should not setup quality selector");if(this.selector&&this.stopListening(this.selector),["html5_video","flash"].includes(e.name))this.selector=new f.default(this.core);else if("flashls"===e.name)this.selector=new h.default(this.core);else{if("hls"!==e.name)return void l.Log.info(this.name,"could not setup quality selector");this.selector=new c.default(this.core)}this.listenTo(this.selector,m.default.WM_LEVELSELECTOR_READY,this.parseLevels),this.selector.ready&&this.parseLevels()}},{key:"parseLevels",value:function(){var t=this.selector.levels||[];this.availableOptions=t.map(function(t){return Object.assign({},t,{name:t.label,label:b[t.label]})}),this.trigger(m.default.WM_SETTINGS_OPTIONS_CHANGED),this.container.trigger(m.default.WM_SETTINGS_LEVEL_SELECTED,this.availableOptions)}},{key:"playbackUpdate",value:function(t){this.selector.levelSwitch(t)}},{key:"name",get:function(){return"quality_selector"}},{key:"title",get:function(){return"Qualidade"}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}}]),e}(g.default);e.default=_,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=n(u),d=i(101),h=n(d),p=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i.ready=!1,i.levels=[],i.container=i.core.getCurrentContainer(),i.playback=i.core.mediaControl.container.playback.playback,i.bindEvents(),i}return o(e,t),s(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.playback,l.Events.PLAYBACK_LEVELS_AVAILABLE,this.fillLevels)}},{key:"labelFor",value:function(t){return t>=4e5&&t<8e5?"low":t>=8e5&&t<18e5?"mid":t>=18e5&&t<28e5?"high":"max"}},{key:"fillLevels",value:function(){var t=this;this.levels.push({id:-1,label:"auto",selected:!0}),(this.playback.levels||[]).forEach(function(e){var i=e.level.bitrate;i<4e5||t.levels.push({id:e.id,label:t.labelFor(i),selected:!1})}),this.levels=(0,h.default)(this.levels.reverse(),"label"),this.ready=!0,this.trigger(c.default.WM_LEVELSELECTOR_READY)}},{key:"levelSwitch",value:function(t){this.playback.currentLevel=t,this.container.trigger(c.default.WM_SETTINGS_LEVEL_SELECTED,this.levels)}}]),e}(l.BaseObject);e.default=p,t.exports=e.default},function(t,e,i){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=n(u),d=i(101),h=n(d),p=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i.ready=!1,i.levels=[],i.playback=i.core.mediaControl.container.playback.playback,i.bindEvents(),i}return o(e,t),s(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.playback,l.Events.PLAYBACK_LOADEDMETADATA,this.fillLevels),this.listenToOnce(this.playback,l.Events.PLAYBACK_PROGRESS,this.fillLevels)}},{key:"labelFor",value:function(t){return t>=4e5&&t<8e5?"low":t>=8e5&&t<18e5?"mid":t>=18e5&&t<28e5?"high":"max"}},{key:"fillLevels",value:function(){var t=this;if(!(this.levels.length>0)){this.levels.push({id:-1,label:"auto",selected:!0});this.playback.levels.forEach(function(e){var i=e.level.bitrate;i<4e5||t.levels.push({id:e.id,label:t.labelFor(i),selected:!1})}),this.levels=(0,h.default)(this.levels.reverse(),"label"),this.ready=!0,this.trigger(c.default.WM_LEVELSELECTOR_READY)}}},{key:"levelSwitch",value:function(t){var e=-1===t?120:0;this.playback.setMaxBufferLength(e),this.playback.setCurrentLevel(t)}}]),e}(l.BaseObject);e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(2),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=i(10),d=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.ready=!1,i.core=t,i.fillLevels(),i}return a(e,t),o(e,[{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"currentLevel",get:function(){return this.playback.options.selectedLevel||this.playback.options.preferredLevel}}]),o(e,[{key:"fillLevels",value:function(){var t=this.playback;t.video&&this.playlistLoaded(t.video)}},{key:"playlistLoaded",value:function(t){var e=t.resources,i={1080:"max",720:"high",480:"mid",360:"low"};this.levels=[];for(var n in e)if(e[n].height){var r={id:e[n].height,label:i[e[n].height],selected:e[n].height===(this.currentLevel||360)};this.levels.push(r)}this.levels=this.sortBy(this.levels,"id").reverse(),this.ready=!0,this.trigger(u.default.WM_LEVELSELECTOR_READY)}},{key:"sortBy",value:function(t,e){return t.sort(function(t,i){return t[e]-i[e]})}},{key:"levelSwitch",value:function(t){t!==this.currentLevel&&(this.core.configure({selectedLevel:t}),this.playback.selectLevel(t),c.LocalStorage.store("selectedlevel",t))}}]),e}(s.BaseObject);e.default=d,t.exports=e.default},function(t,e){t.exports='<div class="settings__options-title"><%= arrowIcon %> <%= title %></div>\n<div class="settings__separator"></div>\n<ul class="settings__options-menu">\n  <% for (var i = 0; i < options.length; i++) { %>\n    <% if (options[i].selected) { %>\n      <li data-option-id="<%= options[i].id %>" class="settings__options-itens settings__options-itens--active">\n        <%= activeIcon %> <span class="label" data-option-id="<%= options[i].id %>"><%= options[i].label %></span>\n      </li>\n    <% } else { %>\n      <li data-option-id="<%= options[i].id %>" class="settings__options-itens"><%= options[i].label %></li>\n    <% } %>\n  <% } %>\n</ul>\n'},function(t,e){t.exports='<svg viewBox="0 0 25 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1540.000000, -850.000000)" fill="#FFFFFF"><g id="Group-2" transform="translate(1506.000000, 724.000000)"><polygon id="Shape-Copy-3" points="41.944855 141.036953 36.0181922 135.11029 34 137.114269 41.944855 145.059125 59 128.00398 56.9960205 126"></polygon></g></g></g></svg>'},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=n(u),d=i(69),h=n(d),p=i(7),f=n(p),y=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"bindEvents",value:function(){if(this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.core.getCurrentContainer()){this.listenTo(this.core.getCurrentPlayback(),c.default.WM_PLAYLIST_LOADED,this.setup);var t=this.core.getCurrentContainer().playback;t&&t.video&&this.setup(t.video)}}},{key:"setup",value:function(t){var e=this;this.availableOptions=[];var i=t.subtitleResource,n=function(t){e.availableOptions[0]=e.createSubtitle({url:"none",language:"none"},"",!0,0,"Desabilitado"),e.availableOptions[1]=e.createSubtitle(i,t,!1,1,"Portugus"),"por"!==e.core.options.defaultSubtitle&&e.currentSubtitle!==t||e.selectOption(1),e.trigger(c.default.WM_SETTINGS_OPTIONS_CHANGED),e.core.getCurrentContainer().trigger(c.default.WM_SUBTITLE_AVAILABLE,e.availableOptions)},r=function(t){l.Log.error(e.name,t)};i&&f.default.ajax({url:i.url,timeout:3e3,success:n,error:r})}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents()}},{key:"createSubtitle",value:function(t,e,i,n,r){return{url:t.url,language:t.language||"por",subtitle:e,selected:i,id:n,label:r}}},{key:"playbackUpdate",value:function(t){this.currentSubtitle=this.availableOptions[t].subtitle,this.core.getCurrentContainer().trigger(c.default.WM_SUBTITLE_CHANGED,this.availableOptions[t])}},{key:"name",get:function(){return"subtitle_selector"}},{key:"title",get:function(){return"Legenda"}}]),e}(h.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(333),c=n(u),d=i(334),h=n(d),p=i(335),f=n(p),y=i(69),g=n(y),v=i(2),m=n(v),b=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.container&&this.playback&&(this.listenTo(this.playback,l.Events.PLAYBACK_READY,this.setup),this.playback.isReady&&this.setup())}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents(),this.setup()}},{key:"setup",value:function(){var t=this.core.getCurrentPlayback(),e=t&&t.playback;if(!t||!t.video||!e)return void l.Log.info(this.name,"should not setup audio selector");if(this.selector&&this.stopListening(this.selector),"dash_shaka_playback"===e.name)this.selector=new c.default(this.core);else if("hls"===e.name)this.selector=new h.default(this.core);else{if(!["html5_video","hls_fairplay_playback"].includes(e.name))return void l.Log.info(this.name,"could not setup audio selector");this.selector=new f.default(this.core)}this.listenTo(this.selector,m.default.WM_AUDIOSELECTOR_READY,this.onSelectorReady),this.listenTo(this.selector,m.default.WM_AUDIO_CHANGED,this.onAudioChanged),this.selector.setup()}},{key:"onSelectorReady",value:function(){this.availableOptions=this.selector.availableOptions,this.trigger(m.default.WM_SETTINGS_OPTIONS_CHANGED)}},{key:"playbackUpdate",value:function(t){this.selector.audioSwitch(t)}},{key:"onAudioChanged",value:function(t){this.core.getCurrentContainer().trigger(m.default.WM_AUDIO_CHANGED,t)}},{key:"name",get:function(){return"audio_selector"}},{key:"title",get:function(){return"&Aacute;udio"}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}}]),e}(g.default);e.default=b,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(2),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=i(70),d=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i.ready=!1,i.playback=i.core.getCurrentPlayback().playback,i}return a(e,t),o(e,[{key:"setup",value:function(){var t=this.playback._player.getAudioLanguages();t.length>1&&this.parseAudioTracks(t)}},{key:"getAudioInfo",value:function(t){if("string"==typeof t)return c.WM_AUDIO[t]||{key:t,label:"Original",id:t}}},{key:"parseAudioTracks",value:function(t){var e=this;this.availableOptions=[],t.forEach(function(t){var i=e.getAudioInfo(t);i&&e.availableOptions.push(i),e.selectPreferredAudioLanguage(i)}),this.ready=!0,this.trigger(u.default.WM_AUDIOSELECTOR_READY)}},{key:"selectPreferredAudioLanguage",value:function(t){t.key===c.PREFERRED_AUDIO_LANGUAGE&&(t.selected=!0,this.audioSwitch(t.id))}},{key:"audioSwitch",value:function(t){var e=this.availableOptions.find(function(e){return e.id===t||e.key===t});e&&e.key&&(this.playback._player.selectAudioLanguage(e.key),this.trigger(u.default.WM_AUDIO_CHANGED,e))}}]),e}(s.BaseObject);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(96),c=n(u),d=i(2),h=n(d),p=i(70),f=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i.ready=!1,i.playback=i.core.getCurrentPlayback().playback,i}return o(e,t),s(e,[{key:"setup",value:function(){var t=this;if(this.playback._hls)if(this.playback._hls.audioTracks){var e=this.playback._hls.audioTracks;e.length>1&&this.parseAudioTracks(e)}else this.playback._hls.on(c.default.Events.AUDIO_TRACKS_UPDATED,function(){return t.setup()})}},{key:"getAudioInfo",value:function(t,e){if("string"==typeof t&&""!==t){var i={key:t,label:"Original",id:e};return p.WM_AUDIO[t]||i}}},{key:"parseAudioTracks",value:function(t){var e=this;this.availableOptions=[],t.forEach(function(t){var i=(t.name||t.lang||"").toLowerCase(),n=e.getAudioInfo(i,t.id);n&&e.availableOptions.push(n),n&&e.selectPreferredAudioLanguage(n)}),this.ready=!0,this.trigger(h.default.WM_AUDIOSELECTOR_READY)}},{key:"selectPreferredAudioLanguage",value:function(t){t.key===p.PREFERRED_AUDIO_LANGUAGE&&(t.selected=!0,this.audioSwitch(t.id))}},{key:"audioSwitch",value:function(t){this.selectedAudio=this.availableOptions.find(function(e){return e.id===t||e.key===t}),void 0!==(this.selectedAudio&&this.selectedAudio.id)&&(this.playback._hls.audioTrack=this.selectedAudio.id,this.trigger(h.default.WM_AUDIO_CHANGED,this.selectedAudio))}}]),e}(l.BaseObject);e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=function(t){return t&&t.__esModule?t:{default:t}}(u),d=i(70),h=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,i.ready=!1,i.playback=i.core.getCurrentPlayback().playback,i.bindEvents(),i}return a(e,t),s(e,[{key:"audioTracks",get:function(){var t=this.playback&&this.playback.el&&this.playback.el.audioTracks;return"object"===(void 0===t?"undefined":o(t))&&(t=Object.keys(t).map(function(e){return t[e]})),t||[]}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.playback,l.Events.PLAYBACK_PLAY,this.setup)}},{key:"setup",value:function(){this.audioTracks.length>1&&this.parseAudioTracks()}},{key:"parseAudioTracks",value:function(){var t=this;this.availableOptions=[],this.audioTracks.forEach(function(e){var i=(e.language||e.label||"").toLowerCase(),n=d.WM_AUDIO[i];n&&void 0!==n.id&&t.availableOptions.push({id:n.id,label:n.label,selected:i===d.PREFERRED_AUDIO_LANGUAGE})}),this.ready=!0,this.trigger(c.default.WM_AUDIOSELECTOR_READY)}},{key:"audioSwitch",value:function(t){this.audioTracks.forEach(function(e){if(e.id.toString()===t.toString())return e.enabled=!0,!1})}}]),e}(l.BaseObject);e.default=h,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.clappr-player#wp3-player-0 .settings__box{position:absolute;right:17px;bottom:42px;padding:15px 17px;min-width:180px;cursor:default;border-radius:3px;background-color:rgba(0,0,0,.85);z-index:998;box-sizing:border-box}.clappr-player#wp3-player-0 .settings__box:after{content:"";width:100%;position:absolute;height:10px;left:0;bottom:-9px}.clappr-player#wp3-player-0 .settings__separator{display:block;width:100%;height:1px;border:0;background-color:#666;opacity:.4;margin:12px 0}.clappr-player#wp3-player-0 .settings__separator:last-child{display:none}.clappr-player#wp3-player-0 .settings__menu{list-style-type:none;background:none;padding:0;margin:0;height:auto;overflow:visible}.clappr-player#wp3-player-0 .settings__menu-itens{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;position:static;line-height:13px;overflow:visible;padding:0;margin:0;background:none}.clappr-player#wp3-player-0 .settings__menu-itens:hover{cursor:pointer}.clappr-player#wp3-player-0 .settings__menu-itens-title{margin-right:30px;display:inline;pointer-events:none;font-family:proximanova-regular,sans-serif;text-transform:uppercase;font-size:13px;line-height:14px;letter-spacing:-.6px;color:#fff;opacity:.7;text-shadow:0 2px 5px rgba(0,0,0,.8)}.clappr-player#wp3-player-0 .settings__menu-itens-selected{display:-webkit-box;display:-ms-flexbox;display:flex;pointer-events:none;font-family:opensans-bold,sans-serif;font-size:14px;letter-spacing:-.6px;text-align:right;color:#fff;opacity:.8;text-shadow:0 2px 5px rgba(0,0,0,.8);overflow:visible}.clappr-player#wp3-player-0 .settings__menu-itens-arrow-icon{display:block;width:12px;height:12px;position:relative;top:2px;right:-5px;margin-left:2px}.clappr-player#wp3-player-0 .settings__menu-itens-arrow-icon svg{width:100%;height:100%}.clappr-player#wp3-player-0 .settings__options-title{display:-webkit-box;display:-ms-flexbox;display:flex;cursor:pointer;padding-left:22px;display:block;opacity:.7;font-family:proximanova-regular,sans-serif;letter-spacing:-.7px;color:#fff;text-shadow:0 2px 5px rgba(0,0,0,.8);text-transform:uppercase;text-align:left;font-size:13px}.clappr-player#wp3-player-0 .settings__options-title svg{position:absolute;top:16px;left:16px;width:14px;height:14px;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.clappr-player#wp3-player-0 .settings__options-menu{list-style-type:none;background:none;height:100%;padding:0;margin:0;overflow:initial}.clappr-player#wp3-player-0 .settings__options-itens{position:relative;display:block;margin:12px 0 12px 24px;padding:0;background:none;font-size:14px;line-height:16px;text-align:left;overflow:visible;letter-spacing:-.7px;opacity:.6;font-family:opensans-regular,sans-serif;color:#fff;text-shadow:0 2px 5px rgba(0,0,0,.8)}.clappr-player#wp3-player-0 .settings__options-itens .label{min-width:140px;max-width:200px;overflow:hidden;display:inline-block;text-overflow:ellipsis;white-space:nowrap}.clappr-player#wp3-player-0 .settings__options-itens:last-child{margin-bottom:4px}.clappr-player#wp3-player-0 .settings__options-itens:hover{opacity:.8;cursor:pointer}.clappr-player#wp3-player-0 .settings__options-itens--active{font-family:opensans-bold,sans-serif;opacity:1}.clappr-player#wp3-player-0 .settings__options-itens--active svg{position:absolute;top:2px;left:-22px;width:14px}',""])},function(t,e){t.exports='<div class="settings__box" data-controls>\n  <ul class="settings__menu">\n    <% for (var i = 0; i < selectors.length; i++) { %>\n      <li data-selector-name="<%= selectors[i].name %>" class="settings__menu-itens">\n        <span class="settings__menu-itens-title"><%= selectors[i].title %></span>\n        <span class="settings__menu-itens-selected">\n          <%= selectors[i].selected %>\n          <span class="settings__menu-itens-arrow-icon"><%= arrowIcon %></span>\n        </span>\n      </li>\n      <div class="settings__separator"></div>\n    <% } %>\n  </ul>\n  <div class="settings__options"></div>\n</div>\n'},function(t,e){t.exports='<svg viewBox="0 0 27 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g transform="translate(-1796.000000, -1015.000000)" fill="#FFFFFF"><g id="Group" transform="translate(1794.000000, 1013.000000)"><path d="M24.9814027,16.5576889 C25.0328312,16.149487 25.0714026,15.7412851 25.0714026,15.3075706 C25.0714026,14.8738561 25.0328312,14.4656542 24.9814027,14.0574523 L27.694257,11.9526614 C27.9385425,11.7613168 28.0028281,11.4168964 27.8485426,11.1362576 L25.2771167,6.72257476 C25.1228311,6.44193597 24.7756886,6.33988549 24.4928318,6.44193597 L21.2914065,7.71756685 C20.6228358,7.2073145 19.9028365,6.7863563 19.1185516,6.46744858 L18.6299807,3.08702674 C18.5914093,2.78087533 18.3214096,2.55126177 17.9999813,2.55126177 L12.8571295,2.55126177 C12.5357013,2.55126177 12.2657016,2.78087533 12.2271302,3.08702674 L11.7385593,6.46744858 C10.9542744,6.7863563 10.2342751,7.2200708 9.56570437,7.71756685 L6.36427912,6.44193597 C6.06856514,6.32712919 5.73427977,6.44193597 5.57999422,6.72257476 L3.00856831,11.1362576 C2.84142563,11.4168964 2.9185684,11.7613168 3.16285387,11.9526614 L5.8757082,14.0574523 C5.82427968,14.4656542 5.78570829,14.8866124 5.78570829,15.3075706 C5.78570829,15.7285288 5.82427968,16.149487 5.8757082,16.5576889 L3.16285387,18.6624798 C2.9185684,18.8538245 2.85428276,19.1982448 3.00856831,19.4788836 L5.57999422,23.8925665 C5.73427977,24.1732053 6.08142227,24.2752557 6.36427912,24.1732053 L9.56570437,22.8975744 C10.2342751,23.4078267 10.9542744,23.8287849 11.7385593,24.1476926 L12.2271302,27.5281145 C12.2657016,27.8342659 12.5357013,28.0638795 12.8571295,28.0638795 L17.9999813,28.0638795 C18.3214096,28.0638795 18.5914093,27.8342659 18.6299807,27.5281145 L19.1185516,24.1476926 C19.9028365,23.8287849 20.6228358,23.3950704 21.2914065,22.8975744 L24.4928318,24.1732053 C24.7885457,24.288012 25.1228311,24.1732053 25.2771167,23.8925665 L27.8485426,19.4788836 C28.0028281,19.1982448 27.9385425,18.8538245 27.694257,18.6624798 L24.9814027,16.5576889 L24.9814027,16.5576889 Z M15.4285554,19.7722787 C12.9471294,19.7722787 10.9285601,17.7695382 10.9285601,15.3075706 C10.9285601,12.845603 12.9471294,10.8428625 15.4285554,10.8428625 C17.9099814,10.8428625 19.9285508,12.845603 19.9285508,15.3075706 C19.9285508,17.7695382 17.9099814,19.7722787 15.4285554,19.7722787 L15.4285554,19.7722787 Z" id="Shape"></path></g></g></g></svg>'},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(9),c=n(u),d=i(340),h=n(d),p=i(341),f=n(p),y=i(342),g=n(y),v=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.supportedTypes={vod:{thumb:function(t){return i.updateThumbForVod(t)},text:function(t){return i.thumbTextForVod(t)}},live:{thumb:function(t){return i.updateThumbForLive(t)},text:function(t){return i.thumbTextForLive(t)}}},i}return o(e,t),s(e,[{key:"name",get:function(){return"thumb_preview"}},{key:"mediaControl",get:function(){return this.core.mediaControl}},{key:"template",get:function(){return(0,l.template)(f.default)}},{key:"attributes",get:function(){return{class:"thumb-preview"}}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"seekbar",get:function(){return this.core.getPlugin("seekbar")}}]),s(e,[{key:"bindEvents",value:function(){this.mediaControl&&(l.Mediator.on(this.core.options.playerId+":"+l.Events.PLAYER_RESIZE,this.checkOutline,this),this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_MOUSEMOVE_SEEKBAR,this.show),this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_MOUSELEAVE_SEEKBAR,this.hide),this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_HIDE,this.hide),this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.trigger("plugin:thumbpreview:ready"),this.bindContainerEvents())}},{key:"bindContainerEvents",value:function(){this.mediaControl.container&&(this.container&&this.stopListening(this.container),this.container=this.mediaControl.container,this.listenTo(this.container,l.Events.CONTAINER_SETTINGSUPDATE,this.settingsUpdate))}},{key:"checkOutline",value:function(){l.Utils.Fullscreen.isFullscreen()&&l.Browser.isIE11?this.$el.find(".thumb-preview__thumb").addClass("thumb-preview__thumb--no-outline"):this.$el.find(".thumb-preview__thumb").removeClass("thumb-preview__thumb--no-outline")}},{key:"updateThumbForVod",value:function(t){if(this.lastTimestamp!==t)if(this.lastTimestamp=t,this.mediaControl.container.playback.thumbUrl){var e=Math.floor(t/60),i=Math.floor(t%60/5),n=this.mediaControl.container.playback.thumbUrl+"/x96/tile/"+e+".jpg";this.$el.css({height:this.thumbSize.height,width:this.thumbSize.width}),this.$el.find(".thumb-preview__thumb").css({"background-image":"url("+n+")","background-position":"center "+i*-this.thumbSize.height+"px"}),this.mediaControlPlugin.$el.removeClass("thumb-preview-basic")}else this.mediaControlPlugin.$el.addClass("thumb-preview-basic")}},{key:"thumbTextForVod",value:function(t){return t.formattedTime}},{key:"updateThumbForLive",value:function(t){var e=this;this.throttledUpdateThumb||(this.throttledUpdateThumb=(0,h.default)(function(t){var i=Math.floor(Date.now()/1e3),n=e.mediaControl.container.playback.getDuration(),r=10*Math.floor((i-(n-t))/10),a=e.core.options.env.thumbsHost,o=e.core.getCurrentPlayback().video.transmission.signal,s=a+o+"/snapshot/172/97/?utc="+r;e.$el.css({height:e.thumbSize.height,width:e.thumbSize.width}),e.$el.find(".thumb-preview__thumb").css({"background-image":"url("+s+")","background-size":"cover"})},500,!0)),this.mediaControl.container.playback.dvrEnabled&&this.throttledUpdateThumb(t)}},{key:"thumbTextForLive",value:function(t){if(100===this.mediaControl.currentSeekPercentage){var e=this.mediaControl.container.playback.getDuration()-t.timestamp;return"Voltar "+this.formatTimeInterval(e)}return t.formattedTime}},{key:"show",value:function(t){this.$el.removeClass("thumb-preview--hidden"),this.canShow(t)?(this.$el.css({"z-index":997}),this.$el.removeClass("thumb-preview--hidden")):this.hide()}},{key:"canShow",value:function(t){return this.mediaControl.container.playback.settings.seekEnabled&&Object.keys(this.supportedTypes).includes(this.playbackType)}},{key:"hide",value:function(){this.$el.addClass("thumb-preview--hidden")}},{key:"settingsUpdate",value:function(){this.playbackType=this.mediaControl.container.getPlaybackType(),this.thumbSize={width:170,height:96}}},{key:"containerChanged",value:function(){var t=this,e=this.core.getPlugin("seek_time");e.render=function(){return t.render()},e.update=function(e){return t.update(e)},this.bindContainerEvents(),this.settingsUpdate()}},{key:"render",value:function(){var t=this.core.getPlugin("seek_time");if(this.mediaControl&&t){this.$el.html(this.template());var e=c.default.getStyleFrom(g.default,{playerId:this.core.options.playerId});this.$el.append(e[0]),t.setElement(this.el),this.seekbar.$seekBarContainer.append(this.el),this.$el.addClass("thumb-preview--hidden")}else this.listenToOnce(this,"plugin:thumbpreview:ready",this.render);this.checkOutline()}},{key:"update",value:function(){var t=this.core.getPlugin("seek_time"),e=t.hoverPosition;if(e&&t.hoveringOverSeekBar){var i=e*this.core.getCurrentContainer().getDuration(),n=l.Utils.formatTime(i),r=this.seekbar.$seekBarContainer;if(!r.length)return;if(isNaN(i))return;if(Object.keys(this.supportedTypes).includes(this.playbackType)){var a=this.supportedTypes[this.playbackType].thumb,o=this.supportedTypes[this.playbackType].text,s=r.width(),u=this.$el.width()/2,c=e*s-u,d=s-this.$el.width();c=Math.max(0,Math.min(c,d)),this.$el.css("left",c),this.$el.find(".thumb-preview__position").text(o({timestamp:i,formattedTime:n})),this.core.mediaControl.$el.hasClass("w425")||a(i)}}}},{key:"formatTimeInterval",value:function(t){var e=!1;t*=1e3,t=parseInt(t/1e3,10);var i=t%60;t=parseInt(t/60,10);var n=t%60;t=parseInt(t/60,10);var r=t%24,a="";return r&&r>0&&(a+=r.toString().slice(-2)+"h",e=!0),n&&n>0&&(a+=n.toString().slice(-2)+"m"),e||(a+=("0"+i).slice(-2)+"s"),a.trim()}}]),e}(l.UICorePlugin);e.default=v,t.exports=e.default},function(t,e,i){"use strict";(function(e){function i(t,e,i){function n(e){var i=y,n=g;return y=g=void 0,E=e,m=t.apply(n,i)}function a(t){return E=t,b=setTimeout(c,e),w?n(t):m}function o(t){var i=t-_,n=t-E,r=e-i;return C?k(r,v-n):r}function l(t){var i=t-_,n=t-E;return void 0===_||i>=e||i<0||C&&n>=v}function c(){var t=T();if(l(t))return d(t);b=setTimeout(c,o(t))}function d(t){return b=void 0,S&&y?n(t):(y=g=void 0,m)}function h(){void 0!==b&&clearTimeout(b),E=0,y=_=g=b=void 0}function p(){return void 0===b?m:d(T())}function f(){var t=T(),i=l(t);if(y=arguments,g=this,_=t,i){if(void 0===b)return a(_);if(C)return b=setTimeout(c,e),n(_)}return void 0===b&&(b=setTimeout(c,e)),m}var y,g,v,m,b,_,E=0,w=!1,C=!1,S=!0;if("function"!=typeof t)throw new TypeError(u);return e=s(e)||0,r(i)&&(w=!!i.leading,C="maxWait"in i,v=C?A(s(i.maxWait)||0,e):v,S="trailing"in i?!!i.trailing:S),f.cancel=h,f.flush=p,f}function n(t,e,n){var a=!0,o=!0;if("function"!=typeof t)throw new TypeError(u);return r(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),i(t,e,{leading:a,maxWait:e,trailing:o})}function r(t){var e=void 0===t?"undefined":l(t);return!!t&&("object"==e||"function"==e)}function a(t){return!!t&&"object"==(void 0===t?"undefined":l(t))}function o(t){return"symbol"==(void 0===t?"undefined":l(t))||a(t)&&E.call(t)==d}function s(t){if("number"==typeof t)return t;if(o(t))return c;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var i=f.test(t);return i||y.test(t)?g(t.slice(2),i?2:8):p.test(t)?c:+t}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u="Expected a function",c=NaN,d="[object Symbol]",h=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,y=/^0o[0-7]+$/i,g=parseInt,v="object"==(void 0===e?"undefined":l(e))&&e&&e.Object===Object&&e,m="object"==("undefined"==typeof self?"undefined":l(self))&&self&&self.Object===Object&&self,b=v||m||Function("return this")(),_=Object.prototype,E=_.toString,A=Math.max,k=Math.min,T=function(){return b.Date.now()};t.exports=n}).call(e,i(68))},function(t,e){t.exports='<div class="thumb-preview__thumb"></div>\n<div class="thumb-preview__position"></div>\n'},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .thumb-preview{transition:opacity .4s ease;position:absolute;bottom:25px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .thumb-preview--hidden{opacity:0;left:-100%!important}.clappr-player#wp3-player-0 .thumb-preview__thumb{position:absolute;border:1px solid #555;background-color:rgba(0,0,0,.75);border-radius:2px;outline:1px solid transparent;background-repeat:no-repeat;left:0;bottom:0;width:100%;height:100%}.clappr-player#wp3-player-0 .thumb-preview__thumb--no-outline{outline:0!important}.clappr-player#wp3-player-0 .thumb-preview__position{padding:2px 12px;font-family:opensans-bold,sans-serif;font-size:14px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5);bottom:1px;border-radius:3px;border-bottom-left-radius:0;border-bottom-right-radius:0;background-color:rgba(0,0,0,.5);display:-webkit-box;display:-ms-flexbox;display:flex;z-index:100;-ms-flex-item-align:end;align-self:flex-end;border-bottom:1px solid #555}.clappr-player#wp3-player-0 .thumb-preview-basic .thumb-preview,.clappr-player#wp3-player-0 .w425 .thumb-preview{border-radius:3px;background-color:rgba(0,0,0,.5);width:auto;height:16px}.clappr-player#wp3-player-0 .thumb-preview-basic .thumb-preview__position,.clappr-player#wp3-player-0 .w425 .thumb-preview__position{display:inline-block;overflow:hidden;position:static;padding:0 6px;width:auto;height:auto;font-size:10px;line-height:16px}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(344),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(16),c=n(u),d=i(2),h=n(d),p=i(9),f=n(p),y=i(10),g=n(y),v=i(345),m=n(v),b=i(346),_=n(b),E=function(t){function e(t){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return o(e,t),s(e,[{key:"name",get:function(){return"video_info"}},{key:"panel",get:function(){return"upper"}},{key:"position",get:function(){return"left"}},{key:"template",get:function(){return(0,l.template)(_.default)}},{key:"currentState",get:function(){if(this.container){var t=l.Browser.isChromecast?"chromecast ":g.default.Fullscreen.isFullscreen()?"full ":"basic ";this.status=[];var e=this.container.getPlaybackType();return"live"===e&&this.status.push("video-info--live"),this.container.isDvrInUse()&&this.status.push("video-info--dvr"),"ad"===e&&this.status.push("video-info--ad"),t+this.status.join(" ")}}},{key:"canShowData",get:function(){return!window.WM||!window.WM.Player3||window.WM.Player3.VIDEO_INFO_WHITELIST.find(function(t){return t.test(window.location.hostname)})||l.Browser.isChromecast}},{key:"attributes",get:function(){return{class:"video-info"}}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.mediaControl,l.Events.MEDIACONTROL_CONTAINERCHANGED,this.bindContainerEvents),this.bindContainerEvents()}},{key:"bindContainerEvents",value:function(){var t=this;this.container&&this.stopListening(this.container),this.container&&this.container.playback&&this.stopListening(this.container.playback),this.container=this.core.getCurrentContainer(),this.container&&(this.listenTo(this.container.playback,h.default.WM_VIDEO_METADATALOADED,this.initialize),this.listenTo(this.container,l.Events.CONTAINER_MEDIACONTROL_SHOW,this.render),this.listenTo(this.container,l.Events.CONTAINER_SETTINGSUPDATE,this.render),this.listenTo(this.container,h.default.WM_MASTERTOPIP,function(){return t.$el.addClass("video-info--hidden")}),this.container.options.chromeless&&this.disable())}},{key:"initialize",value:function(t){this.canShowData&&(this.videoProgram=t.program,this.videoTitle=t.title),l.Browser.isChromecast&&this.render()}},{key:"render",value:function(){if(this.container){this.currentState!==this.renderedState&&(this.$el.removeClass("video-info--chromecast video-info--full video-info--basic video-info--ad video-info--live video-info--dvr"),this.$el.html(this.template({program:this.videoProgram,title:this.videoTitle})),this.$el.append(f.default.getStyleFrom(m.default,{playerId:this.options.playerId})[0]),this.$el.addClass("video-info--"+this.currentState),this.renderedState=this.currentState);var t=!(this.container.playback.onPip||!this.canShowData&&0===this.status.length);return this.$el[t?"removeClass":"addClass"]("video-info--hidden"),this}}}]),e}(c.default);e.default=E,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.clappr-player#wp3-player-0 .video-info{box-sizing:border-box;color:#fff;pointer-events:none;text-shadow:none;z-index:996}.clappr-player#wp3-player-0 .video-info__data{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;text-align:left;margin-right:30px}.clappr-player#wp3-player-0 .video-info__data-title{margin-bottom:5px;overflow:hidden;font-family:opensans-bold,sans-serif;font-size:20px;line-height:22px;letter-spacing:-.3px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .video-info__data-program{text-transform:uppercase;font-family:proximanova-bold,sans-serif;font-size:12px;line-height:14px;padding-left:2px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5);overflow:hidden}.clappr-player#wp3-player-0 .video-info__status{text-align:left;font-family:proximanova-xbold,sans-serif;font-size:16px;line-height:16px;text-shadow:0 0 2px rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .video-info__data,.clappr-player#wp3-player-0 .video-info__status{transition:all .2s ease}.clappr-player#wp3-player-0 .video-info--chromecast{background-color:transparent}.clappr-player#wp3-player-0 .video-info--chromecast .video-info__data{margin:5vw 0 0 5vw}.clappr-player#wp3-player-0 .video-info--ad .video-info__data,.clappr-player#wp3-player-0 .video-info--basic .video-info__data{display:none}.clappr-player#wp3-player-0 .video-info--ad .video-info__status{color:#ff9}.clappr-player#wp3-player-0 .video-info--ad .video-info__status:after{content:"PUBLICIDADE"}.clappr-player#wp3-player-0 .video-info--full .video-info__data-title{font-size:2.7vh;line-height:3.5vh;margin-bottom:5px}.clappr-player#wp3-player-0 .video-info--full .video-info__data-program{font-size:1.6vh;line-height:2vh}.clappr-player#wp3-player-0 .video-info--full .video-info__status{font-size:2.4vh;line-height:2.4vh}.clappr-player#wp3-player-0 .video-info--hidden{opacity:0}',""])},function(t,e){t.exports='<div class="video-info__data">\n  <div class="video-info__data-title"><%= title %></div>\n  <div class="video-info__data-program"><%= program %></div>\n</div>\n<div class="video-info__status"></div>\n'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(348),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(10),d=i(2),h=n(d),p=i(9),f=n(p),y=i(349),g=n(y),v=i(351),m=n(v),b=i(352),_=n(b),E=i(353),A=n(E),k=i(354),T=n(k),w=i(355),C=n(w),S=i(356),L=n(S),P=i(7),O=n(P),R=i(357),I=n(R),x=i(358),D=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.contentType="application/video-id",!u.Browser.isiOS&&u.Browser.isChrome&&i.options.appId?(i.appId=i.options.appId,i.deviceState=x.DEVICE_STATE.IDLE,i.embedScript()):i.disable(),i}return o(e,t),l(e,[{key:"version",get:function(){return"0.2.79"}},{key:"name",get:function(){return"chromecast"}},{key:"tagName",get:function(){return"button"}},{key:"overlayTemplate",get:function(){return(0,u.template)(m.default)}},{key:"attributes",get:function(){return{class:"chromecast-button media-control-button media-control-icon","data-chromecast":""}}},{key:"events",get:function(){return{click:"click"}}},{key:"options",get:function(){return this.core.options.chromecast||(this.core.options.chromecast={})}},{key:"mediaControlPlugin",get:function(){return this.core.getPlugin("globo_media_control")}},{key:"playback",get:function(){return this.core&&this.core.getCurrentPlayback()}}],[{key:"Movie",get:function(){return"movie"}},{key:"TvShow",get:function(){return"tv_show"}},{key:"Generic",get:function(){return"none"}},{key:"version",get:function(){return"0.2.79"}}]),l(e,[{key:"bindEvents",value:function(){this.container=this.container||this.core.getCurrentContainer(),this.listenTo(this.core.mediaControl,u.Events.MEDIACONTROL_RENDERED,this.render),this.listenTo(this.core.mediaControl,u.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.container&&(this.listenTo(this.container,u.Events.CONTAINER_TIMEUPDATE,this.containerTimeUpdate),this.listenTo(this.container,u.Events.CONTAINER_PLAY,this.containerPlay),this.listenTo(this.container,u.Events.CONTAINER_ENDED,this.sessionStopped),this.listenTo(this.container,u.Events.CONTAINER_VOLUME,this.onVolumeChanged),this.listenTo(this.container,u.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,u.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferfull),this.listenTo(this.container,h.default.WM_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(this.container,h.default.WM_AUDIO_CHANGED,this.onAudioChanged))}},{key:"onVolumeChanged",value:function(t){var e=this;if(this.session){var i=t/100;this.session.setReceiverVolumeLevel(i,function(){return u.Log.info(e.name,"volume set")},function(t){return u.Log.error(e.name,t)})}}},{key:"onSubtitleChanged",value:function(t){if(this.session){var e={action:"SUBTITLE_CHANGED",payload:{id:t.id,language:t.language}};this.sendMessage(e)}}},{key:"onAudioChanged",value:function(t){if(this.session){var e={action:"AUDIO_CHANGED",payload:{id:t.id,language:t.key,label:t.label}};this.sendMessage(e)}}},{key:"enable",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enable",this).call(this),this.render(),this.embedScript()}},{key:"embedScript",value:function(){var t=this;if(window.chrome.cast&&window.chrome.cast.isAvailable)this.bootstrapCastApi();else{var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("async","async"),e.setAttribute("src","https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),e.onload=function(){return t.bootstrapCastApi()},document.body.appendChild(e)}}},{key:"bootstrapCastApi",value:function(){var t=this;window.chrome.cast&&window.chrome.cast.isAvailable?this.initializeCastApi():window.__onGCastApiAvailable=function(e,i){e?t.initializeCastApi():(u.Log.warn(t.name,"GCastApi error",i),t.disable())}}},{key:"initializeCastApi",value:function(){var t=this,e=chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,i=new chrome.cast.SessionRequest(this.appId),n=new chrome.cast.ApiConfig(i,function(e){return t.sessionListener(e)},function(e){return t.receiverListener(e)},e);chrome.cast.initialize(n,function(){return u.Log.debug(t.name,"init success")},function(){return u.Log.warn(t.name,"init error")})}},{key:"sessionListener",value:function(t){u.Log.debug(this.name,"new session id:"+t.sessionId),this.newSession(t)}},{key:"sessionUpdateListener",value:function(){this.session&&(u.Log.debug(this.name,this.session.status),this.session.status===chrome.cast.SessionStatus.STOPPED&&(this.sessionStopped(),this.session=null))}},{key:"receiverListener",value:function(t){t===chrome.cast.ReceiverAvailability.AVAILABLE?(u.Log.debug(this.name,"receiver found"),this.show()):(u.Log.debug(this.name,"receiver list empty"),this.hide())}},{key:"launchSuccess",value:function(t){clearInterval(this.connectAnimInterval),u.Log.debug(this.name,"launch success - session: "+t.sessionId),this.newSession(t)}},{key:"launchError",value:function(t){var e=this.mediaSession&&this.mediaSession.playerState!==chrome.cast.media.PlayerState.IDLE,i=this.mediaSession&&this.mediaSession.playerState===chrome.cast.media.PlayerState.PLAYING,n=t.code===chrome.cast.ErrorCode.CANCEL;e&&n||(u.Log.debug(this.name,"error on launch",t),this.renderDisconnected(),clearInterval(this.connectAnimInterval),(this.isPlayingBeforeConnect||i)&&(this.container.play(),this.container.seek(this.currentTime)))}},{key:"loadMediaSuccess",value:function(t,e){u.Log.debug(this.name,"new media session "+e+" ("+t+")"),this.originalPlayback=this.core.getCurrentPlayback();var i=Object.assign({},this.originalPlayback.options,{currentMedia:e,mediaControl:this.core.mediaControl,poster:this.container.options.poster,settings:this.originalPlayback.settings});this.src=this.originalPlayback.src,this.playbackProxy=new g.default(i),this.playbackProxy.render(),this.mediaSession=e,this.originalPlayback.$el.hide();var n=this.core.getCurrentContainer();n.$el.append(this.playbackProxy.$el),n.stopListening(),n.playback=this.playbackProxy,n.bindEvents(),n.settingsUpdate()}},{key:"loadMediaError",value:function(t){u.Log.warn(this.name,"media error",t)}},{key:"newSession",value:function(t){var e=this;this.session=t,this.deviceState=x.DEVICE_STATE.ACTIVE,this.renderConnected(),this.core.trigger(h.default.DFP_DISABLE),t.addUpdateListener(function(){return e.sessionUpdateListener()}),t.addMessageListener(x.MESSAGE_BUS_NAMESPACE,function(t,i){return e.wmpMessageListener(t,i)}),this.containerPlay()}},{key:"sessionStopped",value:function(){this.renderDisconnected();var t=this.core.getCurrentContainer(),e=void 0;this.mediaSession&&(e=this.mediaSession.playerState,this.mediaSession=null,this.playbackProxy.$el.remove(),this.originalPlayback.$el.show(),t.stopListening(),t.playback=this.originalPlayback,t.bindEvents(),t.settingsUpdate(),this.core.trigger(h.default.DFP_ENABLE)),this.playbackProxy&&((this.playbackProxy.isPlaying()||"PLAYING"===e)&&(t.play(),t.seek(this.currentTime)),this.playbackProxy.stop(),this.playbackProxy=null)}},{key:"sendMessage",value:function(t){var e=this;this.session.sendMessage(x.MESSAGE_BUS_NAMESPACE,t,function(t){return e.onMessageSucess(t)},function(t){return e.onMessageFailure(t)})}},{key:"onMessageSucess",value:function(t){u.Log.info(this.name,"message bus: send message sucess",t)}},{key:"onMessageFailure",value:function(t){u.Log.error(this.name,"message bus: send message error",t)}},{key:"loadMedia",value:function(){var t=this;if(!this.playback||this.playback.isReady){this.container.pause();var e=this.container.options.src;u.Log.debug(this.name,"loading... "+e);var i=this.createMediaInfo(e),n=new chrome.cast.media.LoadRequest(i);n.autoplay=!0,n.currentTime="ad"==this.core.getPlaybackType()?0:this.currentTime||0,this.session.loadMedia(n,function(e){return t.loadMediaSuccess("loadMedia",e)},function(e){return t.loadMediaError(e)})}}},{key:"createMediaInfo",value:function(t){var i=e.mimeTypeFor(t),n=this.core.options.dfp,r=n.watchedAds;"ad"===this.core.getPlaybackType()&&(r+=1);var a={adUnit:n.adUnit,adCustomData:n.adCustomData,watchedAds:r,token:this.options.token||this.getTokenFromCookie()},o=new chrome.cast.media.MediaInfo(t);return o.contentType=this.contentType||i,o.customData=a,o.metadata=this.createMediaMetadata(),o}},{key:"getTokenFromCookie",value:function(){var t=this.playback&&this.playback.video&&this.playback.video.providerId,e=t?"WMPTOKEN_"+t:x.DEFAULT_COOKIE_NAME;return(0,c.getCookie)(e)}},{key:"createMediaMetadata",value:function(){this.options.media||(this.options.media={});var t=this.options.media.type,i=this.createCastMediaMetadata(t);return i.title=this.options.media.title,i.subtitle=this.options.media.subtitle,i.releaseDate=this.options.media.releaseDate,t===e.TvShow?(i.episode=this.options.media.episode,i.originalAirdate=this.options.media.originalAirdate,i.season=this.options.media.season,i.seriesTitle=this.options.media.seriesTitle):t===e.Movie&&(i.studio=this.options.media.studio),this.options.media.images&&(i.images=this.options.media.images.map(function(t){return new chrome.cast.Image(t)})),!i.images&&this.core.options.poster&&(i.images=[new chrome.cast.Image(this.core.options.poster)]),i}},{key:"createCastMediaMetadata",value:function(t){switch(t){case e.Movie:return new chrome.cast.media.MovieMediaMetadata;case e.TvShow:return new chrome.cast.media.TvShowMediaMetadata;default:return new chrome.cast.media.GenericMediaMetadata}}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}},{key:"click",value:function(){var t=this;if(chrome.cast.requestSession(function(e){return t.launchSuccess(e)},function(e){return t.launchError(e)}),!this.session){this.isPlayingBeforeConnect=this.container.isPlaying(),this.container.pause();var e=0;clearInterval(this.connectAnimInterval),this.connectAnimInterval=setInterval(function(){t.renderConnecting(e),e=(e+1)%3},600)}}},{key:"containerChanged",value:function(){this.container=this.core.getCurrentContainer(),this.stopListening(),this.bindEvents(),this.currentTime=0}},{key:"containerTimeUpdate",value:function(t){this.currentTime=t.current}},{key:"containerPlay",value:function(){!this.session||this.mediaSession&&"IDLE"!==this.mediaSession.playerStatus||(u.Log.debug(this.name,"load media"),this.currentTime=this.currentTime||0,this.loadMedia())}},{key:"wmpMessageListener",value:function(t,e){if(this.session){var i=JSON.parse(e);"adBreakStarted"===i.name?(u.Log.debug(this.name,"ad break started"),this.playbackProxy&&(this.playbackProxy.settings.seekEnabled=!1,this.playbackProxy.trigger(u.Events.PLAYBACK_SETTINGSUPDATE))):"adBreakEnded"===i.name&&(u.Log.debug(this.name,"ad break ended"),this.playbackProxy&&(this.playbackProxy.settings.seekEnabled=!0,this.playbackProxy.trigger(u.Events.PLAYBACK_SETTINGSUPDATE)))}}},{key:"createCachedElements",value:function(){this.$mediaControl=this.mediaControlPlugin&&this.mediaControlPlugin.$el,this.$settingsButton=this.$mediaControl.find(".media-control-button[data-settings]");var t=this.core.getCurrentContainer();t&&t.$el&&(this.$chromecastOverlay=t.$el.find(".chromecast-playback-overlay"),this.$chromecastIconContainer=this.$chromecastOverlay.find(".chromecast-icon"),this.$chromecastStatusContainer=this.$chromecastOverlay.find(".chromecast-status"),this.$labelDevice=this.$chromecastStatusContainer.find(".label-device"))}},{key:"renderOverlay",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.status,i=t.icon,n=t.receiverName;this.removeOverlay();var r=this.core.getCurrentContainer(),a=this.overlayTemplate();r.$el.append(a),this.createCachedElements(),this.$chromecastOverlay.removeClass("connecting watching"),e&&this.$chromecastOverlay.addClass(e),i&&this.$chromecastIconContainer.html(i),n&&this.$labelDevice.html(n)}},{key:"removeOverlay",value:function(){this.$chromecastOverlay&&this.$chromecastOverlay.remove()}},{key:"renderConnecting",value:function(t){var e=[T.default,C.default,L.default];this.$el.html(e[t]),this.$mediaControl.addClass("media-control-disabled"),this.mediaControlPlugin.setKeepVisible(),this.renderStyle(),this.renderOverlay({status:"connecting",icon:e[t]})}},{key:"renderConnected",value:function(){this.$el.html(A.default),this.$mediaControl.removeClass("media-control-disabled"),this.mediaControlPlugin.setKeepVisible(),this.container.$el.addClass("cast-enabled"),this.renderStyle();var t=this.session&&this.session.receiver&&this.session.receiver.friendlyName;this.renderOverlay({status:"watching",icon:A.default,receiverName:t})}},{key:"renderDisconnected",value:function(){this.$el.html(_.default),this.$mediaControl.removeClass("media-control-disabled"),this.mediaControlPlugin.resetKeepVisible(),this.container&&this.container.$el.removeClass("cast-enabled"),this.renderStyle(),this.removeOverlay()}},{key:"renderStyle",value:function(){var t=f.default.getStyleFrom(I.default,{playerId:this.core.options.playerId});this.$el.append(t[0])}},{key:"render",value:function(){return this.createCachedElements(),this.session?this.renderConnected():this.renderDisconnected(),this.appendToMediaControl(),this}},{key:"onBuffering",value:function(){this.$chromecastIconContainer.addClass("hidden"),this.$chromecastStatusContainer.addClass("hidden")}},{key:"onBufferfull",value:function(){this.$chromecastIconContainer.removeClass("hidden"),this.$chromecastStatusContainer.removeClass("hidden")}},{key:"appendToMediaControl",value:function(){var t=this.$mediaControl&&this.$mediaControl.find(".media-control-button[data-fullscreen]");t.length>0?(0,O.default)(this.el).insertBefore(t):this.$mediaControl.find(".media-control-center-panel").append(this.el)}}],[{key:"mimeTypeFor",value:function(t){var e=(t.split("?")[0].match(/.*\.(.*)$/)||[])[1];return x.MIMETYPES[e]?x.MIMETYPES[e]:t.indexOf(".ism")>-1?"application/vnd.ms-sstr+xml":void 0}}]),e}(u.UICorePlugin);e.default=D,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(350),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.src=t.src,i.currentMedia=t.currentMedia,i.mediaControl=t.mediaControl,i.currentMedia.addUpdateListener(function(){return i.onMediaStatusUpdate()}),i.settings=t.settings,i}return a(e,t),o(e,[{key:"name",get:function(){return"chromecast_playback"}},{key:"template",get:function(){return(0,s.template)(u.default)}},{key:"attributes",get:function(){return{class:"chromecast-playback"}}},{key:"isReady",get:function(){return!0}}]),o(e,[{key:"render",value:function(){var t=this.template();this.$el.html(t),this.options.poster?this.$(".chromecast-playback-background").css("background-image","url("+this.options.poster+")"):this.$(".chromecast-playback-background").css("background-color","#666")}},{key:"play",value:function(){this.currentMedia.play()}},{key:"pause",value:function(){this.stopTimer(),this.currentMedia.pause()}},{key:"stop",value:function(){this.stopTimer(),this.currentMedia.stop()}},{key:"volume",value:function(t){var e=this,i=t/100,n=new chrome.cast.Volume(i,!1),r=new chrome.cast.media.VolumeRequest(n);this.currentMedia.setVolume(r,function(){return s.Log.info(e.name,"volume set")},function(t){return s.Log.warn(e.name,t)})}},{key:"seek",value:function(t){var e=this;this.stopTimer();var i=new chrome.cast.media.SeekRequest;i.currentTime=t,this.currentMedia.seek(i,function(){return e.startTimer()},function(){return s.Log.warn(e.name,"seek failed")})}},{key:"getVolume",value:function(){}},{key:"seekPercentage",value:function(t){if(t>=0&&t<=100){var e=this.getDuration();this.seek(t*e/100)}}},{key:"startTimer",value:function(){var t=this;this.timer=setInterval(function(){return t.updateMediaControl()},100)}},{key:"stopTimer",value:function(){clearInterval(this.timer),this.timer=null}},{key:"getDuration",value:function(){return this.currentMedia.media.duration}},{key:"isPlaying",value:function(){return"PLAYING"===this.currentMedia.playerState||"BUFFERING"===this.currentMedia.playerState}},{key:"getPlaybackType",value:function(){return"LIVE"==this.currentMedia.streamType?s.Playback.LIVE:s.Playback.VOD}},{key:"onMediaStatusUpdate",value:function(){this.isPlaying()&&!this.timer&&this.startTimer(),this.updateBufferState(),"PLAYING"===this.currentMedia.playerState?this.trigger(s.Events.PLAYBACK_PLAY,this.name):"IDLE"===this.currentMedia.playerState&&this.trigger(s.Events.PLAYBACK_ENDED,this.name)}},{key:"updateBufferState",value:function(){"BUFFERING"===this.currentMedia.playerState?(this.isBuffering=!0,this.trigger(s.Events.PLAYBACK_BUFFERING,this.name)):this.isBuffering&&(this.isBuffering=!1,this.trigger(s.Events.PLAYBACK_BUFFERFULL,this.name))}},{key:"updateMediaControl",value:function(){var t=this.currentMedia.getEstimatedTime(),e=this.currentMedia.media.duration;this.trigger(s.Events.PLAYBACK_TIMEUPDATE,{current:t,total:e},this.name)}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}}]),e}(s.Playback);e.default=c,t.exports=e.default},function(t,e){t.exports='<div class="chromecast-playback-background"></div>\n'},function(t,e){t.exports='<div class="chromecast-playback-overlay">\n  <div class="chromecast-icon"></div>\n  <div class="chromecast-status">\n    <span class="label-connecting">Conectando...</span>\n    <span class="label-watching">Assistindo em</span>\n    <span class="label-device"></span>\n  </div>\n</div>\n'},function(t,e){t.exports='<svg viewBox="2 2 19 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="ic_cast_black_24dp" sketch:type="MSArtboardGroup"><g id="ic_remove_circle_white_24dp" sketch:type="MSLayerGroup"><path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" id="cast" fill="#000000" sketch:type="MSShapeGroup"></path><rect id="bounds" sketch:type="MSShapeGroup" x="0" y="0" width="24" height="24"></rect></g></g><g id="assets" sketch:type="MSLayerGroup" transform="translate(-208.000000, -106.000000)"><g id="64px" transform="translate(0.000000, 114.000000)"></g></g></g></svg>'},function(t,e){t.exports='<svg viewBox="2 2 19 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="ic_cast_connected_black_24dp" sketch:type="MSArtboardGroup"><g id="ic_remove_circle_white_24dp" sketch:type="MSLayerGroup"><path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z M19,7 L5,7 L5,8.63 C8.96,9.91 12.09,13.04 13.37,17 L19,17 L19,7 L19,7 Z M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" id="cast-on" fill="#000000" sketch:type="MSShapeGroup"></path><rect id="bounds" sketch:type="MSShapeGroup" x="0" y="0" width="24" height="24"></rect></g></g><g id="assets" sketch:type="MSLayerGroup" transform="translate(-336.000000, -106.000000)"><g id="64px" transform="translate(0.000000, 114.000000)"></g></g></g></svg>'},function(t,e){t.exports='<svg viewBox="2 2 19 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="ic_cast0_black_24dp" sketch:type="MSArtboardGroup"><g id="ic_remove_circle_white_24dp" sketch:type="MSLayerGroup"><path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z" id="Path" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" id="Path" fill="#000000" sketch:type="MSShapeGroup"></path><rect id="bounds" sketch:type="MSShapeGroup" x="0" y="0" width="24" height="24"></rect></g></g><g id="assets" sketch:type="MSLayerGroup" transform="translate(-240.000000, -106.000000)"><g id="64px" transform="translate(0.000000, 114.000000)"></g></g></g></svg>'},function(t,e){t.exports='<svg viewBox="2 2 19 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="ic_cast1_black_24dp" sketch:type="MSArtboardGroup"><g id="ic_remove_circle_white_24dp" sketch:type="MSLayerGroup"><path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z" id="Path" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" id="cast" fill="#000000" sketch:type="MSShapeGroup"></path><rect id="bounds" sketch:type="MSShapeGroup" x="0" y="0" width="24" height="24"></rect></g></g><g id="assets" sketch:type="MSLayerGroup" transform="translate(-272.000000, -106.000000)"><g id="64px" transform="translate(0.000000, 114.000000)"></g></g></g></svg>'},function(t,e){t.exports='<svg viewBox="2 2 19 19" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns"><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage"><g id="ic_cast2_black_24dp" sketch:type="MSArtboardGroup"><g id="ic_remove_circle_white_24dp" sketch:type="MSLayerGroup"><path d="M1,18 L1,21 L4,21 C4,19.34 2.66,18 1,18 L1,18 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,14 L1,16 C3.76,16 6,18.24 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z" id="Path" opacity="0.3" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M1,10 L1,12 C5.97,12 10,16.03 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z" id="Path" fill="#000000" sketch:type="MSShapeGroup"></path><path d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z" id="cast" fill="#000000" sketch:type="MSShapeGroup"></path><rect id="bounds" sketch:type="MSShapeGroup" x="0" y="0" width="24" height="24"></rect></g></g><g id="assets" sketch:type="MSLayerGroup" transform="translate(-304.000000, -106.000000)"><g id="64px" transform="translate(0.000000, 114.000000)"></g></g></g></svg>'},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 svg #cast,.clappr-player#wp3-player-0 svg #cast-on,.clappr-player#wp3-player-0 svg #Path{fill:#fff}.clappr-player#wp3-player-0 .chromecast-playback{height:100%;width:100%}.clappr-player#wp3-player-0 .chromecast-playback .chromecast-playback-background{background-size:cover}.clappr-player#wp3-player-0 .chromecast-playback-background,.clappr-player#wp3-player-0 .chromecast-playback-overlay{position:absolute;height:100%;width:100%;top:0;left:0}.clappr-player#wp3-player-0 .chromecast-playback-overlay{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:100;background-color:rgba(0,0,0,.6)}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-icon{margin-bottom:5px;opacity:.6}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-icon svg{width:45px;height:35px}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-connecting,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-watching{display:none}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-connecting,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-device,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-watching{font-family:Open Sans,sans-serif;font-size:14px;color:#fff;text-shadow:0 0 2px rgba(0,0,0,.5);font-weight:600}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-connecting,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-watching{opacity:.8}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status .label-device{font-weight:700}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-icon,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status{transition:opacity .2s ease}.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-icon.hidden,.clappr-player#wp3-player-0 .chromecast-playback-overlay .chromecast-status.hidden{visibility:hidden;opacity:0}.clappr-player#wp3-player-0 .chromecast-playback-overlay.connecting .label-connecting,.clappr-player#wp3-player-0 .chromecast-playback-overlay.watching .label-watching{display:inline-block}",""])},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DEFAULT_COOKIE_NAME="GLBID",e.MESSAGE_BUS_NAMESPACE="urn:x-cast:wm.player",e.DEVICE_STATE={IDLE:0,ACTIVE:1,WARNING:2,ERROR:3},e.MIMETYPES={mp4:"video/mp4",ogg:"video/ogg","3gpp":"video/3gpp",webm:"video/webm",mkv:"video/x-matroska",m3u8:"application/x-mpegurl",mpd:"application/dash+xml",ogv:"video/ogg","3gp":"video/3gpp"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(360),t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(2),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=i(10),d=!1,h=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.core=t,(0,c.embedScript)(i.ravenScriptUrl).then(function(){i.Raven=WP3Raven.noConflict(),i.setup()},function(){return s.Log.warn(i.name,"raven.js is not accessible")}),i}return a(e,t),o(e,[{key:"name",get:function(){return"sentry"}},{key:"host",get:function(){return this.core.options&&this.core.options.env&&this.core.options.env.sentryHost}},{key:"ravenScriptUrl",get:function(){return this.core.options&&this.core.options.env&&this.core.options.env.ravenScriptUrl}},{key:"container",get:function(){return this.core.getCurrentContainer()}},{key:"playback",get:function(){return this.core.getCurrentPlayback()}},{key:"isReady",get:function(){return d&&this.Raven}}]),o(e,[{key:"getExternalInterface",value:function(){return{sendSentryMessage:this.captureMessage}}},{key:"bindEvents",value:function(){this.listenTo(this.core.mediaControl,s.Events.MEDIACONTROL_CONTAINERCHANGED,this.containerChanged),this.container&&this.playback&&(this.listenTo(this.playback,s.Events.PLAYBACK_ERROR,this.onPlaybackError),this.listenTo(s.Mediator,this.container.options.playerId+":"+u.default.DFP_AD_ERROR,this.onAdError),this.listenTo(s.Mediator,"video:metadata:loader:error",this.captureInternalError))}},{key:"containerChanged",value:function(){this.stopListening(),this.bindEvents()}},{key:"setup",value:function(){this.host&&!d&&(this.Raven.config(this.host,{release:"4.6.5",whitelistUrls:[],shouldSendCallback:this.shouldSendCallback.bind(this)}).install(),d=!0)}},{key:"shouldSendCallback",value:function(t){var e=t&&t.stacktrace||{},i=e&&e.frames||[],n=t&&t.logger||"";return i.some(this.isPlayerOrApiError)||["player","player_external"].includes(n)}},{key:"isPlayerOrApiError",value:function(t){var e=t&&t.filename||"",i=-1!==e.indexOf("player"),n=-1!==e.indexOf("api.min");return i||n}},{key:"onPlaybackError",value:function(t){var e=t&&t.type||t||{};this.captureInternalError(e)}},{key:"onAdError",value:function(t){this.captureInternalError(t)}},{key:"captureMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"player_external";this.Raven.captureMessage(t,{logger:i,errorData:e})}},{key:"captureInternalError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isReady){var e=t.code||t.type,i=t.description||t.message,n="[Player] "+e+" - "+i;this.captureMessage(n,t,"player")}}}]),e}(s.CorePlugin);e.default=h,t.exports=e.default},function(t,e,i){"use strict";(function(n){function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(0),d=r(c),h=i(2),p=r(h),f=i(10),y=i(46),g=r(y),v=i(102),m=r(v),b=i(363),_=i(7),E=r(_),A=d.default.Log.getInstance(),k=function(t){function e(t,i){a(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n._isReady=!1,n.baseUrl=t.baseUrl,n.$el.css("height","100%"),n.videoMetadataLoader=new m.default(t),n.videoMetadataLoader.loadMetadata().then(function(t){return n.onMetadataLoaded(t)},function(t){return n.onRequestError(t)}),n._metadataLoaded=!1,n._isLoadingResource=!1,n.$el.css("height","100%"),n.settings=n.defaultSettings,t.swfBasePath=n.baseUrl,t.startFromBitrate=4e5,t.shakaOnBeforeLoad=b.shakaOnBeforeLoad,n.currentVolume=null,n.currentTime=n.duration=0,n.skipWaitingScripts=!1,n.on(p.default.WM_WROOM_AUTHORIZED,n.setupPlayback),n.on(p.default.WM_PLAY_REQUESTED,n.play),n}return s(e,t),u(e,[{key:"name",get:function(){return"id_playback"}},{key:"attributes",get:function(){return{"data-id-playback":""}}},{key:"srcUrl",get:function(){var t=this.playback&&this.playback.options&&this.playback.options.src,e=this.playback&&this.playback._src;return t||e||this.options.src}},{key:"src",get:function(){return this.options.src}},{key:"blackResourceUrl",get:function(){return"live"!==this.getPlaybackType()||c.Browser.isChromecast?this.options.env.blackVideoUrl:this.options.env.blackVideoStreamingUrl}},{key:"selectedResource",get:function(){return this.video&&this.video.selectedResource}},{key:"isReady",get:function(){return this._isReady}},{key:"defaultSettings",get:function(){return{upper:{left:[],center:[],right:[]},middle:{left:[],center:[],right:[]},lower:{left:["playpause","position","duration"],center:["seekbar"],right:["volume","fullscreen"]},seekEnabled:!0,volumeBarTemplate:"bar"}}},{key:"dvrEnabled",get:function(){return!!this.playback&&!!this.playback.dvrEnabled}},{key:"levels",get:function(){return this.playback.levels}},{key:"buffering",get:function(){return this.playback&&this.playback.buffering}}]),u(e,[{key:"play",value:function(){this.canRequestPlay()?this.playRequest():this.isPaused&&this.playWhenReady()}},{key:"canRequestPlay",value:function(){var t=this.waitToPlay()||this.error||this.isPlaying(),e=this._metadataLoaded&&!this._isLoadingResource;return!t&&e}},{key:"playRequest",value:function(){this.onConsent(),this.loadResource(),this.trigger(p.default.WM_PLAY_REQUESTED_READY)}},{key:"playWhenReady",value:function(){var t=this;if(this.isReady){var e=this.currentTime||this.options.resumeAt||(0,f.seekStringToSeconds)();e&&this.setInitialTime(e),n.nextTick(function(){return t.playback.play()})}else this.listenToOnce(this,c.Events.PLAYBACK_READY,this.playWhenReady),this.prepareInnerPlaybackToPlay()}},{key:"onConsent",value:function(){f.autoplayManager.consent(),this.playback.consent()}},{key:"waitToPlay",value:function(){var t=this,e=!0,i=!(0,f.allScriptsLoaded)(),n=!this._metadataLoaded||!this.playback;return i&&!this.skipWaitingScripts?((0,f.waitExternalScriptsLoad)().then(function(){return t.play()},function(){return t.play()}),this.skipWaitingScripts=!0):n?this.listenToOnce(this,p.default.WM_VIDEO_METADATALOADED,this.play):e=!1,e}},{key:"isPlaying",value:function(){return!!this.playback&&this.playback.isPlaying()}},{key:"setInitialTime",value:function(t){var e=this;!c.Browser.isChromecast&&this.isPlaying()?this.seek(t):this.listenToOnce(this.playback,c.Events.PLAYBACK_PLAY,function(){return e.seek(t)})}},{key:"getDuration",value:function(){return this.playback&&this.playback.getDuration()}},{key:"stop",value:function(){this.stopAndClearPlayback(),this.playback&&this.trigger(c.Events.PLAYBACK_STOP)}},{key:"stopAndClearPlayback",value:function(){this.playback&&(this.playback.stop(),this.currentTime=0,this.clear())}},{key:"volume",value:function(t){var e=this;this.playback&&(this.playback.isReady?(this.playback.volume(t),this.currentVolume=t):this.listenToOnce(this.playback,c.Events.PLAYBACK_READY,function(){return e.volume(t)}))}},{key:"getVolume",value:function(){return this.currentVolume}},{key:"pause",value:function(){this.isPaused=!0,this.playback&&this.playback.pause()}},{key:"seek",value:function(t){var e=this.playback&&this.playback.getCurrentTime(),i=Math.round(e)!==Math.round(t);this.playback&&i&&this.playback.seek(t)}},{key:"selectLevel",value:function(t){if(this.video){this.options.selectedLevel=t,this.video.selectLevel(t),this.videoMetadataLoader.configure({selectedLevel:t});var e=this.isPlaying();this.pause(),this.clear(),e&&this.play()}}},{key:"isHighDefinitionInUse",value:function(){return!(!this.playback||"hls"!==this.playback.name&&"p2phls"!==this.playback.name)&&this.playback.isHighDefinitionInUse()}},{key:"getInnerPlaybackName",value:function(){return this.playback&&this.playback.name||""}},{key:"getLastProgramDate",value:function(){return"hls"===this.playback.name?this.playback.getLastProgramDate():-1}},{key:"getStartTimeOffset",value:function(){return this.playback&&"function"==typeof this.playback.getStartTimeOffset?this.playback.getStartTimeOffset():0}},{key:"isPip",value:function(t){this.onPip=t}},{key:"destroy",value:function(){this.playback&&(this.stopListening(this.playback),this.playback.stop(),this.playback.destroy(),this.playback=null),this.reportID&&clearInterval(this.reportID),this.$el.remove()}},{key:"onMetadataLoaded",value:function(t){this._metadataLoaded=!0;var e=E.default.Deferred();return this.video=t,this.thumbUrl=t.selectedResource&&t.selectedResource.thumbUrl,this.trigger(p.default.WM_VIDEO_METADATALOADED,t),this.createPlayback(),t.selectedResource&&this.trigger(p.default.WM_RESOURCE_SELECTED,t,t.selectedResource),e.resolve(t),e}},{key:"loadResource",value:function(){var t=this;this._isLoadingResource=!0,this.videoMetadataLoader.loadResource(this.video).then(function(e,i){return t.onResourceLoaded(e,i)},function(e){return t.onRequestError(e)})}},{key:"onResourceLoaded",value:function(t,e){this.video=t,this.user=e,t.geofencing&&this.trigger(p.default.WM_RESOURCE_SELECTED,t,t.selectedResource),this.trigger(p.default.WM_HASH_LOADED,t,e),this.trigger(p.default.WM_PLAYLIST_LOADED,t,t.selectedResource),this.onResourceReady(t.selectedResource)}},{key:"onRequestError",value:function(t){this.createPlayerError(t)}},{key:"onPlaybackReady",value:function(){var t=this;this.playback.isReady?this.ready():this.playback.once(c.Events.PLAYBACK_READY,function(){return t.ready()})}},{key:"createPlayerError",value:function(t){A.warn(this.name,"id playback error:",t),this.error=t,this.playerError=new g.default({type:g.default.DEFAULT_MESSAGE,playerId:this.options.playerId}),404===t.http_status_code?this.playerError=new g.default({type:g.default.NOT_FOUND,playerId:this.options.playerId}):403===t.http_status_code?("AUT"===t.code&&"function"==typeof this.options.onUnauthorized&&this.options.onUnauthorized(Object.assign(t,{fromPlayer3:!0}),this.video.rawData),this.playerError=new g.default({type:g.default.SUBSCRIBERS_ONLY,playerId:this.options.playerId}),"GB"===t.code?this.playerError=new g.default({type:g.default.GEO_BLOCKED,playerId:this.options.playerId}):"DEV"===t.code&&(this.playerError=new g.default({type:g.default.DEVICE_UNAUTHORIZED,playerId:this.options.playerId}))):415===t.http_status_code?"DNS"===t.code&&(this.playerError=new g.default({type:this.video.geofencing?g.default.GEOFENCING:g.default.DEVICE_NOT_SUPPORTED,playerId:this.options.playerId})):400===t.http_status_code&&"SRF"===t.code?this.playerError=new g.default({type:g.default.GEOFENCING,playerId:this.options.playerId}):t.code===g.default.LOCATION_UNAVAILABLE.code?this.playerError=new g.default({type:g.default.LOCATION_UNAVAILABLE,playerId:this.options.playerId}):this.video?this.playerError=new g.default({type:g.default.HASH_LOAD_ERROR,playerId:this.options.playerId}):this.playerError=new g.default({type:g.default.PLAYLIST_LOAD_ERROR,playerId:this.options.playerId}),this.trigger(c.Events.PLAYBACK_ERROR,this.playerError)}},{key:"onResourceReady",value:function(t){if(Array.isArray(t))return void this.trigger(c.Events.PLAYBACK_ERROR,new g.default({type:g.default.PLAYLIST_LOAD_ERROR,playerId:this.options.playerId}));"live"===this.getPlaybackType()?(this.trigger(c.Events.PLAYBACK_MEDIACONTROL_DISABLE),this.trigger(p.default.WM_WROOM_AUTHORIZE,t),this.listenToOnce(this,p.default.WM_WROOM_AUTHORIZED,this.onPlaybackReady)):(this.setupPlayback(t),this.onPlaybackReady())}},{key:"findPlaybackPlugin",value:function(t){var e=this;return c.PlayerInfo.getInstance(this.options.playerId).playbackPlugins.find(function(i){var n=e.video&&e.video.encrypted;return i.canPlay(t.toString(),"",n)},this)}},{key:"getPlaybackType",value:function(){if(this.video)return"Live"===this.video.type||this.video.isLive?"live":"vod"}},{key:"setupPlayback",value:function(t){var e=t.signedUrl(this.video.isSubscriberOnly,this.user);if(this.trigger(c.Events.PLAYBACK_STATS_ADD,{midia:this.options.src,url:e}),this.updateSrc(e),this._playbackWasBuilt=!0,this.trigger(p.default.WM_PLAYBACK_BUILT),this.options.selectedLevel)try{this.play()}catch(t){A.warn(this.name,"play()",t)}else this.onPip&&this.playWhenReady()}},{key:"updateSrc",value:function(t){this.recreatePlayback(t)||("function"==typeof this.playback.load&&this.playback.load(t),"function"==typeof this.playback._setupSrc&&this.playback._setupSrc(t),"object"===l(this.playback.options)&&(this.playback.options.src=t))}},{key:"prepareInnerPlaybackToPlay",value:function(){var t=this;this.playback&&"function"==typeof this.playback._setup&&!this._innerPlaybackSetupDone&&(this._playbackWasBuilt?this.playback._setup():this.listenToOnce(this,p.default.WM_PLAYBACK_BUILT,function(){return t.playback._setup()}),this._innerPlaybackSetupDone=!0)}},{key:"createPlayback",value:function(t){var e=!c.Browser.isChromecast&&this.video.selectedResource&&this.video.selectedResource.url,i=t||e||this.blackResourceUrl,n=this.findPlaybackPlugin(i),r=this.video&&this.video.selectedResource&&this.video.selectedResource.encrypted,a=Object.assign({},this.options,Object.assign({},{src:i,autoPlay:!1},r?(0,b.getDRMConfig)(this.video.selectedResource&&this.video.selectedResource.contentProtection):{}));if(this.playback=new n(a,this.i18n),"no_op"===this.playback.name)return void this.trigger(c.Events.PLAYBACK_ERROR,new g.default({type:g.default.DEVICE_NOT_SUPPORTED,playerId:this.options.playerId}));this.initPlayback()}},{key:"recreatePlayback",value:function(t){if(!this.playback)return this.createPlayback(t),!0;var e=this.video&&this.video.encrypted,i=this.playback.constructor.canPlay(t,"",e),n="flashls"===this.playback.name;return!i||n?(this.stopListening(this.playback),this.playback.destroy(),this.createPlayback(t),!0):void 0}},{key:"initPlayback",value:function(){var t=this;this.bindPlaybackEvents(),this.playback.render(),this.playback.el.id=this.cid,this.playback.el.src=this.options.env.blackVideoUrl,this.$el.html(this.playback.el),f.autoplayManager.onAutoplayAvailable(function(){return t.play()},this.options)}},{key:"clear",value:function(){this._isLoadingResource=!1,this._isReady=!1,this._innerPlaybackSetupDone=!1,this._playbackWasBuilt=!1}},{key:"bindPlaybackEvents",value:function(){this.listenTo(this.playback,c.Events.PLAYBACK_SETTINGSUPDATE,this.settingsupdate),this.listenTo(this.playback,c.Events.PLAYBACK_LOADEDMETADATA,this.loadedmetadata),this.listenTo(this.playback,c.Events.PLAYBACK_HIGHDEFINITIONUPDATE,this.highdefinitionupdate),this.listenTo(this.playback,c.Events.PLAYBACK_PLAYBACKSTATE,this.playbackstate),this.listenTo(this.playback,c.Events.PLAYBACK_ERROR,this.playbackError),this.listenTo(this.playback,c.Events.PLAYBACK_PROGRESS,this.progress),this.listenTo(this.playback,c.Events.PLAYBACK_TIMEUPDATE,this.timeupdate),this.listenTo(this.playback,c.Events.PLAYBACK_PLAY_INTENT,this.playintent),this.listenTo(this.playback,c.Events.PLAYBACK_PLAY,this.playing),this.listenTo(this.playback,c.Events.PLAYBACK_PAUSE,this.paused),this.listenTo(this.playback,c.Events.PLAYBACK_SEEKED,this.onSeeked),this.listenTo(this.playback,c.Events.PLAYBACK_STATS_ADD,this.statsAdd),this.listenTo(this.playback,c.Events.PLAYBACK_DVR,this.onDvr),this.listenTo(this.playback,c.Events.PLAYBACK_BITRATE,this.updateBitrate),this.listenTo(this.playback,c.Events.PLAYBACK_BUFFERFULL,this.bufferfull),this.listenTo(this.playback,c.Events.PLAYBACK_BUFFERING,this.onBuffering),this.listenTo(this.playback,c.Events.PLAYBACK_ENDED,this.ended)}},{key:"playbackstate",value:function(t){this.trigger(c.Events.PLAYBACK_PLAYBACKSTATE,t)}},{key:"updateBitrate",value:function(t){this.trigger(c.Events.PLAYBACK_BITRATE,t)}},{key:"progress",value:function(t){this.trigger(c.Events.PLAYBACK_PROGRESS,t)}},{key:"statsAdd",value:function(t){this.trigger(c.Events.PLAYBACK_STATS_ADD,t)}},{key:"onDvr",value:function(t){this.trigger(c.Events.PLAYBACK_DVR,t)}},{key:"timeupdate",value:function(t){t.current&&(this.currentTime=t.current),this.duration=t.total,this.trigger(c.Events.PLAYBACK_TIMEUPDATE,t)}},{key:"ready",value:function(){this._isReady=!0,this.settingsupdate(),this.trigger(c.Events.PLAYBACK_READY,this.name)}},{key:"onSeeked",value:function(){this.trigger(c.Events.PLAYBACK_SEEKED,this.name)}},{key:"onBuffering",value:function(){this.trigger(c.Events.PLAYBACK_BUFFERING,this.name)}},{key:"bufferfull",value:function(){this.trigger(c.Events.PLAYBACK_BUFFERFULL,this.name)}},{key:"settingsupdate",value:function(){var t=this.getPlaybackType();t&&("ad"===t?this.settings=this.playback.settings:(this.settings=Object.assign({},this.defaultSettings),"vod"!==t&&this.playback&&!this.playback.dvrEnabled&&(this.settings.lower.left=["playstop"],this.settings.lower.center=["seekbar"],this.settings.lower.right=["volume","fullscreen"],this.settings.seekEnabled=!1)),this.trigger(c.Events.PLAYBACK_SETTINGSUPDATE))}},{key:"loadedmetadata",value:function(t){this.trigger(c.Events.PLAYBACK_LOADEDMETADATA,t)}},{key:"highdefinitionupdate",value:function(){this.trigger(c.Events.PLAYBACK_HIGHDEFINITIONUPDATE,this.name)}},{key:"ended",value:function(){this.stopAndClearPlayback(),this.trigger(c.Events.PLAYBACK_ENDED,this.name)}},{key:"playintent",value:function(){this.trigger(c.Events.PLAYBACK_PLAY_INTENT,this.name)}},{key:"playing",value:function(){this.isPaused=!1,this.trigger(c.Events.PLAYBACK_PLAY,this.name)}},{key:"paused",value:function(){this.isPaused=!0,this.trigger(c.Events.PLAYBACK_PAUSE,this.name)}},{key:"playbackError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.playback._src!==this.blackResourceUrl&&t){var e={type:{code:t.code,message:"Playback error "+this.playback.name+": "+(t.message||t.code)}};this.trigger(c.Events.PLAYBACK_ERROR,e)}}},{key:"render",value:function(){return this.$el.html("<video/>"),this}}]),e}(c.Playback);e.default=k,k.canPlay=function(t){return!!t.toString().match(/^\d+$/)},t.exports=e.default}).call(e,i(22))},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Video=e.Transmission=e.SubtitleResource=e.Resource=e.UserInfo=e.DEFAULT_CDN=e.DEFAULT_QUERY_STRING_TEMPLATE=void 0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),o=i(103),s=function(t){return t&&t.__esModule?t:{default:t}}(o),l=e.DEFAULT_QUERY_STRING_TEMPLATE="h={{hash}}&k={{key}}&a={{openClosed}}&u={{user}}",u=e.DEFAULT_CDN="globo",c=(e.UserInfo=function t(e){n(this,t),this.id=e.user,this.product=e.product},e.Resource=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),e&&(this.options=i,this.id=e._id,this.cdns=e.cdns,this.paths=e.paths,this.path=e.path,this.originalURL=e.url,this.encrypted=!!e.encrypted,this.contentProtection=e.content_protection||{},this.players=e.players,this.height=e.height,this.selectedCDN=null,this.selectedQueryStringTemplate=e.query_string_template,this.hash=null,this.token=null,this.rawData=e,this.videoUrlTemplate=(0,a.template)("<%= videoUrl %>?<%= queryString %>"))}return r(t,[{key:"cdn",get:function(){return this.options.preferredCDN||this.selectedCDN||u}},{key:"cdnData",get:function(){return this.cdns&&this.cdns[this.cdn]||{}}},{key:"queryStringTemplate",get:function(){return this.cdnData&&this.cdnData.query_string_template||this.selectedQueryStringTemplate||l}},{key:"url",get:function(){var t=this.paths&&this.paths[this.options.profile]||this.path,e=this.cdnData&&this.cdnData.domain;return(e&&t?e+t:null)||this.originalURL}}]),r(t,[{key:"signedUrl",value:function(t,e){var i=a.template.settings.interpolate;a.template.settings.interpolate=/\{\{(.+?)\}\}/g;var n=(0,a.template)(this.queryStringTemplate)({hash:this.hash&&s.default.signedHash(this.hash),token:this.token,key:"html5",openClosed:t?"F":"A",user:e.id||""});a.template.settings.interpolate=i;var r=this.url;return this.videoUrlTemplate({videoUrl:r,queryString:n})}}]),t}()),d=e.SubtitleResource=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),e&&(this.options=i,this.cdns=e.cdns,this.path=e.path,this.selectedCDN=null,this.originalURL=e.url)}return r(t,[{key:"cdn",get:function(){return this.options.preferredCDN||this.selectedCDN||u}},{key:"cdnData",get:function(){return this.cdns&&this.cdns[this.cdn]||{}}},{key:"url",get:function(){var t=this.cdnData&&this.cdnData.domain;return(t&&this.path?t+this.path:null)||this.originalURL}}]),t}(),h=e.Transmission=function t(e){n(this,t),this.id=e.transmission_id,this.type=e.type,this.affiliate=e.affiliate,this.broadcastInterrupted=e.broadcast_interrupted,this.name=e.name,this.signal=e.signal,this.expireTime=e.tvExpireTime};e.Video=function(){function t(e){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,t),this.playerType=t.getPlayerType(r.isLimited),this.options=r,this.id=e.id,this.title=e.title,this.kind=e.kind,this.program=e.program,this.channel=e.channel,this.category=e.category,this.createdAt=e.created_at,this.exhibitedAt=e.exhibited_at,this.programId=e.program_id,this.channelId=e.channel_id,this.duration=e.duration,this.serviceId=e.service_id,this.providerId=e.provider_id,this.providerUrl=e.provider_url,this.type=e.type,this.affiliate=e.affiliate,this.geofencing=!!e.geofencing,this.isSubscriberOnly=!!e.subscriber_only,this.encrypted=!!e.encrypted,this.isArchived=e.archived,this.urlForConsumption=e.url_for_consumption,this.adUnit=e.ad_unit,this.adCustomData=e.ad_custom_data,this.adAccountId=e.ad_account_id,this.adCmsId=e.ad_cms_id,this.cuepoints=e.cuepoints,this.resources=e.resources&&e.resources.map(function(t){return new c(t,r)}).filter(function(t){return t.players&&t.players.length&&-1!==t.players.indexOf(i.playerType)}).sort(function(t,e){return t.height>e.height})||[],this.encrypted&&(this.resources=this.resources.filter(this.encryptedFilter)),this.thumbResource=e.resources.find(function(t){return"thumbs-preview"===t.type});var a=e.resources&&e.resources.find(function(t){return"subtitle"===t.type});this.subtitleResource=a&&new d(a,r),this.rawData=e,this.rawData.videos=[e],this.selectedLevel=r.selectedLevel,this.preferredLevel=r.preferredLevel,this.preferredCDN=r.preferredCDN,this.selectResource()}return r(t,[{key:"isLive",get:function(){return"Live"==this.type}},{key:"queryStringTemplate",get:function(){return this.selectedResource?this.selectedResource.queryStringTemplate:null}}]),r(t,[{key:"encryptedFilter",value:function(t){return a.Browser.isSafari?!!t.contentProtection.fairplay:!!t.contentProtection.playready||!!t.contentProtection.widevine}},{key:"selectLevel",value:function(t){this.selectedLevel=t,this.selectResource()}},{key:"selectResource",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.geofencing&&!e||(this.selectedLevel?this.selectedResource=this.resources.find(function(e){return e.height==t.selectedLevel}):this.preferredLevel&&(this.selectedResource=this.resources.find(function(e){return e.height==t.preferredLevel})),this.selectedResource||this.resources&&(this.selectedResource=this.resources[0]),this.isLive&&(this.transmission=new h(this.selectedResource.rawData)),this.selectedResource&&this.thumbResource&&(this.selectedResource.thumbUrl=this.thumbResource.url))}},{key:"setCDN",value:function(t){this.cdn=this.options.preferredCDN||t||u,this.selectedResource&&(this.selectedResource.selectedCDN=this.cdn),this.subtitleResource&&(this.subtitleResource.selectedCDN=this.cdn)}},{key:"setHashData",value:function(t){this.geofencing&&!this.selectedResource&&(this.selectedResource=new c(t,this.options),this.transmission=new h(t)),this.thumbUri=t.thumbUri,this.selectedResource.hash=t.hash,this.selectedResource.token=t.token,this.selectedResource.hashData=t}}],[{key:"getPlayerType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.Browser.isMobile?a.Browser.isAndroid?t?"android_limited":"android":a.Browser.isiOS?"ios":a.Browser.isWindowsPhone?"windows_phone":"html5":a.Browser.isChromecast?"chromecast":"desktop"}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDRMConfig=e.shakaOnBeforeLoad=void 0;var n=i(104),r=function(t){return t&&t.__esModule?t:{default:t}}(n),a=/{{deviceId}}/g,o=(e.shakaOnBeforeLoad=function(t){t.getNetworkingEngine().registerRequestFilter(function(t,e){t!==r.default.net.NetworkingEngine.RequestType.LICENSE&&(e.allowCrossSiteCredentials=!0)})},e.getDRMConfig=function(t){var e=t||{},i=e.widevine,n=e.playready,r=e.fairplay,a={playready:o(n&&n.server),widevine:o(i&&i.server),fairplay:o(r&&r.server)};return{shakaConfiguration:{drm:{servers:{"com.microsoft.playready":a.playready,"com.widevine.alpha":a.widevine}}},fairplay:{server:a.fairplay,certificate:r&&r.certificate},licenseServers:a}},function(t){return t&&"string"==typeof t?t.replace(a,"NmExZjhkODljZWE5YTZkZWQ3MTIzNmJhNzg3NQ=="):""})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(365),t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=i(0),u=i(366),c=i(105),d=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._isReadyState=!1,i.certificate=null,i.setupDRM(t.fairplay||{}),i}return a(e,t),o(e,[{key:"name",get:function(){return"hls_fairplay_playback"}},{key:"events",get:function(){return Object.assign({},s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"events",this),{webkitneedkey:this.onNeedKey})}}]),o(e,[{key:"setupDRM",value:function(t){this.certificateUrl=t.certificate,this.serverUrl=t.server,this.certificateUrl&&this.loadCertificate()}},{key:"loadCertificate",value:function(){var t=this,e=new XMLHttpRequest;e.responseType="arraybuffer",e.addEventListener("load",function(e){return t.onCertificateLoaded(e)},!1),e.addEventListener("error",function(e){return t.onCertificateError(e)},!1),e.open("GET",this.certificateUrl,!0),e.send()}},{key:"onCertificateLoaded",value:function(t){var i=t.target;this.certificate=new Uint8Array(i.response),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_ready",this).call(this),l.Log.info(this.name,"Certificate loaded successfully")}},{key:"onCertificateError",value:function(t){this.trigger(l.Events.PLAYBACK_ERROR,{message:"Failed to retrieve the server certificate"},this.name),l.Log.error(this.name,"Failed to retrieve the server certificate",t)}},{key:"onNeedKey",value:function(t){var e=t.target,i=t.initData,n=(0,u.extractContentId)(i);i=(0,u.concatInitDataIdAndCertificate)(i,n,this.certificate),this.createMediaKeys(e),this.createKeySession(e,i,n)}},{key:"createMediaKeys",value:function(t){if(!t.webkitKeys){var e=(0,u.getKeySystem)();e?t.webkitSetMediaKeys(new WebKitMediaKeys(e)):(this.trigger(l.Events.PLAYBACK_ERROR,{message:"Could not create MediaKeys. Key System not supported"},this.name),l.Log.error(this.name,"Could not create MediaKeys. Key System not supported"))}}},{key:"createKeySession",value:function(t,e,i){if(t.webkitKeys){var n=t.webkitKeys.createSession("video/mp4",e);n?(n.contentId=i,this.bindKeySessionEvents(n)):(this.trigger(l.Events.PLAYBACK_ERROR,{message:"Could not create key session"},this.name),l.Log.error(this.name,"Could not create key session"))}}},{key:"bindKeySessionEvents",value:function(t){var e=this;t.addEventListener("webkitkeymessage",function(t){return e.licenseRequestReady(t)},!1),t.addEventListener("webkitkeyadded",function(t){return e.onKeyAdded(t)},!1),t.addEventListener("webkitkeyerror",function(t){return e.onKeyError(t)},!1)}},{key:"onKeyAdded",value:function(t){l.Log.info(this.name,"Decryption key was added to session",t)}},{key:"onKeyError",value:function(t){this.trigger(l.Events.PLAYBACK_ERROR,{message:"A decryption key error was encountered"},this.name),l.Log.error(this.name,"A decryption key error was encountered",t)}},{key:"licenseRequestReady",value:function(t){var e=this,i=t.target,n=t.message,r=new XMLHttpRequest,a="spc="+encodeURIComponent((0,c.base64EncodeUint8Array)(n));r.responseType="text",r.session=i,r.addEventListener("load",function(t){return e.onLicenseRequestLoaded(t)},!1),r.addEventListener("error",function(t){return e.onLicenseRequestError(t)},!1),r.open("POST",this.serverUrl,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(a),l.Log.info(this.name,"License request ready")}},{key:"onLicenseRequestLoaded",value:function(t){var e=t.target,i=e.session,n=JSON.parse(e.responseText.trim()),r=(0,c.base64DecodeUint8Array)(n.ckc);i.update(r),l.Log.info(this.name,"License loaded successfully")}},{key:"onLicenseRequestError",value:function(t){this.trigger(l.Events.PLAYBACK_ERROR,{message:"The license request failed"},this.name),l.Log.error(this.name,"The license request failed",t)}}]),e}(l.HTML5Video);e.default=d,d.canPlay=function(t,e,i){var n=t.split("?")[0].match(/.*\.(.*)$/)||[],r=n.length>1&&"m3u8"===n[1].toLowerCase()||"application/x-mpegURL"===e||"application/vnd.apple.mpegurl"===e;return!!(l.Browser.isSafari&&r&&i)},t.exports=e.default},function(t,e,i){"use strict";function n(t){return(0,o.arrayToString)(t).match(/skd\:\/\/(.*)$/)[1]}function r(t,e,i){"string"==typeof e&&(e=(0,o.stringToArray)(e));var n=0,r=new ArrayBuffer(t.byteLength+4+e.byteLength+4+i.byteLength),a=new DataView(r);new Uint8Array(r,n,t.byteLength).set(t),n+=t.byteLength,a.setUint32(n,e.byteLength,!0),n+=4;var s=new Uint16Array(r,n,e.length);return s.set(e),n+=s.byteLength,a.setUint32(n,i.byteLength,!0),n+=4,new Uint8Array(r,n,i.byteLength).set(i),new Uint8Array(r,0,r.byteLength)}function a(){return WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")?"com.apple.fps.1_0":null}Object.defineProperty(e,"__esModule",{value:!0}),e.extractContentId=n,e.concatInitDataIdAndCertificate=r,e.getKeySystem=a;var o=i(105)},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(104),c=function(t){return t&&t.__esModule?t:{default:t}}(u),d=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._levels=[],i._pendingAdaptationEvent=!1,i._isShakaReadyState=!1,t.autoPlay&&i.play(),i}return a(e,t),s(e,[{key:"name",get:function(){return"dash_shaka_playback"}},{key:"shakaVersion",get:function(){return c.default.player.Player.version}},{key:"shakaPlayerInstance",get:function(){return this._player}},{key:"levels",get:function(){return this._levels}},{key:"currentLevel",set:function(t){var e=this;this._currentLevelId=t;var i=-1===this._currentLevelId;this.trigger(l.Events.PLAYBACK_LEVEL_SWITCH_START),i?(this._player.configure({abr:{enabled:!0}}),this.trigger(l.Events.PLAYBACK_LEVEL_SWITCH_END)):(this._player.configure({abr:{enabled:!1}}),this._pendingAdaptationEvent=!0,this.selectTrack(this.videoTracks.filter(function(t){return t.id===e._currentLevelId})[0]))},get:function(){return this._currentLevelId||-1}}],[{key:"canPlay",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";c.default.polyfill.installAll();var i=c.default.Player.isBrowserSupported(),n=t.split("?")[0].match(/.*\.(.*)$/)||[];return i&&("mpd"===n[1]||e.indexOf("application/dash+xml")>-1)}},{key:"Events",get:function(){return{SHAKA_READY:"shaka:ready"}}}]),s(e,[{key:"play",value:function(){if(this._player||this._setup(),!this.isReady)return void this.once(e.Events.SHAKA_READY,this.play);this._stopped=!1,this._src=this.el.src,o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"play",this).call(this)}},{key:"setupSrc",value:function(){}},{key:"_ready",value:function(){}},{key:"_onShakaReady",value:function(){this._isShakaReadyState=!0,this.trigger(e.Events.SHAKA_READY),this.trigger(l.Events.PLAYBACK_READY,this.name)}},{key:"error",value:function(t){l.Log.error("an error was raised by the video tag",t,this.el.error)}},{key:"isHighDefinitionInUse",value:function(){return!!this.highDefinition}},{key:"stop",value:function(){var t=this;clearInterval(this.sendStatsId),this._stopped=!0,this._player?(this._sendStats(),this._player.unload().then(function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",t).call(t),t._player=null,t._isShakaReadyState=!1}).catch(function(){l.Log.error("shaka could not be unloaded")})):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stop",this).call(this)}},{key:"getPlaybackType",value:function(){return(this.isReady&&this._player.isLive()?"live":"vod")||""}},{key:"selectTrack",value:function(t){if("text"===t.type)this._player.selectTextTrack(t);else{if("variant"!==t.type)throw new Error("Unhandled track type:",t.type);this._player.selectVariantTrack(t),t.mimeType.startsWith("video/")&&this._onAdaptation()}}},{key:"_enableShakaTextTrack",value:function(t){this.el.textTracks&&(this._shakaTTVisible=t,Array.from(this.el.textTracks).filter(function(t){return"subtitles"===t.kind}).forEach(function(e){return e.mode=!0===t?"showing":"hidden"}))}},{key:"_checkForClosedCaptions",value:function(){if(!this._ccIsSetup){if(this.hasClosedCaptionsTracks){this.trigger(l.Events.PLAYBACK_SUBTITLE_AVAILABLE);var t=this.closedCaptionsTrackId;this.closedCaptionsTrackId=t}this._ccIsSetup=!0}}},{key:"destroy",value:function(){var t=this;clearInterval(this.sendStatsId),this._player?this._player.destroy().then(function(){return t._destroy()}).catch(function(){t._destroy(),l.Log.error("shaka could not be destroyed")}):this._destroy()}},{key:"_setup",value:function(){var t=this;this._isShakaReadyState=!1,this._ccIsSetup=!1,this._player=this._createPlayer(),this._options.shakaConfiguration&&this._player.configure(this._options.shakaConfiguration),this._options.shakaOnBeforeLoad&&this._options.shakaOnBeforeLoad(this._player),this._player.load(this._options.src).then(function(){return t._loaded()}).catch(function(e){return t._setupError(e)})}},{key:"_createPlayer",value:function(){var t=new c.default.Player(this.el);return t.addEventListener("error",this._onError.bind(this)),t.addEventListener("adaptation",this._onAdaptation.bind(this)),t.addEventListener("buffering",this._onBuffering.bind(this)),t}},{key:"_onBuffering",value:function(t){if(!this._stopped){var e=t.buffering?l.Events.PLAYBACK_BUFFERING:l.Events.PLAYBACK_BUFFERFULL;this.trigger(e)}}},{key:"_loaded",value:function(){this._onShakaReady(),this._startToSendStats(),this._fillLevels(),this._checkForClosedCaptions()}},{key:"_fillLevels",value:function(){0===this._levels.length&&(this._levels=this.videoTracks.map(function(t){return{id:t.id,label:t.height+"p"}}).reverse(),this.trigger(l.Events.PLAYBACK_LEVELS_AVAILABLE,this.levels))}},{key:"_startToSendStats",value:function(){var t=this,e=this._options.shakaSendStatsInterval||3e4;this.sendStatsId=setInterval(function(){return t._sendStats()},e)}},{key:"_sendStats",value:function(){this.trigger(l.Events.PLAYBACK_STATS_ADD,this._player.getStats())}},{key:"_setupError",value:function(t){this._onError(t)}},{key:"_onError",value:function(t){l.Log.error("Shaka error event:",t),this.trigger(l.Events.PLAYBACK_ERROR,t,this.name)}},{key:"_onAdaptation",value:function(){var t=this.videoTracks.filter(function(t){return!0===t.active})[0];this._fillLevels(),this._sendStats(),this._pendingAdaptationEvent_&&(this.trigger(l.Events.PLAYBACK_LEVEL_SWITCH_END),this._pendingAdaptationEvent=!1),l.Log.debug("an adaptation has happened:",t),this.highDefinition=t.height>=720,this.trigger(l.Events.PLAYBACK_HIGHDEFINITIONUPDATE,this.highDefinition),this.trigger(l.Events.PLAYBACK_BITRATE,{bandwidth:t.bandwidth,width:t.width,height:t.height,level:t.id})}},{key:"_destroy",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this._isShakaReadyState=!1,l.Log.debug("shaka was destroyed")}},{key:"isReady",get:function(){return this._isShakaReadyState}},{key:"textTracks",get:function(){return this.isReady&&this._player.getTextTracks()}},{key:"audioTracks",get:function(){return this.isReady&&this._player.getVariantTracks().filter(function(t){return t.mimeType.startsWith("audio/")})}},{key:"videoTracks",get:function(){return this.isReady&&this._player.getVariantTracks().filter(function(t){return t.mimeType.startsWith("video/")})}},{key:"closedCaptionsTracks",get:function(){var t=0,e=function(){return t++};return(this.textTracks||[]).filter(function(t){return"subtitle"===t.kind}).map(function(t){return{id:e(),name:t.label||t.language,track:t}})}},{key:"closedCaptionsTrackId",get:function(){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"closedCaptionsTrackId",this)},set:function(t){if(this._player){var e=this.closedCaptionsTracks,i=void 0;if(-1!==t){if(!(i=e.find(function(e){return e.id===t})))return void l.Log.warn('Track id "'+t+'" not found');if(this._shakaTTVisible&&!0===i.track.active)return void l.Log.info('Track id "'+t+'" already showing')}i?(this._player.selectTextTrack(i.track),this._enableShakaTextTrack(!0)):this._enableShakaTextTrack(!1),this._ccTrackId=t,this.trigger(l.Events.PLAYBACK_SUBTITLE_CHANGED,{id:t})}}}]),e}(l.HTML5Video);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(369),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._runEach=(0,u.default)(t,"options.clapprStats.runEach",5e3),i._onReport=(0,u.default)(t,"options.clapprStats.onReport",i._defaultReport),i._uriToMeasureLatency=(0,u.default)(t,"options.clapprStats.uriToMeasureLatency"),i._urisToMeasureBandwidth=(0,u.default)(t,"options.clapprStats.urisToMeasureBandwidth"),i._runBandwidthTestEvery=(0,u.default)(t,"options.clapprStats.runBandwidthTestEvery",10),i._bwMeasureCount=0,i._completion={watch:(0,u.default)(t,"options.clapprStats.onCompletion",[]),calls:[]},i._newMetrics(),i.on(e.REPORT_EVENT,i._onReport),i}return a(e,t),o(e,[{key:"_now",value:function(){return window.performance&&"function"==typeof window.performance.now?window.performance.now():new Date}},{key:"_inc",value:function(t){this._metrics.counters[t]+=1}},{key:"_timerHasStarted",value:function(t){return void 0!==this["_start"+t]}},{key:"_start",value:function(t){this["_start"+t]=this._now()}},{key:"_stop",value:function(t){this._metrics.timers[t]+=this._now()-this["_start"+t]}},{key:"_defaultReport",value:function(t){console.log(t)}},{key:"name",get:function(){return"clappr_stats"}},{key:"_playbackName",get:function(){return this.container.playback.name}},{key:"_playbackType",get:function(){return this.container.getPlaybackType()}}]),o(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.container,s.Events.CONTAINER_BITRATE,this.onBitrate),this.listenTo(this.container,s.Events.CONTAINER_STOP,this.stopReporting),this.listenTo(this.container,s.Events.CONTAINER_ENDED,this.stopReporting),this.listenToOnce(this.container.playback,s.Events.PLAYBACK_PLAY_INTENT,this.startTimers),this.listenToOnce(this.container,s.Events.CONTAINER_PLAY,this.onFirstPlaying),this.listenTo(this.container,s.Events.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,s.Events.CONTAINER_PAUSE,this.onPause),this.listenToOnce(this.container,s.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,s.Events.CONTAINER_SEEK,this.onSeek),this.listenTo(this.container,s.Events.CONTAINER_ERROR,function(){return t._inc("error")}),this.listenTo(this.container,s.Events.CONTAINER_FULLSCREEN,function(){return t._inc("fullscreen")}),this.listenTo(this.container,s.Events.CONTAINER_PLAYBACKDVRSTATECHANGED,function(e){e&&t._inc("dvrUsage")}),this.listenTo(this.container.playback,s.Events.PLAYBACK_PROGRESS,this.onProgress),this.listenTo(this.container.playback,s.Events.PLAYBACK_TIMEUPDATE,this.onTimeUpdate)}},{key:"onBitrate",value:function(t){var e=parseInt((0,u.default)(t,"bitrate",0),10),i=this._now();if(this._metrics.extra.bitratesHistory.length>0){var n=this._metrics.extra.bitratesHistory[this._metrics.extra.bitratesHistory.length-1];n.end=i,n.time=i-n.start}this._metrics.extra.bitratesHistory.push({start:this._now(),bitrate:e}),this._inc("changeLevel")}},{key:"stopReporting",value:function(){this._buildReport(),clearInterval(this._intervalId),this._newMetrics(),this.stopListening(),this.bindEvents()}},{key:"startTimers",value:function(){this._intervalId=setInterval(this._buildReport.bind(this),this._runEach),this._start("session"),this._start("startup")}},{key:"onFirstPlaying",value:function(){this.listenTo(this.container,s.Events.CONTAINER_TIMEUPDATE,this.onContainerUpdateWhilePlaying),this._start("watch"),this._stop("startup")}},{key:"playAfterPause",value:function(){this.listenTo(this.container,s.Events.CONTAINER_TIMEUPDATE,this.onContainerUpdateWhilePlaying),this._stop("pause"),this._start("watch")}},{key:"onPlay",value:function(){this._inc("play")}},{key:"onPause",value:function(){this._stop("watch"),this._start("pause"),this._inc("pause"),this.listenToOnce(this.container,s.Events.CONTAINER_PLAY,this.playAfterPause),this.stopListening(this.container,s.Events.CONTAINER_TIMEUPDATE,this.onContainerUpdateWhilePlaying)}},{key:"onSeek",value:function(t){this._inc("seek"),this._metrics.extra.watchHistory.push([1e3*t,1e3*t])}},{key:"onTimeUpdate",value:function(t){var e=1e3*t.current,i=1e3*t.total,n=this._metrics.extra.watchHistory.length;if(this._metrics.extra.duration=i,this._metrics.extra.currentTime=e,this._metrics.extra.watchedPercentage=e/i*100,0===n?this._metrics.extra.watchHistory.push([e,e]):this._metrics.extra.watchHistory[n-1][1]=e,this._metrics.extra.bitratesHistory.length>0){var r=this._metrics.extra.bitratesHistory[this._metrics.extra.bitratesHistory.length-1];r.end||(r.time=this._now()-r.start)}this._onCompletion()}},{key:"onContainerUpdateWhilePlaying",value:function(){this.container.playback.isPlaying()&&(this._stop("watch"),this._start("watch"))}},{key:"onBuffering",value:function(){this._inc("buffering"),this._start("buffering"),this.listenToOnce(this.container,s.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferfull)}},{key:"onBufferfull",value:function(){this._stop("buffering"),this.listenToOnce(this.container,s.Events.CONTAINER_STATE_BUFFERING,this.onBuffering)}},{key:"onProgress",value:function(t){this._metrics.extra.buffersize=1e3*t.current}},{key:"_newMetrics",value:function(){this._metrics={counters:{play:0,pause:0,error:0,buffering:0,decodedFrames:0,droppedFrames:0,fps:0,changeLevel:0,seek:0,fullscreen:0,dvrUsage:0},timers:{startup:0,watch:0,pause:0,buffering:0,session:0,latency:0},extra:{playbackName:"",playbackType:"",bitratesHistory:[],bitrateWeightedMean:0,bitrateMostUsed:0,buffersize:0,watchHistory:[],watchedPercentage:0,bufferingPercentage:0,bandwidth:0,duration:0,currentTime:0}}}},{key:"_onCompletion",value:function(){var t=this._metrics.extra.watchedPercentage,i=this._completion.watch,n=-1!=this._completion.calls.indexOf(t);-1==i.indexOf(t)||n||(s.Log.info(this.name+" PERCENTAGE_EVENT: "+t),this._completion.calls.push(t),this.trigger(e.PERCENTAGE_EVENT,t))}},{key:"_buildReport",value:function(){this._stop("session"),this._start("session"),this._metrics.extra.playbackName=this._playbackName,this._metrics.extra.playbackType=this._playbackType,this._calculateBitrates(),this._calculatePercentages(),this._fetchFPS(),this._measureLatency(),this._measureBandwidth(),this.trigger(e.REPORT_EVENT,JSON.parse(JSON.stringify(this._metrics)))}},{key:"_fetchFPS",value:function(){var t={html5_video:this._html5FetchFPS,hls:this._html5FetchFPS,dash_shaka_playback:this._html5FetchFPS};t[this._playbackName]&&t[this._playbackName].call(this)}},{key:"_calculateBitrates",value:function(){var t=this._metrics.extra.bitratesHistory.map(function(t){return t.time}).reduce(function(t,e){return t+e},0);this._metrics.extra.bitrateWeightedMean=this._metrics.extra.bitratesHistory.map(function(t){return t.bitrate*t.time}).reduce(function(t,e){return t+e},0)/t,this._metrics.extra.bitratesHistory.length>0&&(this._metrics.extra.bitrateMostUsed=this._metrics.extra.bitratesHistory.slice().sort(function(t,e){return t.time<e.time})[0].bitrate)}},{key:"_calculatePercentages",value:function(){this._metrics.extra.duration>0&&(this._metrics.extra.bufferingPercentage=this._metrics.timers.buffering/this._metrics.extra.duration*100)}},{key:"_html5FetchFPS",value:function(){var t=this.container.playback.el,e=t.webkitDecodedFrameCount||t.mozDecodedFrames||0,i=t.webkitDroppedFrameCount||t.mozParsedFrames-t.mozDecodedFrames||0,n=e-(this._lastDecodedFramesCount||0);this._metrics.counters.decodedFrames=e,this._metrics.counters.droppedFrames=i,this._metrics.counters.fps=n/(this._runEach/1e3),this._lastDecodedFramesCount=e}},{key:"_measureLatency",value:function(){var t=this;if(this._uriToMeasureLatency){var e,i=[],n=function(){e=i[2]-i[1],t._metrics.timers.latency=e};!function e(){if(i.push(t._now()),i.length>2)n();else{var r=new Image;r.onload=e,r.src=t._uriToMeasureLatency+"?"+Math.random()+"="+t._now()}}()}}},{key:"_measureBandwidth",value:function(){var t=this;if(this._urisToMeasureBandwidth&&this._bwMeasureCount%this._runBandwidthTestEvery==0){var e=0,i=function(i){var n=(t._urisToMeasureBandwidth[e-1].end-t._urisToMeasureBandwidth[e-1].start)/1e3,r=8*i.loaded/n;t._metrics.extra.bandwidth=r,t._urisToMeasureBandwidth.forEach(function(t){t.start=0,t.end=0,t.expired=!1,clearTimeout(t.timer)})};!function n(r){if(e>0&&(t._urisToMeasureBandwidth[e-1].end=t._now(),clearTimeout(t._urisToMeasureBandwidth[e-1].timer)),e>=t._urisToMeasureBandwidth.length||e>0&&t._urisToMeasureBandwidth[e-1].expired)i(r);else{var a=new XMLHttpRequest;a.open("GET",t._urisToMeasureBandwidth[e].url,!0),a.responseType="arraybuffer",a.onload=a.onabort=n,t._urisToMeasureBandwidth[e].start=t._now(),t._urisToMeasureBandwidth[e].timer=setTimeout(function(e){t._urisToMeasureBandwidth[e].expired=!0,a.abort()},t._urisToMeasureBandwidth[e].timeout,e),a.send()}e++}()}this._bwMeasureCount++}}]),e}(s.ContainerPlugin);e.default=c,c.REPORT_EVENT="clappr:stats:report",c.PERCENTAGE_EVENT="clappr:stats:percentage",t.exports=e.default},function(t,e,i){"use strict";(function(e){function i(t,e){return null==t?void 0:t[e]}function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function r(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function a(){this.__data__=vt?vt(null):{}}function o(t){return this.has(t)&&delete this.__data__[t]}function s(t){var e=this.__data__;if(vt){var i=e[t];return i===Y?void 0:i}return dt.call(e,t)?e[t]:void 0}function l(t){var e=this.__data__;return vt?void 0!==e[t]:dt.call(e,t)}function u(t,e){return this.__data__[t]=vt&&void 0===e?Y:e,this}function c(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function d(){this.__data__=[]}function h(t){var e=this.__data__,i=A(e,t);return!(i<0)&&(i==e.length-1?e.pop():yt.call(e,i,1),!0)}function p(t){var e=this.__data__,i=A(e,t);return i<0?void 0:e[i][1]}function f(t){return A(this.__data__,t)>-1}function y(t,e){var i=this.__data__,n=A(i,t);return n<0?i.push([t,e]):i[n][1]=e,this}function g(t){var e=-1,i=t?t.length:0;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function v(){this.__data__={hash:new r,map:new(gt||c),string:new r}}function m(t){return S(this,t).delete(t)}function b(t){return S(this,t).get(t)}function _(t){return S(this,t).has(t)}function E(t,e){return S(this,t).set(t,e),this}function A(t,e){for(var i=t.length;i--;)if(M(t[i][0],e))return i;return-1}function k(t,e){e=P(e,t)?[e]:C(e);for(var i=0,n=e.length;null!=t&&i<n;)t=t[I(e[i++])];return i&&i==n?t:void 0}function T(t){return!(!B(t)||R(t))&&(N(t)||n(t)?pt:et).test(x(t))}function w(t){if("string"==typeof t)return t;if(U(t))return bt?bt.call(t):"";var e=t+"";return"0"==e&&1/t==-K?"-0":e}function C(t){return Et(t)?t:_t(t)}function S(t,e){var i=t.__data__;return O(e)?i["string"==typeof e?"string":"hash"]:i.map}function L(t,e){var n=i(t,e);return T(n)?n:void 0}function P(t,e){if(Et(t))return!1;var i=void 0===t?"undefined":V(t);return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!U(t))||(X.test(t)||!q.test(t)||null!=e&&t in Object(e))}function O(t){var e=void 0===t?"undefined":V(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function R(t){return!!ut&&ut in t}function I(t){if("string"==typeof t||U(t))return t;var e=t+"";return"0"==e&&1/t==-K?"-0":e}function x(t){if(null!=t){try{return ct.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function D(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(H);var i=function i(){var n=arguments,r=e?e.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var o=t.apply(this,n);return i.cache=a.set(r,o),o};return i.cache=new(D.Cache||g),i}function M(t,e){return t===e||t!==t&&e!==e}function N(t){var e=B(t)?ht.call(t):"";return e==$||e==z}function B(t){var e=void 0===t?"undefined":V(t);return!!t&&("object"==e||"function"==e)}function F(t){return!!t&&"object"==(void 0===t?"undefined":V(t))}function U(t){return"symbol"==(void 0===t?"undefined":V(t))||F(t)&&ht.call(t)==W}function j(t){return null==t?"":w(t)}function G(t,e,i){var n=null==t?void 0:k(t,e);return void 0===n?i:n}var V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H="Expected a function",Y="__lodash_hash_undefined__",K=1/0,$="[object Function]",z="[object GeneratorFunction]",W="[object Symbol]",q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,Z=/^\./,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,tt=/\\(\\)?/g,et=/^\[object .+?Constructor\]$/,it="object"==(void 0===e?"undefined":V(e))&&e&&e.Object===Object&&e,nt="object"==("undefined"==typeof self?"undefined":V(self))&&self&&self.Object===Object&&self,rt=it||nt||Function("return this")(),at=Array.prototype,ot=Function.prototype,st=Object.prototype,lt=rt["__core-js_shared__"],ut=function(){var t=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ct=ot.toString,dt=st.hasOwnProperty,ht=st.toString,pt=RegExp("^"+ct.call(dt).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=rt.Symbol,yt=at.splice,gt=L(rt,"Map"),vt=L(Object,"create"),mt=ft?ft.prototype:void 0,bt=mt?mt.toString:void 0;r.prototype.clear=a,r.prototype.delete=o,r.prototype.get=s,r.prototype.has=l,r.prototype.set=u,c.prototype.clear=d,c.prototype.delete=h,c.prototype.get=p,c.prototype.has=f,c.prototype.set=y,g.prototype.clear=v,g.prototype.delete=m,g.prototype.get=b,g.prototype.has=_,g.prototype.set=E;var _t=D(function(t){t=j(t);var e=[];return Z.test(t)&&e.push(""),t.replace(Q,function(t,i,n,r){e.push(n?r.replace(tt,"$1"):i||t)}),e});D.Cache=g;var Et=Array.isArray;t.exports=G}).call(e,i(68))},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(2),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=/^https?:\/\/([a-z0-9\.\-]*)\.globoi?\.com/,d=/^https?:\/\/[w]*\.?(techtudo)\.com\.br/,h=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.siteName=i.options.siteName,i.listenToOnce(i.container.playback,u.default.WM_PLAYLIST_LOADED,i.onPlaylistLoaded),i.embedPlugin(),i}return a(e,t),o(e,[{key:"name",get:function(){return"comscore"}}]),o(e,[{key:"embedPlugin",value:function(){var t=this;if(!window.COMSCORE){var e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src=this.options.env.scorecardBeacon,e.onload=function(){return t.ready()},document.head.appendChild(e)}}},{key:"ready",value:function(){this.isReady=!0,this.trigger("comscore:ready")}},{key:"onPlaylistLoaded",value:function(t){var e=this;window.COMSCORE?(this.video=t,this.listenToOnce(this.container,s.Events.CONTAINER_PLAY,this.onPlay),this.listenToOnce(this.container,s.Events.CONTAINER_STOP,this.onStop),this.listenToOnce(this.container,s.Events.CONTAINER_ENDED,this.onStop)):this.listenToOnce(this,"comscore:ready",function(){return e.onPlaylistLoaded(t)})}},{key:"onPlay",value:function(){var t={c1:1,c2:6035227,c3:this.getSiteName(),c4:this.video.channel,c5:this.getVideoType(),c10:"1|1",rn:Math.random()};window.location.host.match(/globotv\.globo\.com$/)&&(t.c6="Globotv - "+this.video.channel),COMSCORE.beacon(t)}},{key:"onStop",value:function(){this.stopListening(),this.listenToOnce(this.container.playback,u.default.WM_PLAYLIST_LOADED,this.onPlaylistLoaded)}},{key:"getSiteName",value:function(){return this.siteName?this.siteName:this.getSubdomain(window.location.href)}},{key:"getSubdomain",value:function(t){if(t){var e=t.match(c)||t.match(d);return e?e[1]:null}return null}},{key:"getVideoType",value:function(){return{ad:"09",live:"03"}[this.video.kind]||"02"}}]),e}(s.ContainerPlugin);e.default=h,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(372),t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(46),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,t),o(e,[{key:"bindEvents",value:function(){this.listenTo(this.container,s.Events.CONTAINER_PAUSE,this.startTimer),this.listenTo(this.container,s.Events.CONTAINER_PLAY,this.stopTimer)}},{key:"startTimer",value:function(){var t=this;this.isNotStreamingKind()||(this.expirationTimeout=setTimeout(function(){t.container.trigger(s.Events.CONTAINER_ERROR,new u.default({type:u.default.STREAMING_PAUSE_TIME_EXPIRED,playerId:t.options.playerId}))},3e5))}},{key:"stopTimer",value:function(){this.isNotStreamingKind()||clearTimeout(this.expirationTimeout)}},{key:"isNotStreamingKind",value:function(){return!/\.(m3u8|f4m)/i.test(this.container.playback.src)}}]),e}(s.ContainerPlugin);e.default=c,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(374),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(9),c=n(u),d=i(2),h=n(d),p=i(375),f=n(p),y=i(376),g=n(y),v=i(100),m=n(v),b=i(10),_=n(b),E=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.options.hasOwnProperty("disableControlsOnPoster")||(i.options.disableControlsOnPoster=!0),i.options.disableControlsOnPoster&&i.container.disableMediaControl(),i._clicked=!1,i.render(),i.bindEvents(),i}return o(e,t),s(e,[{key:"name",get:function(){return"poster"}},{key:"template",get:function(){return(0,l.template)(g.default)}},{key:"posterTemplate",get:function(){return this.options.env.posterTemplate}},{key:"availableHeights",get:function(){return[240,360,720]}},{key:"attributes",get:function(){return{class:"poster"}}},{key:"events",get:function(){return{click:"clicked"}}},{key:"posterImage",get:function(){if(!this._posterImage){if(!this.options.src||!this.options.sources||!this.options.sources.length)return null;var t=this.options.src||this.options.sources[0],e=Number(t)%4+1;this._posterImage=this.posterTemplate({domainNumber:e,size:"x"+this.imageHeight,videoId:t})}return this._posterImage}},{key:"imageHeight",get:function(){if(!this._imageHeight){var t=l.PlayerInfo.getInstance(this.options.playerId).currentSize.height;this._imageHeight=this.availableHeights.find(function(e){return e>=t})||this.lastArrayIndex(this.availableHeights)}return this._imageHeight}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.container,l.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,l.Events.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,l.Events.CONTAINER_STOP,this.onStop),this.listenTo(this.container,l.Events.CONTAINER_ENDED,this.onStop)}},{key:"onBuffering",value:function(){this._clicked=!0,this.hidePlayButton()}},{key:"onPlay",value:function(){this.$el.hide(),this.options.disableControlsOnPoster&&this.container.enableMediaControl()}},{key:"onStop",value:function(){this._clicked=!1,this.show()}},{key:"show",value:function(){this.$el.show(),this.options.disableControlsOnPoster&&this.container.disableMediaControl(),this.options.hidePlayButton||l.Browser.isChromecast||this.showPlayButton()}},{key:"hidePlayButton",value:function(){this.$playButton.hide()}},{key:"showPlayButton",value:function(){this.$playButton.show()}},{key:"clicked",value:function(){if(!this._clicked)return this.container.playback.trigger(h.default.WM_PLAY_REQUESTED),this.hidePlayButton(),this._clicked=!0,!1}},{key:"render",value:function(){var t=this,e=c.default.getStyleFrom(f.default,{playerId:this.options.playerId});return this.$el.html(this.template()),this.$el.append(e[0]),this.container.$el.append(this.el),this.$playButton=this.$el.find(".poster__play-wrapper"),this.$playButton.append(m.default),l.Browser.isChromecast&&this.hidePlayButton(),_.default.autoplayManager.onAutoplayAvailable(function(){return t.hidePlayButton()},this.options),this.posterImage&&(this.container.options.poster=this.posterImage,this.imgEl=this.$(".poster__background"),this.imgEl.css({"background-image":"url("+this.posterImage+")"}),this.$el.prepend(this.imgEl[0])),this}},{key:"lastArrayIndex",value:function(t){var e=Array.isArray(t)?t.length:0;return e?t[e-1]:void 0}}]),e}(l.UIContainerPlugin);e.default=E,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .poster{cursor:pointer;position:absolute;height:100%;width:100%;z-index:995;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.clappr-player#wp3-player-0 .poster:hover .poster__play-wrapper{-webkit-filter:drop-shadow(0 0 15px hsla(0,0%,100%,.5));filter:drop-shadow(0 0 15px rgba(255,255,255,.5))}.clappr-player#wp3-player-0 .poster__background{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-repeat:no-repeat;background-position:50% 50%}.clappr-player#wp3-player-0 .poster__background-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5)}.clappr-player#wp3-player-0 .poster__play-wrapper{width:100%;height:16%;text-align:center;opacity:.97;transition:-webkit-filter .3s;transition:filter .3s;transition:filter .3s,-webkit-filter .3s}.clappr-player#wp3-player-0 .poster__play-wrapper svg{height:100%;display:inline}.clappr-player#wp3-player-0 .poster__play-wrapper svg path{fill:#fff}",""])},function(t,e){t.exports='<div class="poster__background"></div>\n<div class="poster__background-overlay"></div>\n<div class="poster__play-wrapper"></div>\n'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(378),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(9),c=n(u),d=i(379),h=n(d),p=i(380),f=n(p),y=i(2),g=n(y),v=i(10),m=n(v),b=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.render(),i}return o(e,t),s(e,[{key:"name",get:function(){return"spinner"}},{key:"template",get:function(){return(0,l.template)(f.default)}},{key:"attributes",get:function(){return{class:"spinner"}}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.container.playback,g.default.WM_PLAY_REQUESTED,this.start),this.listenTo(this.container,l.Events.CONTAINER_STATE_BUFFERING,this.start),this.listenTo(this.container,l.Events.CONTAINER_STATE_BUFFERFULL,this.stop),this.listenTo(this.container,l.Events.CONTAINER_PLAY,this.stop),this.listenTo(this.container,l.Events.CONTAINER_STOP,this.stop),this.listenTo(this.container,l.Events.CONTAINER_ERROR,this.stop)}},{key:"change",value:function(t){t?this.start():this.stop()}},{key:"start",value:function(){this.$el.removeClass("spinner--hidden"),this.$el.addClass("spinner__svg--animated")}},{key:"stop",value:function(){this.$el.removeClass("spinner__svg--animated"),this.$el.addClass("spinner--hidden")}},{key:"render",value:function(){var t=this;this.$el.html(this.template());var e=c.default.getStyleFrom(h.default,{playerId:this.options.playerId});return this.container.$el.append(e[0]),this.container.$el.append(this.$el),this.stop(),m.default.autoplayManager.onAutoplayAvailable(function(){return t.start()},this.options),this}}]),e}(l.UIContainerPlugin);e.default=b,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .spinner{position:absolute;top:50%;left:50%;z-index:997;width:48px;height:48px;margin:-24px 0 0 -24px}.clappr-player#wp3-player-0 .spinner__svg{line-height:100%;height:100%;width:100%}.clappr-player#wp3-player-0 .spinner__svg path{fill:#fff}.clappr-player#wp3-player-0 .spinner__svg--animated{-webkit-animation:rotate-spinner-player .5s linear infinite normal forwards;animation:rotate-spinner-player .5s linear infinite normal forwards}.clappr-player#wp3-player-0 .spinner--hidden{display:none}@-webkit-keyframes rotate-spinner-player{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes rotate-spinner-player{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}",""])},function(t,e){t.exports='<figure class="spinner__svg">\n  <svg\n    version="1.1"\n    xmlns="http://www.w3.org/2000/svg"\n    xlinkHref="http://www.w3.org/1999/xlink"\n    viewBox="0 0 40 40"\n    enableBackground="new 0 0 40 40"\n  >\n    <path\n      d="M37,23c-1.657,0-3-1.343-3-3c0-7.72-6.28-14-14-14c-1.657,0-3-1.343-3-3s1.343-3,\n      3-3c11.028,0,20,8.972,20,20C40,21.657,38.657,23,37,23z"\n    />\n  </svg>\n</figure>\n'},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(2),d=function(t){return t&&t.__esModule?t:{default:t}}(c),h=i(10),p=/([a-z0-9\.\-]*)\.globoi?\.com/,f=/[w]*\.?(techtudo)\.com\.br/,y=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.options.daxExtras||(i.options.daxExtras=i.options.daxextras),i.adError=!1,i.isReady=!1,i.started=!1,i.currentTime=0,i.embedScript(),i}return a(e,t),l(e,[{key:"name",get:function(){return"streamsense"}},{key:"waitForDFP",get:function(){return!u.Browser.isChromecast&&!u.Browser.isMobile}},{key:"gaPlugin",get:function(){return this.container.getPlugin("google_analytics")}},{key:"streamSensePlayerEvents",get:function(){return window.ns_&&window.ns_.StreamSense&&window.ns_.StreamSense.PlayerEvents}},{key:"isAdPlayback",get:function(){return"ad"===this.container.playback.getPlaybackType()}}]),l(e,[{key:"bindEvents",value:function(){var t=this;this.waitForDFP&&(u.Mediator.on(this.options.playerId+":"+d.default.DFP_CONTENT_RESUME,function(){t.checkAd(!1),t.bindPlaybackEvents()}),u.Mediator.on(this.options.playerId+":"+d.default.DFP_AD_ERROR,function(){t.checkAd(!0),t.bindPlaybackEvents()}),u.Mediator.on(this.options.playerId+":"+d.default.DFP_CONTENT_ENDED,this.bindPlaybackEvents,this)),this.listenTo(this.container.playback,d.default.WM_PLAYLIST_LOADED,this.onPlaylistLoaded),this.listenTo(this.container.playback,d.default.WM_HASH_LOADED,this.onHashLoaded)}},{key:"bindPlaybackEvents",value:function(){this.listenTo(this.container.playback,u.Events.PLAYBACK_ENDED,this.onEnded),this.listenTo(this.container,u.Events.CONTAINER_TIMEUPDATE,this.timeUpdate),this.listenTo(this.container,u.Events.CONTAINER_PLAY,this.onPlay),this.listenTo(this.container,u.Events.CONTAINER_PAUSE,this.onPause),this.listenTo(this.container,u.Events.CONTAINER_ERROR,this.onError),this.listenTo(this.container,u.Events.CONTAINER_SEEK,this.onSeek),this.listenTo(this.container,u.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,u.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferFull)}},{key:"onPlaylistLoaded",value:function(t,e){var i=this;this.video=t,this.user=e,!this.isReady&&!window.ns_||!this.dfpReady&&this.waitForDFP?this.listenToOnce(this,d.default.STREAMSENSE_READY,function(){return i.onPlaylistLoaded(t)}):(this.start(),this.waitForDFP||this.bindPlaybackEvents())}},{key:"checkAd",value:function(t){this.adError=t,this.dfpReady=!0,!this.started&&this.onPlaylistLoaded(this.video)}},{key:"onHashLoaded",value:function(t){var e=this,i=t&&t.selectedResource&&t.selectedResource.hashData;this.isReady||window.ns_?this.hashData=i:this.listenToOnce(this,d.default.STREAMSENSE_READY,function(){return e.onHashLoaded(i)})}},{key:"ready",value:function(){window.ns_?(this.isReady=!0,this.trigger(d.default.STREAMSENSE_READY)):this.disable()}},{key:"embedScript",value:function(){var t=this;if(!window.ns_||!window.ns_.StreamSense){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("async","async"),e.setAttribute("src",this.options.env.streamsenseScript),e.onload=function(){return t.ready()},e.onerror=function(){return t.ready()},document.head.appendChild(e)}}},{key:"start",value:function(){this.video&&ns_.StreamSense&&(this.streamSense=new ns_.StreamSense({},this.options.env.scorecardMeasurement),this.streamSense.setLabels({ns_st_mp:"Player",ns_st_mv:"4.6.5"}),this.streamSense.setPlaylist({ns_st_pl:this.video.program+"-"+this.video.title}),this.setClip(),this.started=!0)}},{key:"getSubdomain",value:function(t){if(t){var e=t.match(p)||t.match(f);return e?e[1]:null}return null}},{key:"setClip",value:function(){var t={excerpt:["short","vc11"],segment:["short","vc11"],episode:["full","vc12"],live:["live","vc13"],collaborative:["collaborative","vc21"],ad:["ad","va00"]},e=t[this.video.kind]||[this.video.kind,"vc11"],i=o(e,2),n=i[0],r=i[1],a=this.container.options.dax,s=a.domain,l=a.url;s||(s=this.container.options.domain);var u=s||l&&new URL(l).hostname||document.location.hostname,c=this.options.resumeAt||(0,h.seekStringToSeconds)(),d={c3:this.getSubdomain(u),c4:this.video.channel,ns_st_ty:n,ns_st_ct:r,ns_st_pr:this.video.program,ns_st_ep:this.video.title,ns_st_st:this.video.channel,ns_st_pu:"Globo",ns_st_ge:this.video.category,ns_st_ci:""+this.video.id,ns_st_cu:l||document.location.href,ns_st_cl:this.video.duration||0,ns_st_cn:1,ns_st_pn:1,ns_st_tp:1,gcom_v_adb:this.adError,gcom_v_dcrv:this.video.createdAt,gcom_v_dexb:this.video.exhibitedAt,gcom_v_kw:c>0,gcom_v_prid:this.video.programId,gcom_v_stid:this.video.channelId,gcom_v_vd:u,gcom_v_vl:(0,h.toDurationString)(this.video.duration),gsat_v_vt:this.video.isSubscriberOnly?"Fechado":"Aberto",gcom_v_arc:this.video.isArchived?"acervo":"grade",gcom_ga_ver:this.gaPlugin&&this.gaPlugin.schemaVersion};this.video.providerId?this.video.isSubscriberOnly&&(d.gsat_v_op=this.options.payTvServiceProvider):this.user&&this.user.product&&(d.gcom_v_pisp=this.user.product),this.video.geofencing&&(d.gcom_v_pr=this.video&&this.video.transmission&&this.video.transmission.affiliate&&this.video.transmission.affiliate.code),Object.assign(d,this.options.daxExtras),this.streamSense.setClip(d)}},{key:"timeUpdate",value:function(t){this.currentTime=t.current,this.duration=t.total}},{key:"onPlay",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.notify(this.streamSensePlayerEvents.PLAY,{},this.toMillis(this.currentTime))}},{key:"onPause",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.notify(this.streamSensePlayerEvents.PAUSE,{},this.toMillis(this.currentTime))}},{key:"onEnded",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.notify(this.streamSensePlayerEvents.END,{ns_st_pe:1},this.toMillis(this.currentTime))}},{key:"onBuffering",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.video&&"Live"===this.video.type&&this.notify(this.streamSensePlayerEvents.BUFFER,{},this.toMillis(this.currentTime))}},{key:"onBufferFull",value:function(){this.streamSensePlayerEvents&&!this.isAdPlayback&&this.video&&"Live"===this.video.type&&this.notify(this.streamSensePlayerEvents.PLAY,{},this.toMillis(this.currentTime))}},{key:"onSeek",value:function(){var t=this;this.onPause(),this.listenToOnce(this.container,u.Events.CONTAINER_STATE_BUFFERFULL,function(){return t.onPlay()})}},{key:"onError",value:function(){}},{key:"toMillis",value:function(t){return 1e3*t>>0}},{key:"destroy",value:function(){this.streamSensePlayerEvents&&window.ns_&&this.notify(this.streamSensePlayerEvents.END,{},this.toMillis(this.currentTime)),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"notify",value:function(t,e,i){this.started&&this.streamSense.notify(t,e,i)}}]),e}(u.ContainerPlugin);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=i(2),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=i(10),d=i(103),h=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.url=i.options.env.webmediaApiHit,i}return a(e,t),o(e,[{key:"name",get:function(){return"webmedia_api_hit"}},{key:"type",get:function(){return s.Browser.isMobile?"mobile_browser":"desktop"}}]),o(e,[{key:"bindEvents",value:function(){this.stopListening(),this.listenToOnce(this.container.playback,u.default.WM_PLAYLIST_LOADED,this.fillIds),this.listenToOnce(this.container.playback,s.Events.PLAYBACK_PLAY,this.seed),this.listenToOnce(this.container.playback,s.Events.PLAYBACK_ENDED,this.bindEvents),this.listenToOnce(this.container.playback,s.Events.PLAYBACK_STOP,this.bindEvents)}},{key:"fillIds",value:function(t){this.videoId=t.id,this.programId=t.programId}},{key:"seed",value:function(){var t=this;if(!this.videoId||!this.programId)return void this.logError("no argument was passed");var e="hitStats_"+ +new Date,i="/hits/"+this.videoId+"?type="+this.type+"&callback="+e,n=""+this.url+i;c.Ajax.jsonp({url:n,callbackName:e,timeout:5e3}).then(function(e){return t.hit(e)},this.logError)}},{key:"hit",value:function(t){var e=t.data,i=""+e+(0,d.hexGrf)(e+"w3bM3d!A"),n="hitIncStats_"+ +new Date,r="/hits/"+this.videoId+"/"+this.programId+"/"+i+"?type="+this.type+"&callback="+n,a=""+this.url+r;(0,c.loadUrlAsImage)(a)}},{key:"logError",value:function(t){s.Log.error(this.name,"Webmedia api hit was not possible because ",t)}}]),e}(s.ContainerPlugin);e.default=h,t.exports=h,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(384),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(385),c=n(u),d=i(2),h=n(d),p=i(9),f=n(p),y=i(10),g=n(y),v=i(386),m=n(v),b=i(387),_=n(b),E=function(t){function e(){return r(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),s(e,[{key:"bindEvents",value:function(){var t=this;this.listenTo(this.container,l.Events.CONTAINER_TIMEUPDATE,this.render),this.listenTo(this.container,h.default.WM_SUBTITLE_CHANGED,this.changeSubtitle),this.listenTo(this.container,h.default.WM_SUBTITLE_AVAILABLE,this.onSubtitleAvailable),this.listenTo(this.container,l.Events.CONTAINER_MEDIACONTROL_SHOW,function(){return t.onMediaControlShow()}),this.listenTo(this.container,l.Events.CONTAINER_MEDIACONTROL_HIDE,function(){return t.onMediaControlHide()}),this.listenTo(this.container,h.default.WM_MASTERTOPIP,function(){return t.$el.hide()}),this.listenTo(this.container,h.default.WM_PIPTOMASTER,function(){return t.$el.show()}),l.Mediator.on(this.options.playerId+":"+l.Events.PLAYER_RESIZE,this.updateSize,this)}},{key:"onSubtitleAvailable",value:function(t){this.availableSubtitles=t}},{key:"onMediaControlShow",value:function(){this.$el.addClass("subtitle__wrapper--showing-media-control")}},{key:"onMediaControlHide",value:function(){this.$el.removeClass("subtitle__wrapper--showing-media-control")}},{key:"changeSubtitle",value:function(t){var e=this.getCurrentSubtitle(t),i=e&&e.subtitle||"";""!==i?(this.$el.removeClass("subtitle--hidden"),this.srtParser=new c.default(i)):(this.srtParser=null,this.$el.html(""),this.$el.addClass("subtitle--hidden"))}},{key:"getCurrentSubtitle",value:function(t){if(this.availableSubtitles&&(!this.availableSubtitles||this.availableSubtitles.length))return this.availableSubtitles.find(function(e){return e.id===t.id||e.language===t.language})}},{key:"updateSize",value:function(){g.default.applySizeClass(this.$el,this.container.$el.width())}},{key:"shouldRender",value:function(t){return t!==this.lastSubtitle}},{key:"render",value:function(t){var e=this.srtParser&&this.srtParser.subtitleBy(t.current)||"";if(this.shouldRender(e)){this.lastSubtitle=e;var i=f.default.getStyleFrom(m.default,{playerId:this.options.playerId});this.$el.html(this.template({subtitle:e})),this.$el.append(i[0]),this.container.$el.append(this.$el),this.updateSize()}return this}},{key:"attributes",get:function(){return{class:"subtitle__wrapper subtitle--hidden","data-subtitle":""}}},{key:"name",get:function(){return"subtitle"}},{key:"template",get:function(){return(0,l.template)(_.default)}}]),e}(l.UIContainerPlugin);e.default=E,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(0),l=/\n?(\r?\n){2}/,u=/\r?\n/,c=/([0-9]{2}):([0-9]{2}):([0-9]{2}),([0-9]*)?/,d=/[0-9:,]+/g,h=/[^\S\r\n]+$/gm,p=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));i.subtitleItems=[];var a=t.replace(h,"").split(l),o=a.filter(function(t){return i.isValid(t)});return i.subtitleItems=o.map(function(t){return i.parseSubtitle(t)}),i}return a(e,t),o(e,[{key:"subtitleBy",value:function(t){var e=1e3*t;return this.subtitleItems.find(function(t){return e>=t.start&&e<=t.end})}},{key:"isValid",value:function(t){return t&&""!==t.trim()}},{key:"milliesFromTimestamp",value:function(t){t=t.match(c);var e=60*parseInt(t[1])*60*1e3;return e+=60*parseInt(t[2])*1e3,e+=1e3*parseInt(t[3]),t[4]&&(e+=parseInt(t[4])),e}},{key:"parseSubtitle",value:function(t){var e=-1,i=-1,n="",r=t.split(u);if(r.length>=2){var a=r[1].match(d);return a[0]&&(e=this.milliesFromTimestamp(a[0])),a[1]&&(i=this.milliesFromTimestamp(a[1])),-1!==e&&-1!==i&&(n=r.slice(2).join("<br>")),{start:e,end:i,content:n}}}}]),e}(s.BaseObject);e.default=p,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .subtitle{color:#fefe65;text-shadow:rgba(0,0,0,.9) 0 0 15px;font-size:34px;font-weight:700;position:absolute;width:100%;padding:20px 0;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.clappr-player#wp3-player-0 .subtitle--hidden{display:none}.clappr-player#wp3-player-0 .subtitle__wrapper{bottom:72px;position:relative;z-index:993;transition:bottom .4s ease-out}.clappr-player#wp3-player-0 .subtitle__wrapper--showing-media-control{bottom:100px}.clappr-player#wp3-player-0 .w960 .subtitle{font-size:22px}.clappr-player#wp3-player-0 .w960.subtitle__wrapper{bottom:54px}.clappr-player#wp3-player-0 .w960.subtitle__wrapper--showing-media-control{bottom:90px}.clappr-player#wp3-player-0 .cast-enabled .wp3-subtitle-wrapper{display:none}",""])},function(t,e){t.exports='<p class="subtitle">\n  <%= subtitle.content %>\n</p>\n'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(389),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(2),c=n(u),d=i(10),h=i(390),p=n(h),f=i(66),y=n(f),g=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.params={},i.dfpInit=0,i.bufftime=0,i.playRequestTime=0,i.isBuffering=!1,i.browser=""+l.Browser.name+l.Browser.version,i.playerId=y.default.playerId,i.horizonHost=i.options.env.horizonHost,i.url=i.horizonHost+"/auth-session/activity/webmedia/watch",i.domain=window.location.hostname.replace("www.","").split(".")[0],i.experiments=(0,d.getExperimentsList)(i.options),i.youboraTimemark=new p.default,i.externalData={},i.onDFPInit(),i}return o(e,t),s(e,[{key:"name",get:function(){return"horizon"}},{key:"isAd",get:function(){return"ad"===this.container.getPlaybackType()}}]),s(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.container,l.Events.CONTAINER_PLAY,this.onFirstPlaying),this.listenTo(this.container,l.Events.CONTAINER_PLAY,this.play),this.listenTo(this.container,l.Events.CONTAINER_PAUSE,this.pause),this.listenTo(this.container,l.Events.CONTAINER_SEEK,this.seek),this.listenTo(this.container,l.Events.CONTAINER_TIMEUPDATE,this.timeUpdate),this.listenToOnce(this.container,l.Events.CONTAINER_STATE_BUFFERING,this.buffering),this.listenTo(this.container,l.Events.CONTAINER_ENDED,this.end),this.listenTo(this.container,l.Events.CONTAINER_DESTROYED,this.end),this.listenTo(this.container,l.Events.CONTAINER_STOP,this.end),this.listenTo(this.container,l.Events.CONTAINER_STATS_REPORT,this.onOldStatsReport),this.listenTo(this.container,c.default.WM_STATS_REPORTED,this.onStatsReport),this.listenTo(this.container.playback,l.Events.PLAYBACK_STATS_ADD,this.onExtraStatsReport),this.listenTo(this.container.playback,c.default.WM_VIDEO_METADATALOADED,this.onMetadataLoaded),this.listenToOnce(this.container.playback,c.default.WM_PLAY_REQUESTED_READY,this.onPlayRequested),this.listenTo(this.container.playback,c.default.WM_PLAYLIST_LOADED,this.startSession),this.listenTo(this.container,l.Events.CONTAINER_ERROR,this.onError),this.listenTo(this.container,c.default.WM_MUTED,this.onVolumeMuted),this.listenTo(this.container,c.default.WM_UNMUTED,this.onVolumeUnmuted),this.listenTo(this.container,c.default.WM_SUBTITLE_CHANGED,this.onSubtitleChanged),this.listenTo(l.Mediator,this.container.options.playerId+":"+c.default.DFP_AD_NOTSERVED,this.onAdNotServed),this.listenTo(l.Mediator,this.container.options.playerId+":"+c.default.DFP_AD_ERROR,this.onAdError),this.listenTo(l.Mediator,this.container.options.playerId+":"+c.default.YOUBORA_TIMEMARK,this.onYouboraTimemark)}},{key:"onPlayRequested",value:function(){this.playRequestTime=this.now(),this.isReady=!0}},{key:"onError",value:function(t){var e=t&&t.error&&t.error.type&&t.error.type.code||"unknown";this.pingError(e)}},{key:"onMetadataLoaded",value:function(t){this.video=t,t&&(this.params.playback_id=t.id,this.params.subscriber_only=t.isSubscriberOnly,this.params.title=t.title,this.params.program=t.program,this.params.channel=t.channel,this.params.kind=t.kind)}},{key:"now",value:function(){return window.performance&&window.performance.now&&performance.now()||Date.now()}},{key:"onDFPInit",value:function(){this.dfpInit=this.now()}},{key:"onAdNotServed",value:function(){this.params.dfp_status="not served"}},{key:"onAdError",value:function(){this.params.dfp_status="error"}},{key:"onOldStatsReport",value:function(t){this.isLive()&&(this.params.dvr=t.dvr?1:0)}},{key:"onStatsReport",value:function(t){t.extra.bitratesHistory.length>0&&(this.params.nominal_bitrate=t.extra.bitratesHistory[t.extra.bitratesHistory.length-1].bitrate),this.params.avg_bitrate=Math.trunc(t.extra.bitrateWeightedMean),this.params.session_time=Math.trunc(t.timers.session),this.params.watch_time=Math.trunc(t.timers.watch)}},{key:"onExtraStatsReport",value:function(t){this.isLive()&&t.url&&(this.params.signal=this.signalName(t.url))}},{key:"onFirstPlaying",value:function(){if(this.isAd&&!this.dfp_startup_time)return this.params.dfp_status="delivered",void(this.params.dfp_startup_time=Math.trunc(this.now()-this.dfpInit));this.params.startup_time=Math.trunc(this.now()-this.playRequestTime)}},{key:"ignoreVolumeUpdate",value:function(t){var e=!this.isReady&&!this.container.playback.isPlaying();return null===t||e}},{key:"onVolumeMuted",value:function(t){this.ignoreVolumeUpdate(t)||this.hasStartedClip&&this.notify(this.toMillis(this.currentTime),{mute_status:!0})}},{key:"onVolumeUnmuted",value:function(t){this.ignoreVolumeUpdate(t)||this.hasStartedClip&&this.notify(this.toMillis(this.currentTime),{mute_status:!1})}},{key:"onSubtitleChanged",value:function(t){this.hasStartedClip&&this.notify(this.toMillis(this.currentTime),{subtitle_status:"none"===t.language?"disabled":"enabled",subtitle_language:t.language})}},{key:"play",value:function(){var t=this;this.isAd||(this.notifyPlayOrSeek(this.toMillis(this.currentTime)),this.isPlaying||(this.breakTimerId=setInterval(function(){t.isPlaying=!0,t.notifyRelevantPoint(t.toMillis(t.currentTime))},15e3),this.ping()),this.doingSeek=!1,this.paused=!1)}},{key:"pause",value:function(){var t=this;this.pauseTimerId=setTimeout(function(){t.notifyAction(t.toMillis(t.currentTime),"pause")},100)}},{key:"seek",value:function(t){this.pauseTimerId&&(clearTimeout(this.pauseTimerId),this.pauseTimerId=null),this.doingSeek=!0}},{key:"buffering",value:function(){this.isBuffering=!0,this.buffstarttime=this.now(),this.listenToOnce(this.container,l.Events.CONTAINER_STATE_BUFFERFULL,this.bufferfull)}},{key:"bufferfull",value:function(){this.isBuffering=!1,this.bufftime+=this.now()-this.buffstarttime,this.listenToOnce(this.container,l.Events.CONTAINER_STATE_BUFFERING,this.buffering)}},{key:"end",value:function(){this.notifyAction(this.toMillis(this.currentTime),"stop"),this.cancelBreakTimer(),this.cancelPing(),this.reset()}},{key:"reset",value:function(){this.hasStartedClip=!1,this.isPlaying=!1}},{key:"cancelBreakTimer",value:function(){clearInterval(this.breakTimerId),this.breakTimerId=null,this.isPlaying=!1}},{key:"cancelPing",value:function(){this.isLive()&&(clearInterval(this.pingTimerId),this.pingTimerId=null)}},{key:"startSession",value:function(){this.lastNotifiedPoint=-1,this.totalActions=0,this.isLive()&&(this.params.started_at=(new Date).getTime().toString()),this.video.providerId&&(this.params.gst=this.getCookieValue("GST")),this.experiments.length>0&&(this.params.experiment_1=this.experiments[0]),this.experiments.length>1&&(this.params.experiment_2=this.experiments[1]),this.video.duration&&(this.session={duration:this.video.duration,media_id:this.video.id,started_at:(new Date).getTime().toString(),play:0,seek:0,pause:0,stop:0,mute:0,unmute:0,subtitle_enable:0,subtitle_disable:0},this.doingSeek=!1,this.hasStartedClip=!0)}},{key:"notifyRelevantPoint",value:function(t){if(this.hasStartedClip){var e=this.percent(t),i=5*Math.floor(e/5);i>this.lastNotifiedPoint?(this.notify(t),this.lastNotifiedPoint=i):this.verbose&&l.Log.info(this.name,"do not notify: "+i+" !> "+this.lastNotifiedPoint)}}},{key:"notifyPlayOrSeek",value:function(t){var e=this,i=this.doingSeek;this.playOrSeekTimerId=setTimeout(function(){i?e.notifyAction(t,"seek"):e.notifyAction(t,"play")},100)}},{key:"notifyAction",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.hasStartedClip){var n=++this.session[e];i[e+"_total"]=n,i[e+"_id_"+n]=t,this.notify(t,i)}}},{key:"notify",value:function(t,e){if(this.hasStartedClip){var i=e||{},n=++this.totalActions;i["time_"+n]=t,this.params.avg_bitrate&&(i.avg_bitrate=this.params.avg_bitrate),this.params.startup_time&&(i.startup_time=this.params.startup_time),this.params.session_time&&(i.session_time=this.params.session_time),this.params.watch_time&&(i.watch_time=this.params.watch_time),this.params.dfp_startup_time&&(i.dfp_startup_time=this.params.dfp_startup_time),this.params.dfp_status&&(i.dfp_status=this.params.dfp_status),this.params.gst&&(i.gst=this.params.gst),this.params.experiment_1&&(i.experiment_1=this.params.experiment_1),this.params.experiment_2&&(i.experiment_2=this.params.experiment_2),i.subscriber_only=this.params.subscriber_only,i.title=this.params.title,i.program=this.params.program,i.channel=this.params.channel,i.kind=this.params.kind,i.encrypted=this.getEncrypted(),i.last_at=(new Date).getTime().toString(),i.duration=this.session.duration,i.started_at=this.session.started_at,i.object="video:"+this.session.media_id,i.browser=this.browser,i.playback=this.getPlaybackName(),i.player_type=this.getPlayerType(),i.btime=this.getBufferingTime(),i.player_id=this.playerId,i.domain=this.domain,i.player_version="4.6.5",i.cdn=this.video.cdn,1===n&&this.setYouboraParams(i),this.sendRequest(this.url+"?"+this.toQs(i)),this.clear()}}},{key:"clear",value:function(){this.params.dfp_startup_time=null,this.params.dfp_status=null}},{key:"getPlaybackName",value:function(){var t=this.container,e=t&&t.playback;return e?("function"==typeof e.getInnerPlaybackName?e.getInnerPlaybackName():"")||e.name:null}},{key:"getPlayerType",value:function(){return this.video&&this.video.playerType||"unknown"}},{key:"getEncrypted",value:function(){return this.video&&this.video.encrypted||"unknown"}},{key:"getBufferingTime",value:function(){this.isBuffering&&(this.bufftime+=this.now()-this.buffstarttime,this.buffstarttime=this.now());var t=this.bufftime;return this.bufftime=0,Math.trunc(t)}},{key:"ping",value:function(){var t=this;this.isLive()&&(this.url=this.horizonHost+"/auth-session/activity/webmedia/watchlive",this.params.object="video:"+this.video.id,this.params.browser=this.browser,this.params.encrypted=this.getEncrypted(),this.params.player_id=this.playerId,this.params.player_version="4.6.5",this.params.playback=this.getPlaybackName(),this.params.player_type=this.getPlayerType(),this.params.domain=this.domain,this.params.cdn=this.video.cdn,this.params.dvr=this.params.dvr||0,this.pingTimerId||(this.sendPing(),this.pingTimerId=setInterval(function(){t.sendPing()},6e4)))}},{key:"sendPing",value:function(){this.params.btime=this.getBufferingTime(),this.params.n=++this.totalActions;var t=Object.assign({},this.params);1===this.totalActions&&this.setYouboraParams(t),this.sendRequest(this.url+"?"+this.toQs(t))}},{key:"pingError",value:function(t){var e=this.isLive()?"watchlive":"watch";this.url=this.horizonHost+"/auth-session/activity/webmedia/"+e,this.params.player_id=this.playerId,this.params.browser=this.browser,this.params.started_at=(new Date).getTime().toString(),this.params.object="video:"+this.options.sources,this.params.error=t,this.params.playback=this.getPlaybackName(),this.params.player_type=this.getPlayerType(),this.params.encrypted=this.getEncrypted(),this.params.url=document.location.href,this.sendRequest(this.url+"?"+this.toQs(this.params))}},{key:"sendRequest",value:function(t){(new Image).src=t}},{key:"toMillis",value:function(t){return 1e3*t>>0}},{key:"toQs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=encodeURIComponent;return Object.keys(t).map(function(i){return e(i)+"="+e(t[i])}).join("&")}},{key:"percent",value:function(t){return 0===t?t:t/this.session.duration*100}},{key:"timeUpdate",value:function(t){this.currentTime=t.current}},{key:"isLive",value:function(){return!("live"!==this.container.getPlaybackType())}},{key:"signalName",value:function(t){return t&&t.match(/\/([^\/]+)\/(master-)?playlist\.m3u8/)[1]}},{key:"getCookieValue",value:function(t){var e=document.cookie.match(t+"=([^;]+)");return null!=e?unescape(e[1]):null}},{key:"onYouboraTimemark",value:function(t){this.youboraTimemark.onTimemark(t,this.externalData)}},{key:"setYouboraParams",value:function(t){var e=this,i=this.externalData&&this.externalData.youboraMetrics||{};Object.keys(i).forEach(function(i){t[i]=e.externalData.youboraMetrics[i]})}}]),e}(l.ContainerPlugin);e.default=g,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(){n(this,t),this.youboraTimersStopped=!1,this.metrics={},this.youboraTimers={},this.initYouboraTimers()}return r(t,[{key:"YOUBORA_SERVICES",get:function(){return["init","adInit","adStart","adJoinTime","adStop","joinTime"]}}]),r(t,[{key:"initYouboraTimers",value:function(){var t=this;this.YOUBORA_SERVICES.forEach(function(e){return t.youboraTimers[e]=0})}},{key:"delta",value:function(t,e){var i=this.youboraTimers[t]-this.youboraTimers[e];return i>0?i:0}},{key:"onTimemark",value:function(t){var e=t.time,i=t.service,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="init"!==i&&this.youboraTimersStopped;-1===this.YOUBORA_SERVICES.indexOf(i)||r||(this.youboraTimers[i]=e,this.setAdMetrics(),this.setDFPMetrics(),this.setContentMetrics(),this.willSendParams(i)&&(this.setParams(n),this.initYouboraTimers()))}},{key:"setAdMetrics",value:function(){this.metrics.adInitTime=this.delta("adInit","init"),this.metrics.adStartTime=this.delta("adStart","adInit"),this.metrics.adJoinTime=this.delta("adJoinTime","adStart")}},{key:"setDFPMetrics",value:function(){this.metrics.dfpSetupTime=this.metrics.adStartTime+this.metrics.adJoinTime,this.metrics.dfpRunTime=this.delta("adStop","adInit"),this.metrics.dfpTime=this.metrics.dfpSetupTime?this.metrics.dfpSetupTime:this.metrics.dfpRunTime;var t=this.youboraTimers.adStop&&this.youboraTimers.adJoinTime;this.metrics.dfpWatchedTime=t?this.youboraTimers.adStop-this.youboraTimers.adJoinTime:0}},{key:"setContentMetrics",value:function(){this.metrics.contentStartTime=this.youboraTimers.adStop?this.delta("joinTime","adStop"):0,this.metrics.joinTime=this.delta("joinTime","init")-this.metrics.dfpWatchedTime}},{key:"willSendParams",value:function(t){var e="joinTime"===t;return this.youboraTimersStopped=e,e}},{key:"setParams",value:function(t){t.youboraMetrics=this.metrics}}]),t}();e.default=a,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(392),t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(0),c=i(2),d=function(t){return t&&t.__esModule?t:{default:t}}(c),h=i(10),p=i(393),f=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.videoUA="prod"===i.options.env.name?"UA-296593-59":"UA-296593-62",i.productUA=i.options.ga&&i.options.ga.productUA||i.options.gaProductua,i.gaClientId=i.options.ga&&i.options.ga.productClientId,i.gaExtras=i.options.ga&&i.options.ga.extras||{},i.isPaused=!1,i.seekCounter=0,i.checkpoint=0,i.trackedPlayTime=0,i.loadTimer=0,i.sentBuckets={},(0,h.registerExternalScript)("ga"),window.ga?(i.getGAClientId(),i.setupAnalytics()):(0,h.embedScript)("https://www.google-analytics.com/analytics.js").then(function(){i.getGAClientId(),i.setupAnalytics()}),i}return a(e,t),l(e,[{key:"name",get:function(){return"google_analytics"}},{key:"playback",get:function(){return this.container.playback}},{key:"schemaVersion",get:function(){return"2.0"}}]),l(e,[{key:"getGAClientId",value:function(){if(!this.gaClientId)if(window.GoogleAnalyticsObject&&window[window.GoogleAnalyticsObject]&&window[window.GoogleAnalyticsObject].getAll){var t=window[window.GoogleAnalyticsObject].getAll(),e=!0,i=!1,n=void 0;try{for(var r,a=t[Symbol.iterator]();!(e=(r=a.next()).done);e=!0){var o=r.value;o.get("trackingId")===this.productUA&&(this.gaClientId=o.get("clientId"),u.Log.warn(this.name,"Getting GA product client id via GoogleAnalyticsObject"))}}catch(t){i=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}}else{var s=h.LocalStorage.loadRaw("wm.player._videoGa");if(!s){var l=new Date;l.setFullYear(l.getFullYear()+2),h.LocalStorage.store("_videoGa",h.User.uid,l)}this.gaClientId=s,u.Log.warn(this.name,"Player has not found a valid client id. It`s been generated by the player.")}}},{key:"setupAnalytics",value:function(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,this.createGATrackers()}},{key:"createGATrackers",value:function(){var t=this.mountGAInitialParameters();ga("create",this.videoUA,"auto","playerTracker",t),ga("playerTracker.set","location",window.location.href),this.productUA&&(ga("create",this.productUA,"auto","productTracker",t),ga("productTracker.set","location",window.location.href))}},{key:"mountGAInitialParameters",value:function(){var t={};return this.gaExtras&&this.gaExtras.uid&&(t.userId=this.gaExtras.uid),this.productUA&&(t.clientId=this.gaClientId),t}},{key:"bindEvents",value:function(){var t=this;this.listenTo(u.Mediator,this.container.options.playerId+":"+d.default.DFP_CONTENT_RESUME,function(){t.DFPError="false"}),this.listenTo(u.Mediator,this.container.options.playerId+":"+d.default.DFP_AD_ERROR,function(){t.DFPError="true"}),this.listenTo(this.playback,d.default.WM_VIDEO_METADATALOADED,this.onMetadataLoaded),this.listenTo(this.playback,d.default.WM_HASH_LOADED,this.onHashLoaded),this.listenTo(this.playback,u.Events.PLAYBACK_PLAY,this.onPlay),this.listenTo(this.playback,u.Events.PLAYBACK_PAUSE,this.onPause),this.listenTo(this.container,u.Events.CONTAINER_STATE_BUFFERING,this.onBuffering),this.listenTo(this.container,u.Events.CONTAINER_SEEK,this.onSeek),this.listenTo(this.container,d.default.WM_SETTINGS_LEVEL_SELECTED,this.onQualitySelected),this.listenTo(this.playback,u.Events.PLAYBACK_TIMEUPDATE,this.onTimeUpdate),this.listenTo(this.playback,u.Events.PLAYBACK_STOP,this.onEnd),this.listenTo(this.playback,u.Events.PLAYBACK_ENDED,function(){t.onEnd("complete")}),this.listenTo(this.container,u.Events.CONTAINER_DESTROYED,this.onEnd),this.listenTo(this.container,d.default.WM_STATS_REPORTED,function(e){t.watchedTime=e.timers.watch}),this.bindCustomEvents()}},{key:"bindCustomEvents",value:function(){var t=this,e="object"===o(window.onbeforeunload)?"beforeunload":"unload";window.addEventListener(e,function(){return t.onEnd()})}},{key:"onMetadataLoaded",value:function(t){this.video=t,this.defineBuckets(this.video.duration),this.setVideoLayer(),this.layer.schema_version=this.schemaVersion,this.layer.gaAccounts=[this.videoUA],this.productUA&&this.layer.gaAccounts.push(this.productUA)}},{key:"onHashLoaded",value:function(t,e){e&&e.product&&(this.layer.pisp=e.product),this.video.geofencing&&t.transmission&&t.transmission.affiliate&&(this.layer.affiliate_code=t.transmission.affiliate.code)}},{key:"setVideoLayer",value:function(){var t={excerpt:"short",segment:"short",episode:"full"},e=t[this.video.kind]||this.video.kind,i=this.options.resumeAt||(0,h.seekStringToSeconds)(),n=this.container.options.domain;this.layer={arc:this.video.isArchived?"acervo":"grade",signal:this.video.isSubscriberOnly?"fechado":"aberto",id:""+this.video.id,channel:this.video.channel,program:this.video.program,episode:this.video.title,domain:n||document.location.hostname,type:e,kind:(0,h.toLowerCase)(this.video.category),length_range:(0,h.toDurationString)(this.video.duration),channel_id:this.video.channelId,program_id:this.video.programId,keep_watching:i>0?"true":"false",exb_date:this.video.exhibitedAt,creation_date:this.video.createdAt,length:this.video.duration,auto_play:this.options.autoPlay+"",player_version:"4.6.5",start:0,service_id:this.video.serviceId,ambient:"web",platform:u.Browser.isMobile?"mobile":"desktop"},this.video.providerId&&this.video.isSubscriberOnly&&(this.layer.gsat_op=(0,h.toLowerCase)(this.options.payTvServiceProvider))}},{key:"onQualitySelected",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var e=t.find(function(t){return t.selected})||t[0];this.levelSelected=e&&e.name}}},{key:"onPlay",value:function(){if(!this.isFirstPlay()){if(!this.isPaused)return void(this.isPaused=!1);this.initialTrackedPlayTime=(0,h.now)(),this.track("play"),this.isPaused=!1}}},{key:"isFirstPlay",value:function(){return 0===this.layer.start&&(this.layer.start=1,this.initialTrackedPlayTime=(0,h.now)(),this.track("start"),!0)}},{key:"calculatePlayTime",value:function(){var t=(0,h.now)();if(this.initialTrackedPlayTime>0){var e=(t-this.initialTrackedPlayTime)/1e3;this.trackedPlayTime=e-this.loadTimer}this.initialTrackedPlayTime=0}},{key:"milestone",value:function(t){!this.isPaused&&0!==t&&this.checkpoint!==t&&t%60<1&&(this.calculatePlayTime(),1===this.layer.start&&this.track("milestone"),this.initialTrackedPlayTime=(0,h.now)()),this.checkpoint=t}},{key:"onPause",value:function(){this.calculatePlayTime(),this.track("pause"),this.isPaused=!0}},{key:"onBuffering",value:function(){this.listenToOnce(this.container,u.Events.CONTAINER_STATE_BUFFERFULL,this.onBufferFull),this.loadInitialTime=(0,h.now)()}},{key:"onBufferFull",value:function(){this.loadEndTime=(0,h.now)(),this.loadTimer=(this.loadEndTime-this.loadInitialTime)/1e3}},{key:"hasSentBuffer",value:function(){this.loadTimer=0,this.layer.load=0,this.layer.load_time=0}},{key:"onSeek",value:function(){this.hasSeeked=!0,this.seekCounter++}},{key:"onEnd",value:function(t){!this.layer||this.layer&&0===this.layer.start||(this.layer.start=0,this.hasVideoCompleted="complete"===t,this.calculatePlayTime(),this.track("end"))}},{key:"destroy",value:function(){s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.stopListening()}},{key:"onTimeUpdate",value:function(t){this.currentTime="live"!==this.playback.getPlaybackType()?t.current:Math.trunc(this.watchedTime/1e3),this.milestone(Math.trunc(this.currentTime))}},{key:"track",value:function(t){this.layer.event=t,this.layer.quality=this.levelSelected,this.layer.pub_err=this.DFPError,this.setGACustomMetrics(this.layer.event),this.useGAtracker()}},{key:"setGACustomMetrics",value:function(t){this.GACustomMetrics={},this.GACustomMetrics[p.mapCustomsMetrics.start]="start"===t&&1,this.GACustomMetrics[p.mapCustomsMetrics.seconds_watched]=this.trackedPlayTime,this.trackedPlayTime=0,this.GACustomMetrics[p.mapCustomsMetrics.load]=this.shouldSendLoadTime()&&1,this.GACustomMetrics[p.mapCustomsMetrics.load_time]=this.shouldSendLoadTime()&&this.loadTimer,this.GACustomMetrics[p.mapCustomsMetrics.complete]="end"===t&&this.hasVideoCompleted&&1,"milestone"!==t&&this.hasSeeked&&(this.hasSeeked=!1,this.GACustomMetrics[p.mapCustomsMetrics.seek]=this.seekCounter,this.seekCounter=0),"live"!==this.playback.getPlaybackType()&&this.watchedTime&&this.calculateBuckets(this.watchedTime);for(var e in this.GACustomMetrics)!1===this.GACustomMetrics[e]&&delete this.GACustomMetrics[e]}},{key:"useGAtracker",value:function(){this.setGACustomDimensions("playerTracker"),this.sendtoGA("playerTracker"),this.productUA&&(this.setGACustomDimensions("productTracker"),this.sendtoGA("productTracker"))}},{key:"setGACustomDimensions",value:function(t){var e=this;for(var i in p.mapCustomDimensions)void 0!==this.layer[i]&&ga(t+".set",p.mapCustomDimensions[i],this.layer[i]);this.gaExtras&&Object.keys(this.gaExtras).forEach(function(i){e.gaExtras[i]&&ga(t+".set",p.mapCustomDimensions[i]||i,e.gaExtras[i])})}},{key:"sendtoGA",value:function(t){"live"===this.playback.getPlaybackType()?this.milestoneTime=this.milliToMinutes(this.watchedTime):this.milestoneTime=Math.trunc(this.currentTime/60),this.gaEventLabel="milestone"===this.layer.event?"minute - "+this.milestoneTime:this.layer.episode,ga(t+".send","event","video",this.layer.event,this.gaEventLabel,this.GACustomMetrics),this.shouldSendLoadTime()&&this.hasSentBuffer()}},{key:"shouldSendPlayTime",value:function(){return"milestone"===this.layer.event||"pause"===this.layer.event||"end"===this.layer.event}},{key:"shouldSendLoadTime",value:function(){return"start"===this.layer.event||"play"===this.layer.event}},{key:"defineBuckets",value:function(t){this.videobuckets={};var e=[10,25,50,75,90,100],i=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;this.videobuckets["bucket"+s]=s/100*t}}catch(t){n=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw r}}}},{key:"calculateBuckets",value:function(t){for(var e in this.videobuckets)t>=this.videobuckets[e]&&!this.sentBuckets[e]&&(this.GACustomMetrics[p.mapCustomsMetrics[e]]=1,this.sentBuckets[e]=1)}},{key:"milliToMinutes",value:function(t){return Math.trunc(t/6e4)}}]),e}(u.ContainerPlugin);e.default=f,t.exports=e.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.mapCustomDimensions={ambient:"dimension1",provider:"dimension21",userId:"dimension22",platform:"dimension36",arc:"dimension100",signal:"dimension101",id:"dimension102",channel:"dimension103",program:"dimension104",episode:"dimension105",domain:"dimension106",type:"dimension107",kind:"dimension108",length_range:"dimension109",gsat_op:"dimension110",pisp:"dimension111",channel_id:"dimension112",program_id:"dimension113",keep_watching:"dimension114",pub_err:"dimension115",exb_date:"dimension116",creation_date:"dimension117",length:"dimension118",auto_play:"dimension119",quality:"dimension120",player_version:"dimension121",schema_version:"dimension122",affiliate_code:"dimension123",service_id:"dimension124"},e.mapCustomsMetrics={seconds_watched:"metric101",complete:"metric102",bucket10:"metric103",bucket25:"metric104",bucket50:"metric105",bucket75:"metric106",bucket90:"metric107",bucket100:"metric108",start:"metric100",seek:"metric109",load:"metric110",load_time:"metric111"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=i(395),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(9),c=n(u),d=i(396),h=n(d),p=i(397),f=n(p),y=i(2),g=n(y),v=i(7),m=n(v),b=function(t){function e(t){r(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.host=i.options.env.waitingRoomHost,i.rendered=!1,i.queryString="",i.authorizeCallback=function(){i.container.playback.trigger(g.default.WM_WROOM_AUTHORIZED,i.data)},i}return o(e,t),s(e,[{key:"name",get:function(){return"waiting_room"}},{key:"template",get:function(){return(0,l.template)(f.default)}},{key:"attributes",get:function(){return{class:"waiting-room"}}}]),s(e,[{key:"bindEvents",value:function(){this.listenTo(this.container.playback,g.default.WM_WROOM_AUTHORIZE,this.authorize)}},{key:"authorize",value:function(t){var e=this;this.data=t,m.default.ajax({url:this.host+this.queryString,cache:!0,dataType:"jsonp",timeout:5e3,success:function(t){return e.onResponse(t)},error:function(){return e.authorizeCallback()}})}},{key:"onResponse",value:function(t){t.pass||void 0===t.pass?(this.rendered&&this.$el.hide(),t.max_bitrate&&(this.data.max_bitrate=t.max_bitrate),this.authorizeCallback()):(this.queryString="?token="+t.token,this.setRetryInterval(),this.render(),this.retryID=setTimeout(this.retry.bind(this),this.retryInterval),this.countdownID=setInterval(this.updateCountdown.bind(this),1e3),this.countdownStart=Date.now())}},{key:"retry",value:function(){clearInterval(this.retryID),clearInterval(this.countdownID),this.authorize(this.data),this.countdownStart=Date.now()}},{key:"updateCountdown",value:function(){var t=this.retryInterval-(Date.now()-this.countdownStart);this.$el.find(".waiting-room__countdown").text(this.toSeconds(t))}},{key:"isPip",value:function(t){t?this.$el.find(".waiting-room__main-text").fadeOut("fast"):this.$el.find(".waiting-room__main-text").fadeIn(1e3)}},{key:"toSeconds",value:function(t){return Math.floor(t/1e3)}},{key:"setRetryInterval",value:function(){this.retryInterval=Math.round(-2e4*Math.random())+5e4}},{key:"render",value:function(){if(!this.rendered){this.$el.html(this.template());var t=c.default.getStyleFrom(h.default,{baseUrl:this.options.baseUrl,playerId:this.options.playerId});return this.$el.append(t[0]),this.container.$el.append(this.$el),this.rendered=!0,this}}}]),e}(l.UIContainerPlugin);e.default=b,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,".clappr-player#wp3-player-0 .waiting-room{display:-ms-flexbox;display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#202020;background-size:cover;z-index:999;position:absolute;height:100%;width:100%;top:0}.clappr-player#wp3-player-0 .waiting-room__aligner{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;width:100%}.clappr-player#wp3-player-0 .waiting-room__main-text{color:#ccc;font-family:opensans-bold,sans-serif;font-size:18px;width:100%;left:0}.clappr-player#wp3-player-0 .waiting-room__countdown{color:#ccc;font-family:opensans-bold,sans-serif;font-size:18px;margin:0 auto;background-color:rgba(0,0,0,.5);border-radius:50%;width:50px;height:50px;line-height:50px;display:inline-block;text-align:center}",""])},function(t,e){t.exports='<div class="waiting-room__aligner">\n<div class="waiting-room__main-text">Estamos lotados! Tentaremos carregar a transmisso novamente em </div>\n<p class="waiting-room__countdown"></p>\n</div>\n'},function(t,e,i){"use strict";(function(n){function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var l=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=i(2),d=r(c),h=i(10),p=i(71),f=i(400),y=r(f),g={initial:1,initialized:2,completed:3},v=function(t){function e(t){a(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.requestState=g.initial,i}return s(e,t),u(e,[{key:"name",get:function(){return"globo_youbora_plugin"}},{key:"youboraPlugin",get:function(){return y.default}},{key:"youboraUrl",get:function(){return this.options.env.youboraScript}},{key:"youboraOptions",get:function(){var t=(0,h.getExperimentsList)(this.options);return{accountCode:"prod"===this.dashboardAccount?"globo":"globodev",enableAnalytics:!0,username:h.User.hasGlbId()?(0,h.getCookie)("GLBID"):h.User.uid,transactionCode:h.Uid.generate(),httpSecure:!0,enableInit:!0,media:{title:this.video.title,duration:this.video.duration/1e3,isLive:"live"===this.container.getPlaybackType(),resource:this.selectedResource&&this.selectedResource.url||this.video.id},ads:{campaign:this.dfp&&this.dfp.adUnit},extraParams:{param1:this.video.id,param2:this.video.programId,param3:this.video.channelId,param4:"4.6.5",param5:this.video.isSubscriberOnly?"fechado":"aberto",param6:(0,h.toLowerCase)(this.video.kind),param7:document.location.hostname,param8:"web-"+this.video.playerType,param9:t.length>0&&t[0]||"",param10:t.length>1&&t[1]||""},ima:this.dfp}}}]),u(e,[{key:"bindEvents",value:function(){this.dfp=this.container.options.dfp,l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"bindEvents",this).call(this),this.listenTo(this.container.playback,d.default.WM_VIDEO_METADATALOADED,this.onVideoMetadataLoaded),this.listenTo(this.container.playback,d.default.WM_PLAY_REQUESTED_READY,this.onPlayRequestedReady),this.listenTo(this.container.playback,d.default.WM_HASH_LOADED,this.onHashLoaded),this.dfp&&(this.listenTo(this.dfp,d.default.DFP_FINISHED,l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onPlaybackEnded",this)),this.listenTo(this.container.playback,d.default.WM_PLAYLIST_LOADED,this.onPlaylistLoaded),this.listenTo(this.dfp,d.default.DFP_AD_LOADED,this.onAdLoaded),this.listenTo(this.dfp,d.default.DFP_AD_STARTED,this.onAdStarted),this.listenTo(this.dfp,d.default.DFP_AD_PAUSE,this.onAdPause),this.listenTo(this.dfp,d.default.DFP_AD_RESUME,this.onAdResume),this.listenTo(this.dfp,d.default.DFP_AD_CLICKED,this.onAdClicked),this.listenTo(this.dfp,d.default.DFP_AD_SKIPPED,this.onAdSkipped),this.listenTo(this.dfp,d.default.DFP_ALL_ADS_COMPLETED,this.onAllAdsCompleted),this.listenTo(this.dfp,d.default.DFP_CONTENT_RESUME,this.onContentResume),this.listenTo(this.dfp,d.default.DFP_AD_ERROR,this.onAdError),this.listenTo(this.dfp,d.default.DFP_AD_NOTSERVED,this.onAdNotServed))}},{key:"createPlugin",value:function(){this.hasYouboraScript=!0,this._startYouBora()}},{key:"destroy",value:function(){var t=this;l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.plugin&&n.nextTick(function(){t.plugin.endedHandler()})}},{key:"onPlayRequestedReady",value:function(){this.plugin.playHandler()}},{key:"onHashLoaded",value:function(t){this.plugin&&this.plugin.infoManager&&this.plugin.infoManager.setOptions({media:{cdn:(t.cdn||"").toUpperCase()}})}},{key:"onVideoMetadataLoaded",value:function(t){this.hasVideoMetadata=!0,this.video=t,this.selectedResource=t.selectedResource,this.dashboardAccount=this.options.youbora?this.options.youbora.account:this.options.env.name,this._startYouBora()}},{key:"onPlaybackEnded",value:function(){this.dfp&&!this.hasAdBlock||l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"onPlaybackEnded",this).call(this)}},{key:"onPlaylistLoaded",value:function(){this.hasAdBlock||(this.requestState=g.initialized,this.adnalyzer.initAdHandler())}},{key:"onAdLoaded",value:function(t){this.adnalyzer.ad=t,this.requestState!==g.initialized&&this.adnalyzer.playAdHandler()}},{key:"onAdStarted",value:function(){this.requestState===g.initialized?(this.requestState=g.completed,this.adnalyzer.playAdHandler()):this.adnalyzer.joinAdHandler()}},{key:"onAdPause",value:function(){this.adnalyzer.pauseAdHandler()}},{key:"onAdResume",value:function(){this.adnalyzer.resumeAdHandler()}},{key:"onAdClicked",value:function(){this.adnalyzer.clickAdHandler()}},{key:"onAdSkipped",value:function(){this.adnalyzer.skipAdHandler()}},{key:"onContentResume",value:function(){this.hasAdBlock||this.adnalyzer.endedAdHandler()}},{key:"onAdError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.requestState===g.initial)return void(this.hasAdBlock=!0);this.adnalyzer.errorAdHandler(t.type,t.message),this.adnalyzer.endedAdHandler()}},{key:"onAdNotServed",value:function(){this.requestState=g.completed;this.adnalyzer.noServedAdHandler("AD_NOT_SERVED","Ad not served")}},{key:"_startYouBora",value:function(){this.hasVideoMetadata&&this.hasYouboraScript&&(l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createPlugin",this).call(this),this.adnalyzer=this.plugin.adnalyzer)}}]),e}(p.Youbora);e.default=v,t.exports=e.default}).call(e,i(22))},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(0),u=i(107),c=function(t){return t&&t.__esModule?t:{default:t}}(u),d=function(t){function e(t){n(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.insertYouboraScript(),i}return a(e,t),s(e,[{key:"name",get:function(){return"youbora_plugin"}},{key:"youboraUrl",get:function(){return""}},{key:"youboraOptions",get:function(){return{}}},{key:"youboraPlugin",get:function(){return c.default}}]),s(e,[{key:"insertYouboraScript",value:function(){var t=this;if(window.$YB)this.createPlugin();else{var e=document.createElement("script");e.src=this.youboraUrl,e.onload=function(){t.createPlugin()},document.body.appendChild(e)}}},{key:"createPlugin",value:function(){$YB.plugins.Clappr=this.youboraPlugin,this.plugin=new $YB.plugins.Clappr(this.container,this.youboraOptions)}},{key:"bindEvents",value:function(){this.listenTo(this.container.playback,l.Events.PLAYBACK_PLAY_INTENT,this.onPlaybackPlayIntent),this.listenTo(this.container.playback,l.Events.PLAYBACK_PLAY,this.onPlaybackPlay),this.listenTo(this.container.playback,l.Events.PLAYBACK_PAUSE,this.onPlaybackPause),this.listenTo(this.container.playback,l.Events.PLAYBACK_STOP,this.onPlaybackStop),this.listenTo(this.container.playback,l.Events.PLAYBACK_ENDED,this.onPlaybackEnded),this.listenTo(this.container.playback,l.Events.PLAYBACK_ERROR,this.onPlaybackError),this.listenTo(this.container.playback,l.Events.PLAYBACK_BUFFERING,this.onPlaybackBuffering),this.listenTo(this.container.playback,l.Events.PLAYBACK_BUFFERFULL,this.onPlaybackBufferfull),this.listenTo(this.container.playback,l.Events.PLAYBACK_BITRATE,this.onPlaybackBitrate),this.listenTo(this.container,l.Events.CONTAINER_SEEKED,this.onContainerSeeked),this.listenTo(this.container,l.Events.CONTAINER_TIMEUPDATE,this.onContainerTimeUpdate),this.listenTo(this.container,l.Events.CONTAINER_SEEK,this.onContainerSeek)}},{key:"destroy",value:function(){this.plugin&&this.plugin.endedHandler(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"onPlaybackPlayIntent",value:function(){this.plugin.playHandler()}},{key:"onPlaybackPlay",value:function(){this.plugin.playingHandler()}},{key:"onPlaybackPause",value:function(){this.plugin.pauseHandler()}},{key:"onPlaybackStop",value:function(){this.plugin.endedHandler()}},{key:"onPlaybackEnded",value:function(){this.plugin.endedHandler()}},{key:"onContainerSeeked",value:function(){this.plugin.seekedHandler(),this.plugin.currentTime=null}},{key:"onPlaybackError",value:function(t){var e=t&&t.type||{};this.plugin&&this.plugin.errorHandler(e.code,e.description)}},{key:"onPlaybackBuffering",value:function(){this.plugin.bufferingHandler()}},{key:"onPlaybackBufferfull",value:function(){this.plugin.bufferedHandler()}},{key:"onPlaybackBitrate",value:function(t){var e=this.container.playback.levels;if(this.plugin.bitrate=t.bitrate,this.plugin.throughput=t.bandwidth,e&&e.length){var i=e.filter(function(e){return t.level===e.id});this.plugin.rendition=i&&i[0].label}}},{key:"onContainerSeek",value:function(t){this.plugin.currentTime=t,this.plugin.seekingHandler()}}]),e}(l.ContainerPlugin);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=i(0),c=i(71),d=i(401),h=n(d),p=i(2),f=n(p),y=function(t){function e(t,i){r(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.options=i,n.container=t,n.setupMiddlewares(),n.setupAdnalyzer(),n}return o(e,t),s(e,[{key:"setupMiddlewares",value:function(){var t=this.viewManager.comm,e=this.viewManager.comm._registerRequest,i=this.container.options.playerId;this.viewManager.comm._registerRequest=function(n){var r=e.call(t,n)||{},a=r&&r.params||{},o=r.service&&r.service.substr(1);return u.Mediator.trigger(i+":"+f.default.YOUBORA_TIMEMARK,{service:o,time:a.timemark}),r}}},{key:"setupAdnalyzer",value:function(){this.options.ima&&(this.adnalyzer=new h.default(this,this.options.ima))}},{key:"getPlayerVersion",value:function(){return"4.6.5"}},{key:"endedHandler",value:function(){this.stopMonitoring(),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"endedHandler",this).call(this)}}]),e}(c.YouboraGenericPlugin);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,i,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(71),u=function(t){function e(t,i){n(this,e);var a=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.playhead=0,a.adnalyzerVersion="6.0.0-IMA",a.startMonitoring(t,i),a.enableAdBufferMonitor(),a}return a(e,t),s(e,[{key:"ad",get:function(){return this.ads.ad},set:function(t){this.ads.ad=t}}]),s(e,[{key:"getAdPosition",value:function(){return this.ad&&0!==this.ad.getAdPodInfo().getPodIndex()?-1===this.ad.getAdPodInfo().getPodIndex()?"post":"mid":"pre"}},{key:"getAdResource",value:function(){return this.ad?this.ad.getMediaUrl():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAdResource",this).call(this)}},{key:"getAdTitle",value:function(){return this.ad?this.ad.getTitle():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAdTitle",this).call(this)}},{key:"getAdDuration",value:function(){return this.ad?this.ad.getDuration():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getAdDuration",this).call(this)}},{key:"getMediaPlayhead",value:function(){return this.plugin.viewManager.isShowingAds||(this.playhead=this.plugin.getPlayhead()),this.playhead}},{key:"getAdPlayhead",value:function(){return this.plugin.container.getCurrentTime()}}]),e}(l.BaseYouboraAdnalyzers);e.default=u,t.exports=e.default},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'@font-face{font-family:opensans-regular;src:url("//s3.glbimg.com/cdn/fonts/opensans/regular.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/opensans/regular.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/opensans/regular.ttf") format("truetype");font-style:normal;font-weight:400}@font-face{font-family:opensans-bold;src:url("//s3.glbimg.com/cdn/fonts/opensans/bold.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/opensans/bold.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/opensans/bold.ttf") format("truetype");font-style:normal;font-weight:400}@font-face{font-family:proximanova-regular;src:url("//s3.glbimg.com/cdn/fonts/proximanova/regular.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/proximanova/regular.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/proximanova/regular.ttf") format("truetype");font-style:normal;font-weight:400}@font-face{font-family:proximanova-bold;src:url("//s3.glbimg.com/cdn/fonts/proximanova/bold.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/proximanova/bold.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/proximanova/bold.ttf") format("truetype");font-style:normal;font-weight:400}@font-face{font-family:proximanova-xbold;src:url("//s3.glbimg.com/cdn/fonts/proximanova/extrabold.woff2") format("woff2"),url("//s3.glbimg.com/cdn/fonts/proximanova/extrabold.woff") format("woff"),url("//s3.glbimg.com/cdn/fonts/proximanova/extrabold.ttf") format("truetype");font-style:normal;font-weight:400}',""])},function(t,e,i){e=t.exports=i(5)(void 0),e.push([t.i,'.clappr-player#wp3-player-0{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-transform:translateZ(0);transform:translateZ(0);position:relative;margin:0;padding:0;border:0;font-style:normal;font-weight:400;text-align:center;overflow:hidden;font-size:100%;font-family:lucida grande,tahoma,verdana,arial,sans-serif;text-shadow:0 0 0;box-sizing:border-box;display:block;max-width:none;box-sizing:inherit;float:none}.clappr-player#wp3-player-0 a,.clappr-player#wp3-player-0 abbr,.clappr-player#wp3-player-0 acronym,.clappr-player#wp3-player-0 address,.clappr-player#wp3-player-0 applet,.clappr-player#wp3-player-0 article,.clappr-player#wp3-player-0 aside,.clappr-player#wp3-player-0 audio,.clappr-player#wp3-player-0 b,.clappr-player#wp3-player-0 big,.clappr-player#wp3-player-0 blockquote,.clappr-player#wp3-player-0 canvas,.clappr-player#wp3-player-0 caption,.clappr-player#wp3-player-0 center,.clappr-player#wp3-player-0 cite,.clappr-player#wp3-player-0 code,.clappr-player#wp3-player-0 dd,.clappr-player#wp3-player-0 del,.clappr-player#wp3-player-0 details,.clappr-player#wp3-player-0 dfn,.clappr-player#wp3-player-0 div,.clappr-player#wp3-player-0 dl,.clappr-player#wp3-player-0 dt,.clappr-player#wp3-player-0 em,.clappr-player#wp3-player-0 embed,.clappr-player#wp3-player-0 fieldset,.clappr-player#wp3-player-0 figcaption,.clappr-player#wp3-player-0 figure,.clappr-player#wp3-player-0 footer,.clappr-player#wp3-player-0 form,.clappr-player#wp3-player-0 h1,.clappr-player#wp3-player-0 h2,.clappr-player#wp3-player-0 h3,.clappr-player#wp3-player-0 h4,.clappr-player#wp3-player-0 h5,.clappr-player#wp3-player-0 h6,.clappr-player#wp3-player-0 header,.clappr-player#wp3-player-0 hgroup,.clappr-player#wp3-player-0 i,.clappr-player#wp3-player-0 iframe,.clappr-player#wp3-player-0 img,.clappr-player#wp3-player-0 ins,.clappr-player#wp3-player-0 kbd,.clappr-player#wp3-player-0 label,.clappr-player#wp3-player-0 legend,.clappr-player#wp3-player-0 li,.clappr-player#wp3-player-0 mark,.clappr-player#wp3-player-0 menu,.clappr-player#wp3-player-0 nav,.clappr-player#wp3-player-0 object,.clappr-player#wp3-player-0 ol,.clappr-player#wp3-player-0 output,.clappr-player#wp3-player-0 p,.clappr-player#wp3-player-0 pre,.clappr-player#wp3-player-0 q,.clappr-player#wp3-player-0 ruby,.clappr-player#wp3-player-0 s,.clappr-player#wp3-player-0 samp,.clappr-player#wp3-player-0 section,.clappr-player#wp3-player-0 small,.clappr-player#wp3-player-0 span,.clappr-player#wp3-player-0 strike,.clappr-player#wp3-player-0 strong,.clappr-player#wp3-player-0 sub,.clappr-player#wp3-player-0 summary,.clappr-player#wp3-player-0 sup,.clappr-player#wp3-player-0 table,.clappr-player#wp3-player-0 tbody,.clappr-player#wp3-player-0 td,.clappr-player#wp3-player-0 tfoot,.clappr-player#wp3-player-0 th,.clappr-player#wp3-player-0 thead,.clappr-player#wp3-player-0 time,.clappr-player#wp3-player-0 tr,.clappr-player#wp3-player-0 tt,.clappr-player#wp3-player-0 u,.clappr-player#wp3-player-0 ul,.clappr-player#wp3-player-0 var,.clappr-player#wp3-player-0 video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}.clappr-player#wp3-player-0 table{border-collapse:collapse;border-spacing:0}.clappr-player#wp3-player-0 caption,.clappr-player#wp3-player-0 td,.clappr-player#wp3-player-0 th{text-align:left;font-weight:400;vertical-align:middle}.clappr-player#wp3-player-0 blockquote,.clappr-player#wp3-player-0 q{quotes:none}.clappr-player#wp3-player-0 blockquote:after,.clappr-player#wp3-player-0 blockquote:before,.clappr-player#wp3-player-0 q:after,.clappr-player#wp3-player-0 q:before{content:"";content:none}.clappr-player#wp3-player-0 a img{border:none}.clappr-player#wp3-player-0:focus{outline:0}.clappr-player#wp3-player-0.fullscreen{width:100%!important;height:100%!important}.clappr-player#wp3-player-0.nocursor{cursor:none}',""])}])});
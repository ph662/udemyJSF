function JsonpService(c){var f=0,e={},a=c+".callbacks",d=function(){return};var b=function(g,j){var q=j.onSuccess||d,o=j.onTimeout||d,l=j.timeout||10*1000;var i="request_"+f,m=document.getElementsByTagName("head")[0],n=document.createElement("script");f+=1;var h=function(){m.removeChild(n);delete e[i]};var k=setTimeout(function(){o()},l);e[i]=function(r){clearTimeout(k);h();q(r)};n.type="text/javascript";n.async=true;var p=a+"."+i;g+=(g.indexOf("?")+1?"&":"?");g+="callback="+encodeURIComponent(p);n.src=g;m.appendChild(n)};return{jsonp:b,callbacks:e}}if(!window.JSON){var xhrObj=new XMLHttpRequest();xhrObj.open("GET","json3.min.js",false);xhrObj.send("");var se=document.createElement("script");se.type="text/javascript";se.text=xhrObj.responseText;document.getElementsByTagName("head")[0].appendChild(se)}!function(a,b){if(typeof module!="undefined"){module.exports=b()}else{if(typeof define=="function"&&typeof define.amd=="object"){define(b)}else{this[a]=b()}}}("kizzy",function(){function d(){}var w,D=document,e=D.domain,i=0,r=function(){return 1};try{w=!!localStorage||!!globalStorage;if(!localStorage){localStorage=globalStorage[e]}i=1}catch(t){i=0;try{if(D.documentElement.addBehavior){i=0;w=1;var C=D.documentElement;C.addBehavior("#default#userData");C.load(e);var j=C.xmlDocument,q=j.documentElement}}catch(s){w=false}}var l=d,x=d,v=d,z=d;if(w){l=i?u:o;x=i?m:h;v=i?p:A;z=i?c:k;r=function(G){try{var F=JSON.stringify(G._);if(F=="{}"){v(G.ns)}else{l(G.ns,F)}return 1}catch(E){return 0}}}function f(){return +new Date()}function a(F,E){if(F._[E]&&F._[E].e&&F._[E].e<f()){F.remove(E)}}function n(E){return typeof E==="number"&&isFinite(E)}function m(E){return localStorage[E]}function u(F,E){localStorage[F]=E;return E}function p(E){delete localStorage[E]}function c(){localStorage.clear()}function y(F){var J=q.childNodes,I,H=null;for(var G=0,E=J.length;G<E;G++){I=J.item(G);if(I.getAttribute("key")==F){H=I;break}}return H}function h(E){var G=y(E);var F=null;if(G){F=G.getAttribute("value")}return F}function o(E,G){var F=y(E);if(!F){F=j.createNode(1,"item","");F.setAttribute("key",E);F.setAttribute("value",G);q.appendChild(F)}else{F.setAttribute("value",G)}C.save(e);return G}function A(E){y(E)&&q.removeChild(node);C.save(e)}function k(){while(q.firstChild){q.removeChild(q.firstChild)}C.save(e)}function B(){this._={}}B.prototype={set:function(G,F,E){this._[G]={value:F,e:n(E)?f()+E:0};r(this)||this.remove(G);return F},get:function(E){a(this,E);return this._[E]?this._[E].value:undefined},remove:function(E){delete this._[E];r(this)},clear:function(){this._={};r(this)},clearExpireds:function(){for(var E in this._){a(this,E)}r(this)}};function g(E){this.ns=E;this._=JSON.parse(x(E)||"{}")}g.prototype=B.prototype;function b(E){return new g(E)}b.remove=v;b.clear=z;return b});function Util(){function h(k){return unescape(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+escape(k).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null}function i(l,m,n,k){n=n||"/";k=k||30;window.document.cookie=l+"="+m+"; max-age="+k+"; path="+n+"; domain="+window.document.domain}function b(k){var l=h(k);return l!==undefined&&l!==null&&!String(l).match(/^\s*$/)}function g(k){k=k.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var m=new RegExp("[\\?&]"+k+"=([^&#]*)"),l=m.exec(location.search);return l===null?"":decodeURIComponent(l[1].replace(/\+/g," "))}function c(k){var l=g(k);return l!==undefined&&l!==null&&!String(l).match(/^\s*$/)}function f(){return window.navigator.userAgent}function a(k){window.top.location.href=k}function e(){window.location.href=window.location.href}function d(){return window.parent.location.host}function j(k){var m=[];for(var l in k){if(k[l]){m.push(encodeURIComponent(l)+"="+encodeURIComponent(k[l]))}}return m.join("&")}return{getQueryStringByName:g,hasQueryString:c,hasCookie:b,getCookie:h,setCookie:i,getUserAgent:f,refreshWindow:e,redirectTo:a,serialize:j,getParentLocationHost:d}}function CacheService(e){var c=kizzy("me");var a=new Util();var d=function(i,h){return i+"|"+h};var b=function(j){var i=a.getCookie("GLBID");if(j===undefined){return c.get(i)}var h=c.get(d(i,j));return h?c.get(i):undefined};var f=function(j,i){var h=a.getCookie("GLBID");c.set(h,j,parseInt("10000"));if(i!==undefined){c.set(d(h,i),true,parseInt("10000"))}};var g=function(i){var h=a.getCookie("GLBID");c.set(h,undefined);if(i!==undefined){c.set(d(h,i),undefined)}};return{loggedUser:b,store:f,clean:g}}var Cadun;(function(){if(window.Cadun!==undefined&&Cadun!==null){return}window.Cadun={};Cadun.version="0.7.6";Cadun.service=new JsonpService("Cadun.service");Cadun.cache=new CacheService("Cadun.cache");Cadun.util=new Util();Cadun.callback=null;Cadun.isRedirectEnabled=false;Cadun.closeButtonDisabled=false;Cadun.closeModalCallback=null;Cadun.serviceId=null;Cadun.user={me:undefined};function c(){Cadun.Event.cached=[];if(window._cdn!==undefined&&_cdn.length>0){Cadun.Event.cached=_cdn;Cadun.Event.trigger("ready",Cadun)}if(window.cq!==undefined&&cq.length>0){Cadun.Event.cached=cq;Cadun.Event.trigger("ready",Cadun)}var f=window.addEventListener?"addEventListener":"attachEvent";var e=window[f];var d=f==="attachEvent"?"onmessage":"message";e(d,function(g){if(Cadun.didLoginFinished(g)){if(Cadun.callback){Cadun.closeLogin(true);Cadun.authorize(Cadun.serviceId,function(h){Cadun.user.me=h;if(h!==null&&h.token!==null){Cadun.util.setCookie("GLBID",h.token)}if(typeof(Cadun.callback)=="function"){Cadun.callback(h);Cadun.callback=null}});if(window.glb!==undefined&&window.glb.barra!==undefined){glb.barra.component.handleAuthArea()}if(Cadun.isRedirectEnabled){Cadun.util.redirectTo(g.data)}}}},false)}function a(){window._cdn={push:function(e){var d=Object.keys(e);for(var f=0;f<d.length;f=f+1){Cadun.Event.subscribe(d[f],e[d[f]])}}};window.cq=_cdn}function b(){if(util.hasQueryString("GLBID")&&!util.hasCookie("GLBID")){util.setCookie("GLBID",util.getQueryStringByName("GLBID"));util.refreshWindow()}}Cadun.init=function(){c();a();Cadun.authorize(undefined,function(d){})}}());Cadun.authorize=function(c,d){var a=Cadun.getLoggedUser(c);if(a!==undefined){d(a);return}var b="//cocoon.globo.com/v2/user/logged"+(c===undefined?"":"?servico_id="+c);Cadun.Request.ajax({method:"POST",url:b,withCredentials:true,timeout:5000,success:function(e){if(e&&e.status&&e.provider&&e.token){Cadun.setLoggedUser(e,c)}else{e=Cadun.unauthorize()}d(e)},error:function(e){e=Cadun.unauthorize();d(e)}})};Cadun.getLoggedUser=function(b){var a=Cadun.cache.loggedUser(b);if(a!==undefined&&Cadun.user.me===undefined){Cadun.setLoggedUser(a,b)}return a};Cadun.setLoggedUser=function(a,b){Cadun.user.me=a;Cadun.cache.store(a,b);Cadun.Event.trigger("userInfoAvailable",a)};Cadun.unauthorize=function(){var a={status:"unauthorized"};Cadun.Event.trigger("userUnauthorized",a);return a};Cadun.Event={subscribe:function(b,c){if(b==="ready"){c(Cadun);return}else{if(b==="userInfoAvailable"&&Cadun.user.me){c(Cadun.user.me)}}var a={};a[b]=c;Cadun.Event.cached.push(a)},unsubscribe:function(a,g){var d=Cadun.Event.cached||[],b=[],f=false;for(var c=0;c<d.length;c=c+1){var e=d[c];if(e[a]!==g){b.push(e)}else{f=true}}if(f){Array.prototype.splice.apply(d,[0,d.length].concat(b))}return f},trigger:function(){var a=Array.prototype.shift.call(arguments);var c=Cadun.Event.cached||[];for(var b=0;b<c.length;b=b+1){var d=c[b][a];if(d){d.apply(null,arguments)}}}};Cadun.user.feed=function(a){};Cadun.login=function(d,c,f,e,b){Cadun.serviceId=d;Cadun.closeModalCallback=b;Cadun.originalBodyPosition="static";Cadun.originalBodyHeight="";Cadun.originalHtmlPosition="static";Cadun.originalHtmlHeight="";if(GloboIDSDK.isActive()){GloboIDSDK.bindLogin(d).onSuccess(function(g){e(g);if(f){Cadun.util.redirectTo(c)}});return}var a=function(m,l){var h=document.body,i=document.documentElement;var g=Math.max(h.scrollHeight,h.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);var k=(document.documentElement.scrollTop||document.body.scrollTop);var j=(k<60?k+80:k+40);m.style.height=g+"px"};Cadun.authorize(d,function(h){if(h.status!=="authorized"){var k="https://login.globo.com/login/"+d+"?url="+c+"&tam=WIDGET";if(Cadun.needsToOpenInNewWindow()){Cadun.util.redirectTo(k);return}Cadun.cache.clean(d);Cadun.loginLoadCSS();var j=document.createElement("div");j.className="cadun-modal";var i=document.createElement("div");i.className="login-wrapper-modal";i.setAttribute("onclick","Cadun.closeLogin();");j.appendChild(i);var m=document.createElement("div");m.className="login-modal";var l=document.createElement("div");if(!Cadun.closeButtonDisabled){l.className="close-modal";l.setAttribute("onclick","Cadun.closeLogin();");m.appendChild(l)}var g=document.createElement("iframe");g.style.height="100%";g.style.width="100%";g.src=k;m.appendChild(g);j.setAttribute("id","cadunLoginModal");j.appendChild(m);document.body.appendChild(j);document.body.style.overflow="hidden";Cadun.originalBodyPosition=document.body.style.position;document.body.style.position="relative";Cadun.originalBodyHeight=document.body.style.height;document.body.style.height="100%";document.documentElement.style.overflow="hidden";Cadun.originalHtmlPosition=document.documentElement.style.position;document.documentElement.style.position="relative";Cadun.originalHtmlHeight=document.documentElement.style.height;document.documentElement.style.height="100%";if(f){Cadun.isRedirectEnabled=true}if(e){Cadun.callback=e}a(i,m,l);j.focus()}})};Cadun.closeLogin=function(a){if(!a&&Cadun.closeModalCallback){Cadun.closeModalCallback()}document.body.style.overflow="auto";document.body.style.position=Cadun.originalBodyPosition;document.body.style.height=Cadun.originalBodyHeight;document.documentElement.style.overflow="auto";document.documentElement.style.position=Cadun.originalHtmlPosition;document.documentElement.style.height=Cadun.originalHtmlHeight;var b=document.getElementById("cadunLoginModal");if(b){b.parentNode.removeChild(b)}};Cadun.loginLoadCSS=function(){var a=document.getElementsByTagName("head")[0];var b=document.createElement("link");b.rel="stylesheet";b.type="text/css";b.href="//s.glbimg.com/pc/ca/login.css";b.media="all";a.appendChild(b)};Cadun.needsToOpenInNewWindow=function(){var c=window.location.host.toLowerCase(),e=c.substring(c.lastIndexOf("globo.com")),b=(e==="globo.com"||e==="globoi.com"),d=Cadun.util.getUserAgent().toLowerCase(),a=d.indexOf("msie ")!==-1||d.indexOf("trident/")!==-1||(d.indexOf("safari")!==-1&&d.indexOf("chrome")===-1);return a&&!b};Cadun.didLoginFinished=function(f){var g=["provisionamento","confirmar-email","recuperacaoSenha","recuperacaoLogin","login"],c=(f.origin.indexOf("login.globo.com")!==-1);if(!String.prototype.startsWith){String.prototype.startsWith=function(h,e){e=e||0;return this.indexOf(h,e)===e}}if(!c){return false}for(var b in g){var d=(f.data.startsWith("/")||f.data.indexOf("login.globo.com")!==-1);var a=f.data.indexOf(g[b])!==-1;if(d&&a){return false}}return true};Cadun.logout=function(c){if(GloboIDSDK.isActive()){GloboIDSDK.bindLogout().onSuccess(function(){c()});return}var a="//login.globo.com/logout";var b=document.createElement("IFRAME");b.setAttribute("id","cadun-logout");b.setAttribute("src",a);b.style.width=0;b.style.height=0;document.getElementsByTagName("html")[0].appendChild(b);document.getElementById("cadun-logout").onload=function(){Cadun.cache.clean();if(typeof c=="function"){c.apply()}document.getElementsByTagName("html")[0].removeChild(this)}};Cadun.user.setPreference=function(a,b){prefsService=function(c){var d="//cocoon.globo.com/v2/preferences/"+a.context+"/"+a.key+"?value="+a.value;Cadun.Request.ajax({method:"POST",url:d,withCredentials:true,timeout:5000,success:function(e){b(e)},error:function(e){b({})}})};if(Cadun.user.me){prefsService(Cadun.user.me)}else{Cadun.authorize(464,prefsService)}};Cadun.user.getPreference=function(a,b){prefsService=function(c){var d="//cocoon.globo.com/v2/preferences/"+a.context;if(a.key){d=d+"/"+a.key}Cadun.Request.ajax({method:"GET",url:d,withCredentials:true,timeout:5000,success:function(e){b(e)},error:function(e){b({})}})};if(Cadun.user.me){prefsService(Cadun.user.me)}else{Cadun.authorize(464,prefsService)}};Cadun.user.recommendations=function(b,a,c){recommendationService=function(d){params={client_id:b,user_id:d.id,user_token:d.token,user_provider:d.provider,url:window.location.origin+window.location.pathname,limit:a};var e="//cocoon.globo.com/user/recommendations/?"+Cadun.util.serialize(params);Cadun.service.jsonp(e,{onSuccess:function(f){c(f)},onTimeout:function(f){c({})},timeout:5000})};if(Cadun.user.me){recommendationService(Cadun.user.me)}else{Cadun.authorize(5458,recommendationService)}};var GloboIDSDK;(function(){if(window.GloboIDSDK!==undefined){return}var a=function(){};var c=function(){};function e(j){if(window.console!==undefined&&window.console.log!==undefined){console.log(j)}}function i(){var j=Cadun.util.hasCookie("GLOBOIDSDK");return j}function f(j){GloboIDSDK.loadURL("globoidsdk://login/"+j);return GloboIDSDK}function d(){GloboIDSDK.loadURL("globoidsdk://logout");return GloboIDSDK}function b(j){GloboIDSDK.failureCallback=j||a;return GloboIDSDK}function g(j){GloboIDSDK.successCallback=j||c;return GloboIDSDK}function h(j){setTimeout(function(){window.location=j})}GloboIDSDK={isActive:i,bindLogin:f,bindLogout:d,onSuccess:g,onFailure:b,successCallback:c,failureCallback:a,loadURL:h}})();var Cadun=Cadun||{};(function(){if(Cadun.Request!==undefined){return}var d=/^(?:text|application)\/xml/i,j="application/json",c="text/html",g=/^\s*$/;function h(k,l){return(k+"&"+l).replace(/[&?]{1,2}/,"?")}function i(p,o,m,l){var q=Array.isArray(o);for(var k in o){var n=o[k];if(l){k=m?l:l+"["+(q?"":k)+"]"}if(!l&&q){p.add(n.name,n.value)}else{if(m?(Array.isArray(n)):(typeof(n)==="object")){i(p,n,m,k)}else{p.add(k,n)}}}}function b(l,k){var m=[];m.add=function(o,n){this.push(escape(o)+"="+escape(n))};i(m,l,k);return m.join("&").replace("%20","+")}function e(k){if(typeof(k.data)==="object"){k.data=b(k.data)}if(k.data&&(!k.method||k.method.toUpperCase()=="GET")){k.url=h(k.url,k.data)}}function a(k){return k&&(k==c?"html":k.indexOf(j)>-1?"json":d.test(k)&&"xml")||"text"}function f(l){var m;if(window.XMLHttpRequest){m=new XMLHttpRequest()}else{m=new ActiveXObject("Microsoft.XMLHTTP")}e(l);var k=l.url;var p=l.headers||{};var n=l.data;var q=l.method||(n?"POST":"GET");m.open(q,k,true);m.timeout=l.timeout||0;m.ontimeout=function(r){var s=l.error.call(s,"timeout",null,null,null)};m.onload=function(){var r,u=false;if(m.readyState===XMLHttpRequest.DONE){if((m.status>=200&&m.status<300)||m.status==304){var t=a(m.getResponseHeader("Content-Type"));r=m.responseText;try{if(t=="xml"){r=m.responseXML}else{if(t=="json"){r=g.test(r)?null:JSON.parse(r)}}}catch(x){u=x}if(u){var v=l.error.call(v,"Parse error",m,m.status,u)}else{var s=l.success.call(s,r,m,m.status)}}else{var w=l.error.call(w,"error",m,m.status,null)}}};p["X-Requested-With"]="XMLHttpRequest";if(l.contentType||(n&&l.method.toUpperCase()!="GET")){p["Content-Type"]=(l.contentType||"application/x-www-form-urlencoded")}for(var o in p){m.setRequestHeader(o,p[o])}m.withCredentials=l.withCredentials?l.withCredentials:false;m.send(n)}Cadun.Request={ajax:f}})();(function(){if(window.Cadun!==null){Cadun.init()}})();
window.gecom=window.gecom||{},function(a){gecom.simulador={dia:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],mes:["01","02","03","04","05","06","07","08","09","10","11","12"],agora:new Date,base:function(b,c,d){var e=(new Date,0),d=d||{};return a.each(b.jogos,function(a,b){var c=null!=b.data_realizacao?b.data_realizacao.split("-"):null,d=null!=b.hora_realizacao?b.hora_realizacao.split(":"):[17,0];b.data_obj=null!=b.data_realizacao?new Date(Number(c[0]),Number(c[1]-1),Number(c[2]),Number(d[0]),Number(d[1])):gecom.simulador.agora}),a.each(b.fases,function(f,g){a("[simulador-fase-display]").append('<span class="tabela-navegacao-seletor" simulador-fase="'+g.ordem+'">'+g.nome+"</span>"),a("[simulador-fases]").append('<li simulador-fase="'+g.ordem+'">'+g.nome+"</li>");var h='<div simulador-tabela-fase="'+g.ordem+'"><article class="tabela-classificacao'+(d.grupos_separados?" pontos-corridos-grupado":"")+'">';if(1==g.tipo.tipo_id||3==g.tipo.tipo_id)if(d.grupos_separados){a.each(g.grupos,function(){h+=gecom.simulador.corpo_tabela_grupos("grupo",this.nome_grupo,this.grupo_id)}),h+='<footer class="legenda-classificacao"><div class="legenda-grupos">'+c+'<div class="legenda-grupo"><span class="legenda-label"><span class="tabela-icone tabela-icone-circulo tabela-icone-v"></span> vitoria</span><span class="legenda-label"><span class="tabela-icone tabela-icone-circulo tabela-icone-e"></span> empate</span><span class="legenda-label"><span class="tabela-icone tabela-icone-circulo tabela-icone-d"></span> derrota</span></div></div><span id="ver-regulamento-js" class="legenda-regulamento"></span></footer></article></div>',a("[simulador-tabela]").append(h);var i=[];a.each(b.jogos,function(a,b){b.fase_id==f&&(i.push(b),1==g.tipo.tipo_id&&(-1==g.equipes.indexOf(b.equipe_mandante_id)&&null!==b.equipe_mandante_id&&g.equipes.push(b.equipe_mandante_id),-1==g.equipes.indexOf(b.equipe_visitante_id)&&null!==b.equipe_visitante_id&&g.equipes.push(b.equipe_visitante_id)),g.jogo_display&&b.data_obj>gecom.simulador.agora&&b.data_obj<g.jogo_display.data_obj?g.jogo_display=b:!g.jogo_display&&b.data_obj>gecom.simulador.agora&&(g.jogo_display=b),(!g.max_rodadas||g.max_rodadas<b.rodada)&&(g.max_rodadas=b.rodada))}),g.jogo_display||a.each(b.jogos,function(a,b){b.rodada!=g.max_rodadas||g.jogo_display||(g.jogo_display=b)}),i.sort(function(a,b){return a.data_obj.getTime()!=b.data_obj.getTime()?a.data_obj.getTime()-b.data_obj.getTime():a.jogo_id-b.jogo_id});for(var j=0,k=i.length;j<k;j++){a('[data-jogos-grupo="'+i[j].grupo_id+'"] ul').append(gecom.simulador.jogo_pontos(b,i[j]));var l=i[j].data_obj.getTime()+72e5<gecom.simulador.agora.getTime();l||""!=a('[data-jogos-grupo="'+i[j].grupo_id+'"] nav[simulador-rodada]').attr("simulador-rodada")||a('[data-jogos-grupo="'+i[j].grupo_id+'"] nav[simulador-rodada]').attr("simulador-rodada",i[j].rodada)}a.each(b.jogos,function(a,b){}),a('[simulador-tabela-fase="'+g.ordem+'"] [data-jogos-grupo]').each(function(){""==a(this).find("[simulador-rodada]").attr("simulador-rodada")&&a(this).find("[simulador-rodada]").attr("simulador-rodada",g.max_rodadas);var b=a(this).find("[simulador-rodada]").attr("simulador-rodada");a(this).find("[simulador-rodada-seletor]").html((b<10?"0":"")+b+"ª rodada"),b!=g.max_rodadas&&a(this).find("[simulador-rodada-ff]").addClass("tabela-navegacao-setas-ativa"),1!=b&&a(this).find("[simulador-rodada-rw]").addClass("tabela-navegacao-setas-ativa"),a(this).find('[simulador-jogo-rodada="'+b+'"]').show()}),a('[simulador-tabela-fase="'+g.ordem+'"] [simulador-rodadas-length]').attr("simulador-rodadas-length",g.max_rodadas)}else{1==g.tipo.tipo_id?(h+=gecom.simulador.corpo_tabela_pontos("pontos-corridos","tabela",f),g.equipes=[]):3==g.tipo.tipo_id&&a.each(g.grupos,function(){h+=gecom.simulador.corpo_tabela_pontos("grupo",this.nome_grupo,this.grupo_id)}),h+='<footer class="legenda-classificacao"><div class="legenda-grupos">'+c+'<div class="legenda-grupo"><span class="legenda-label"><span class="tabela-icone tabela-icone-circulo tabela-icone-v"></span> vitoria</span><span class="legenda-label"><span class="tabela-icone tabela-icone-circulo tabela-icone-e"></span> empate</span><span class="legenda-label"><span class="tabela-icone tabela-icone-circulo tabela-icone-d"></span> derrota</span></div></div><span id="ver-regulamento-js" class="legenda-regulamento"></span></footer><aside class="lista-de-jogos lista-de-jogos-fora-grupo"><header><h2 class="tabela-header-titulo gui-text-section-title">JOGOS</h2></header><nav class="tabela-navegacao tabela-navegacao-jogos" simulador-rodada="1" simulador-rodadas-length=""><span class="gui-icon gui-icon-arrow-left-highlight tabela-navegacao-setas tabela-navegacao-anterior" simulador-rodada-rw></span><span class="tabela-navegacao-seletor" simulador-rodada-seletor></span><span class="gui-icon gui-icon-arrow-right-highlight tabela-navegacao-setas tabela-navegacao-proximo" simulador-rodada-ff></span></nav><ul class="lista-de-jogos-conteudo">';var i=[];a.each(b.jogos,function(a,b){b.fase_id==f&&(i.push(b),1==g.tipo.tipo_id&&(-1==g.equipes.indexOf(b.equipe_mandante_id)&&null!==b.equipe_mandante_id&&g.equipes.push(b.equipe_mandante_id),-1==g.equipes.indexOf(b.equipe_visitante_id)&&null!==b.equipe_visitante_id&&g.equipes.push(b.equipe_visitante_id)),g.jogo_display&&b.data_obj>gecom.simulador.agora&&b.data_obj<g.jogo_display.data_obj?g.jogo_display=b:!g.jogo_display&&b.data_obj>gecom.simulador.agora&&(g.jogo_display=b),(!g.max_rodadas||g.max_rodadas<b.rodada)&&(g.max_rodadas=b.rodada))}),g.jogo_display||a.each(b.jogos,function(a,b){b.rodada!=g.max_rodadas||g.jogo_display||(g.jogo_display=b)}),i.sort(function(a,b){return a.data_obj.getTime()!=b.data_obj.getTime()?a.data_obj.getTime()-b.data_obj.getTime():a.jogo_id-b.jogo_id});for(var j=0,k=i.length;j<k;j++)h+=gecom.simulador.jogo_pontos(b,i[j]);h+="</ul></aside></article></div>",a("[simulador-tabela]").append(h),a.each(b.jogos,function(b,c){c.rodada==g.jogo_display.rodada&&a('[simulador-jogo="'+b+'"]').show()}),a('[simulador-tabela-fase="'+g.ordem+'"] [simulador-rodada]').attr("simulador-rodada",g.jogo_display.rodada),a('[simulador-tabela-fase="'+g.ordem+'"] [simulador-rodada-seletor]').html((g.jogo_display.rodada<10?"0":"")+g.jogo_display.rodada+"ª rodada"),a('[simulador-tabela-fase="'+g.ordem+'"] [simulador-rodadas-length]').attr("simulador-rodadas-length",g.max_rodadas),g.jogo_display.rodada!=g.max_rodadas&&a('[simulador-tabela-fase="'+g.ordem+'"] [simulador-rodada-ff]').addClass("tabela-navegacao-setas-ativa"),1!=g.jogo_display.rodada&&a('[simulador-tabela-fase="'+g.ordem+'"] [simulador-rodada-rw]').addClass("tabela-navegacao-setas-ativa")}else 2==g.tipo.tipo_id&&(h+='<header><h2 class="gui-text-section-title tabela-header-titulo">CONFRONTOS</h2></header><section class="mata-mata-conteudo">',a.each(g.chaves,function(){h+='<div class="chave-jogo-espacador"><div class="chave-jogo '+(1==g.formato.formato_id?"chave-jogo-ida-volta":"chave-jogo-ida")+' ">'+gecom.simulador.jogo_mata(b,this,b.jogos[this.jogo_1.jogo_id])+(1==g.formato.formato_id?gecom.simulador.jogo_mata(b,this,b.jogos[this.jogo_2.jogo_id]):"")+'<div class="chave-jogo-separador"><div class="chave-jogo-nome-centralizador"><span class="chave-jogo-nome">'+this.nome+"</span></div></div></div></div>",null==this.equipe_1.equipe_id&&(this.equipe_1.simulavel=!0),null==this.equipe_2.equipe_id&&(this.equipe_2.simulavel=!0)}),h+="</section>",a("[simulador-tabela]").append(h));a('[simulador-tabela-fase="'+g.ordem+'"] [simulador-rodada-ff]').click(function(b){b.preventDefault();var c=Number(a(this).parent().attr("simulador-rodada")),d=Number(a(this).parent().attr("simulador-rodadas-length"));c++,a(this).parent().find("[simulador-rodada-rw]").addClass("tabela-navegacao-setas-ativa"),c<=d&&(a(this).parent().attr("simulador-rodada",c),a(this).parent().find("[simulador-rodada-seletor]").html((c<10?"0":"")+c+"ª rodada"),a(this).parent().parent().find("[simulador-jogo-rodada]").hide(),a(this).parent().parent().find('[simulador-jogo-rodada="'+c+'"]').fadeIn()),c>=d&&a(this).removeClass("tabela-navegacao-setas-ativa")}),a('[simulador-tabela-fase="'+g.ordem+'"] [simulador-rodada-rw]').click(function(b){b.preventDefault();var c=Number(a(this).parent().attr("simulador-rodada"));Number(a(this).parent().attr("simulador-rodadas-length"));c--,a(this).parent().find("[simulador-rodada-ff]").addClass("tabela-navegacao-setas-ativa"),c>=1&&(a(this).parent().attr("simulador-rodada",c),a(this).parent().find("[simulador-rodada-seletor]").html((c<10?"0":"")+c+"ª rodada"),a(this).parent().parent().find("[simulador-jogo-rodada]").hide(),a(this).parent().parent().find('[simulador-jogo-rodada="'+c+'"]').fadeIn()),c<2&&a(this).removeClass("tabela-navegacao-setas-ativa")}),g.atual?(a("[simulador-fase-atual]").attr("simulador-fase-atual",g.ordem),a('span[simulador-fase="'+g.ordem+'"]').addClass("tabela-navegacao-seletor-ativo"),a('[simulador-tabela-fase="'+g.ordem+'"]').show()):a('[simulador-tabela-fase="'+g.ordem+'"]').hide(),e<g.ordem&&(e=g.ordem)}),a("[simulador-fase-length]").attr("simulador-fase-length",e),1!=Number(a("[simulador-fase-atual]").attr("simulador-fase-atual"))&&a('[simulador-fase-nav="rw"]').addClass("tabela-navegacao-setas-ativa"),Number(a("[simulador-fase-atual]").attr("simulador-fase-atual"))!=e&&a('[simulador-fase-nav="ff"]').addClass("tabela-navegacao-setas-ativa"),a("[simulador-fase-nav]").click(function(b){var c=Number(a(this).parent().attr("simulador-fase-atual")),d=Number(a(this).parent().attr("simulador-fase-length"));"ff"==a(this).attr("simulador-fase-nav")?c++:c--,c>=1&&c<=d&&(a("[simulador-fase-atual]").attr("simulador-fase-atual",c),a("span[simulador-fase]").removeClass("tabela-navegacao-seletor-ativo"),a("[simulador-tabela-fase]").hide(),a('span[simulador-fase="'+c+'"]').addClass("tabela-navegacao-seletor-ativo"),a('[simulador-tabela-fase="'+c+'"]').fadeIn()),c>=d?a('[simulador-fase-nav="ff"]').removeClass("tabela-navegacao-setas-ativa"):a('[simulador-fase-nav="ff"]').addClass("tabela-navegacao-setas-ativa"),c<=1?a('[simulador-fase-nav="rw"]').removeClass("tabela-navegacao-setas-ativa"):a('[simulador-fase-nav="rw"]').addClass("tabela-navegacao-setas-ativa")}),b},corpo_tabela_pontos:function(a,b,c){return string='<section class="section-container"><header><h2 class="gui-text-section-title tabela-header-titulo">'+b+'</h2></header><div class="tabela tabela-sem-jogos-por-grupo"><table class="tabela-times"><colgroup><col class="tabela-times-col-posicao"><col class="tabela-times-col-time"><col class="tabela-times-col-variacao"></colgroup><thead><tr class="tabela-head-linha"><th class="tabela-times-head" colspan="3">Classificação</th></tr></thead><tbody simulador-'+a+'-equipes="'+c+'"></tbody></table><div class="tabela-scroll overthrow" style="opacity: 1;padding-left: 250px;"><table class="tabela-pontos"><thead><tr class="tabela-head-linha"><th>P</th><th>J</th><th>V</th><th>E</th><th>D</th><th class="tabela-pontos-th-duplo">GP</th><th class="tabela-pontos-th-duplo">GC</th><th class="tabela-pontos-th-duplo">SG</th><th>%</th><th class="tabela-pontos-th-longo">ÚLT. JOGOS</th></tr></thead><tbody simulador-'+a+'-valores="'+c+'"></tbody></table></div></div></section>',string},corpo_tabela_grupos:function(a,b,c){return string='<section class="section-container"><header><h2 class="gui-text-section-title tabela-header-titulo">'+b+'</h2></header><div class="tabela tabela-com-jogos-por-grupo"><table class="tabela-times"><colgroup><col class="tabela-times-col-posicao"><col class="tabela-times-col-time"><col class="tabela-times-col-variacao"></colgroup><thead><tr class="tabela-head-linha"><th class="tabela-times-head" colspan="3">Classificação</th></tr></thead><tbody simulador-'+a+'-equipes="'+c+'"></tbody></table><div class="tabela-scroll overthrow" style="opacity: 1;padding-left: 250px;"><table class="tabela-pontos"><thead><tr class="tabela-head-linha"><th>P</th><th>J</th><th>V</th><th>E</th><th>D</th><th class="tabela-pontos-th-duplo">GP</th><th class="tabela-pontos-th-duplo">GC</th><th class="tabela-pontos-th-duplo">SG</th><th>%</th><th class="tabela-pontos-th-longo">ÚLT. JOGOS</th></tr></thead><tbody simulador-'+a+'-valores="'+c+'"></tbody></table></div></div><aside class="lista-de-jogos lista-de-jogos-dentro-grupo" data-jogos-grupo="'+c+'"><header><h2 class="gui-text-section-title tabela-header-titulo">JOGOS</h2></header><nav class="tabela-navegacao tabela-navegacao-jogos" simulador-rodada="" simulador-rodadas-length=""><span class="gui-icon gui-icon-arrow-left-highlight tabela-navegacao-setas tabela-navegacao-anterior" simulador-rodada-rw></span><span class="tabela-navegacao-seletor" simulador-rodada-seletor></span><span class="gui-icon gui-icon-arrow-right-highlight tabela-navegacao-setas tabela-navegacao-proximo" simulador-rodada-ff></span></nav><ul class="lista-de-jogos-conteudo"></ul></aside></section>',string},info_jogo:function(a,b){return string=(null!==b.data_realizacao?gecom.simulador.dia[b.data_obj.getDay()]+" "+(b.data_obj.getDate()<10?"0":"")+b.data_obj.getDate()+"/"+gecom.simulador.mes[b.data_obj.getMonth()]+"/"+b.data_obj.getFullYear():"")+' <span class="placar-jogo-informacoes-local">'+(null!==b.sede_id?a.sedes[b.sede_id].nome_popular:"")+"</span> "+(null!==b.hora_realizacao?b.hora_realizacao.split(":")[0]+":"+b.hora_realizacao.split(":")[1]:""),string},placar_jogo:function(a,b){return string=(a?"":'<div class="simulador-placar">')+'<span class="placar-jogo-equipes-item placar-jogo-equipes-placar">'+(a?' <span class="placar-jogo-equipes-placar-mandante">'+b.placar_oficial_mandante+"</span> ":' <input type="number" class="placar-input" simulador-placar-mando="placar_oficial_mandante" simulador-placar-jogo="'+b.jogo_id+'" '+(null!=b.placar_oficial_mandante?'value="'+b.placar_oficial_mandante+'" min="'+b.placar_oficial_mandante+'"':' min="0"')+' max="19">')+'<span class="tabela-icone tabela-icone-versus"></span>'+(a?' <span class="placar-jogo-equipes-placar-visitante">'+b.placar_oficial_visitante+"</span>":'<input type="number" class="placar-input" simulador-placar-mando="placar_oficial_visitante" simulador-placar-jogo="'+b.jogo_id+'" '+(null!=b.placar_oficial_visitante?'value="'+b.placar_oficial_visitante+'" min="'+b.placar_oficial_visitante+'"':' min="0"')+' max="19">')+"</span>"+(a?"":"</div>"),string},jogo_mata:function(a,b,c){var d=c.data_obj.getTime()+72e5<gecom.simulador.agora.getTime();return string='<div class="placar-jogo"><div class="placar-jogo-informacoes">'+gecom.simulador.info_jogo(a,c)+'</div><div class="placar-jogo-equipes" simulador-jogo="'+c.jogo_id+'"><span class="placar-jogo-equipes-item placar-jogo-equipes-mandante" simulador-jogo-mata="mandante"></span>'+gecom.simulador.placar_jogo(d,c)+'<span class="placar-jogo-equipes-item placar-jogo-equipes-visitante" simulador-jogo-mata="visitante"></span></div></div>',string},jogo_pontos:function(a,b){var c=b.data_obj.getTime()+72e5<gecom.simulador.agora.getTime();return string='<li class="lista-de-jogos-item" simulador-jogo-rodada="'+b.rodada+'" simulador-jogo="'+b.jogo_id+'" style="display:none;"><div class="placar-jogo"><div class="placar-jogo-informacoes">'+gecom.simulador.info_jogo(a,b)+'</div><div class="placar-jogo-equipes"><span class="placar-jogo-equipes-item placar-jogo-equipes-mandante">'+gecom.simulador.equipes_jogo(a,b).mandante+'</span><span class="placar-jogo-equipes-item placar-jogo-equipes-placar">'+(c?' <span class="placar-jogo-equipes-placar-mandante">'+b.placar_oficial_mandante+"</span> ":' <input type="number" class="placar-input" simulador-placar-mando="placar_oficial_mandante" simulador-placar-jogo="'+b.jogo_id+'" '+(null!=b.placar_oficial_mandante?'value="'+b.placar_oficial_mandante+'" min="'+b.placar_oficial_mandante+'"':' min="0"')+' max="19">')+'<span class="tabela-icone tabela-icone-versus"></span>'+(c?' <span class="placar-jogo-equipes-placar-visitante">'+b.placar_oficial_visitante+"</span>":'<input type="number" class="placar-input" simulador-placar-mando="placar_oficial_visitante" simulador-placar-jogo="'+b.jogo_id+'" '+(null!=b.placar_oficial_visitante?'value="'+b.placar_oficial_visitante+'" min="'+b.placar_oficial_visitante+'"':' min="0"')+' max="19">')+'</span><span class="placar-jogo-equipes-item placar-jogo-equipes-visitante">'+gecom.simulador.equipes_jogo(a,b).visitante+"</span></div></div></li>",string},tabela:function(b,c){var d={};return a.each(b.jogos,function(a,b){c&&b.fase_id!=c||null===b.placar_oficial_mandante||null===b.placar_oficial_visitante||null===b.equipe_mandante_id||null===b.equipe_visitante_id||(d[b.equipe_mandante_id]||null===b.equipe_mandante_id||(d[b.equipe_mandante_id]={equipe_id:b.equipe_mandante_id,pontos:0,saldoGols:0,gols:0,golsFora:0,penaltis:0,jogos:0,v:0,e:0,d:0,sequencia:[]}),d[b.equipe_visitante_id]||null===b.equipe_mandante_id||(d[b.equipe_visitante_id]={equipe_id:b.equipe_visitante_id,pontos:0,saldoGols:0,gols:0,golsFora:0,penaltis:0,jogos:0,v:0,e:0,d:0,sequencia:[]}),b.placar_oficial_mandante>b.placar_oficial_visitante?(d[b.equipe_mandante_id].pontos+=3,d[b.equipe_mandante_id].v++,d[b.equipe_visitante_id].d++,d[b.equipe_mandante_id].sequencia.push({resultado:"v",jogo:this.jogo_id}),d[b.equipe_visitante_id].sequencia.push({resultado:"d",jogo:this.jogo_id})):b.placar_oficial_mandante<b.placar_oficial_visitante?(d[b.equipe_visitante_id].pontos+=3,d[b.equipe_visitante_id].v++,d[b.equipe_mandante_id].d++,d[b.equipe_mandante_id].sequencia.push({resultado:"d",jogo:this.jogo_id}),d[b.equipe_visitante_id].sequencia.push({resultado:"v",jogo:this.jogo_id})):(d[b.equipe_mandante_id].pontos+=1,d[b.equipe_visitante_id].pontos+=1,d[b.equipe_visitante_id].e++,d[b.equipe_mandante_id].e++,d[b.equipe_mandante_id].sequencia.push({resultado:"e",jogo:this.jogo_id}),d[b.equipe_visitante_id].sequencia.push({resultado:"e",jogo:this.jogo_id})),d[b.equipe_mandante_id].gols+=b.placar_oficial_mandante,d[b.equipe_mandante_id].saldoGols+=b.placar_oficial_mandante-b.placar_oficial_visitante,d[b.equipe_mandante_id].penaltis+=b.placar_penaltis_mandante,d[b.equipe_mandante_id].jogos++,d[b.equipe_visitante_id].gols+=b.placar_oficial_visitante,d[b.equipe_visitante_id].golsFora+=b.placar_oficial_visitante,d[b.equipe_visitante_id].saldoGols+=b.placar_oficial_visitante-b.placar_oficial_mandante,d[b.equipe_visitante_id].penaltis+=b.placar_penaltis_visitante,d[b.equipe_visitante_id].jogos++)}),d},simula_mata:function(b,c,d){var e=gecom.simulador.tabela(b,c),f=[],g=[];return d=d||{},a.each(b.fases[c].chaves,function(a,h){var i=[];null!=h.equipe_1.equipe_id&&i.push(h.equipe_1.equipe_id),null!=h.equipe_2.equipe_id&&i.push(h.equipe_2.equipe_id),i.sort(function(a,c){return e[c]&&e[a]?e[c].pontos!=e[a].pontos?e[c].pontos-e[a].pontos:e[c].v!=e[a].v?e[c].v-e[a].v:e[c].saldoGols!=e[a].saldoGols?e[c].saldoGols-e[a].saldoGols:d.gol_fora&&e[c].golsFora!=e[a].golsFora?e[c].golsFora-e[a].golsFora:e[c].gols!=e[a].gols?e[c].gols-e[a].gols:b.equipes[a].nome_popular.localeCompare(b.equipes[c].nome_popular):e[c]?1:e[a]?-1:void 0}),0==b.fases[c].formato.formato_id?(b.jogos[h.jogo_1.jogo_id].equipe_mandante_id=h.equipe_1.equipe_id,b.jogos[h.jogo_1.jogo_id].equipe_visitante_id=h.equipe_2.equipe_id,gecom.simulador.equipes_jogo(b,b.jogos[h.jogo_1.jogo_id],h.equipe_1.label,h.equipe_2.label),null!=h.equipe_1.equipe_id&&null!=h.equipe_2.equipe_id&&null!==b.jogos[h.jogo_1.jogo_id].placar_oficial_mandante&&null!==b.jogos[h.jogo_1.jogo_id].placar_oficial_visitante&&null!==b.jogos[h.jogo_1.jogo_id].equipe_mandante_id&&null!==b.jogos[h.jogo_1.jogo_id].equipe_visitante_id?b.jogos[h.jogo_1.jogo_id].placar_oficial_mandante!=b.jogos[h.jogo_1.jogo_id].placar_oficial_visitante||b.jogos[h.jogo_1.jogo_id].placar_penaltis_mandante!=b.jogos[h.jogo_1.jogo_id].placar_penaltis_visitante?(h.vencedor_chave_id=i[0],h.perdedor_chave_id=i[1]):d.carioca?(h.vencedor_chave_id=h.equipe_1.equipe_id,h.perdedor_chave_id=h.equipe_2.equipe_id):(h.vencedor_chave_id=null,h.perdedor_chave_id=null):(h.vencedor_chave_id=null,h.perdedor_chave_id=null),f.push(h.vencedor_chave_id),g.push(h.perdedor_chave_id)):1==b.fases[c].formato.formato_id&&(h.equipe_1.simulavel&&(b.jogos[h.jogo_1.jogo_id].equipe_visitante_id=h.equipe_1.equipe_id,b.jogos[h.jogo_2.jogo_id].equipe_mandante_id=h.equipe_1.equipe_id),h.equipe_2.simulavel&&(b.jogos[h.jogo_1.jogo_id].equipe_mandante_id=h.equipe_2.equipe_id,b.jogos[h.jogo_2.jogo_id].equipe_visitante_id=h.equipe_2.equipe_id),gecom.simulador.equipes_jogo(b,b.jogos[h.jogo_1.jogo_id],h.equipe_2.label,h.equipe_1.label),gecom.simulador.equipes_jogo(b,b.jogos[h.jogo_2.jogo_id],h.equipe_1.label,h.equipe_2.label),null!=h.equipe_1.equipe_id&&null!=h.equipe_2.equipe_id&&null!==b.jogos[h.jogo_1.jogo_id].placar_oficial_mandante&&null!==b.jogos[h.jogo_1.jogo_id].placar_oficial_visitante&&null!==b.jogos[h.jogo_2.jogo_id].placar_oficial_mandante&&null!==b.jogos[h.jogo_2.jogo_id].placar_oficial_visitante&&e[h.equipe_1.equipe_id]&&e[h.equipe_2.equipe_id]?e[h.equipe_1.equipe_id].v!=e[h.equipe_2.equipe_id].v||e[h.equipe_1.equipe_id].saldoGols!=e[h.equipe_2.equipe_id].saldoGols||e[h.equipe_1.equipe_id].penaltis!=e[h.equipe_2.equipe_id].penaltis||d.gol_fora&&e[h.equipe_1.equipe_id].golsFora!=e[h.equipe_2.equipe_id].golsFora?(h.vencedor_chave_id=i[0],h.perdedor_chave_id=i[1]):d.carioca?(h.vencedor_chave_id=h.equipe_1.equipe_id,h.perdedor_chave_id=h.equipe_2.equipe_id):(h.vencedor_chave_id=null,h.perdedor_chave_id=null):(h.vencedor_chave_id=null,h.perdedor_chave_id=null),f.push(h.vencedor_chave_id),g.push(h.perdedor_chave_id))}),d.terceiro?{classificados:f,eliminados:g}:f},equipes_jogo:function(b,c,d,e){var f=null==c.equipe_mandante_id?"placar-jogo-equipes-placeholder":"",g='<span class="placar-jogo-equipes-sigla '+f+'" title="'+(null==c.equipe_mandante_id?d:b.equipes[c.equipe_mandante_id].nome_popular)+'">'+(null==c.equipe_mandante_id?d:b.equipes[c.equipe_mandante_id].sigla)+'</span><span class="placar-jogo-equipes-nome '+f+'">'+(null==c.equipe_mandante_id?d:b.equipes[c.equipe_mandante_id].nome_popular)+'</span><img class="placar-jogo-equipes-escudo-mandante" src="'+(null==c.equipe_mandante_id?"http://s.glbimg.com/es/sde/f/organizacoes/escudo_default_65x65.png":b.equipes[c.equipe_mandante_id].escudos["60x60"])+'" width="30" height="30" title="'+(null==c.equipe_mandante_id?d:b.equipes[c.equipe_mandante_id].nome_popular)+'">';a('[simulador-jogo="'+c.jogo_id+'"] [simulador-jogo-mata="mandante"]').html(g),f=null==c.equipe_visitante_id?"placar-jogo-equipes-placeholder":"";var h='<img class="placar-jogo-equipes-escudo-visitante" src="'+(null==c.equipe_visitante_id?"http://s.glbimg.com/es/sde/f/organizacoes/escudo_default_65x65.png":b.equipes[c.equipe_visitante_id].escudos["60x60"])+'" width="30" height="30" title="'+(null==c.equipe_visitante_id?e:b.equipes[c.equipe_visitante_id].nome_popular)+'"><span class="placar-jogo-equipes-sigla '+f+'" title="'+(null==c.equipe_visitante_id?e:b.equipes[c.equipe_visitante_id].nome_popular)+'">'+(null==c.equipe_visitante_id?e:b.equipes[c.equipe_visitante_id].sigla)+'</span><span class="placar-jogo-equipes-nome '+f+'">'+(null==c.equipe_visitante_id?e:b.equipes[c.equipe_visitante_id].nome_popular)+"</span>";return a('[simulador-jogo="'+c.jogo_id+'"] [simulador-jogo-mata="visitante"]').html(h),{mandante:g,visitante:h}},simula_grupos:function(b,c,d){var e=gecom.simulador.tabela(b,c),f=[];return d=d||{},d.faixa1||(d.faixa1=0),d.faixa2||(d.faixa2=0),d.rebaixados||(d.rebaixados=0),a.each(b.fases[c].grupos,function(g,h){h.equipes.sort(function(a,f){return e[f]&&e[a]?d.gol_fora?e[f].pontos!=e[a].pontos?e[f].pontos-e[a].pontos:e[f].saldoGols!=e[a].saldoGols?e[f].saldoGols-e[a].saldoGols:e[f].gols!=e[a].gols?e[f].gols-e[a].gols:d.gol_fora&&e[f].golsFora!=e[a].golsFora?e[f].golsFora-e[a].golsFora:b.equipes[a].nome_popular.localeCompare(b.equipes[f].nome_popular):e[f].pontos!=e[a].pontos?e[f].pontos-e[a].pontos:e[f].v!=e[a].v?e[f].v-e[a].v:e[f].saldoGols!=e[a].saldoGols?e[f].saldoGols-e[a].saldoGols:e[f].gols!=e[a].gols?e[f].gols-e[a].gols:d.confronto_direto?gecom.simulador.confronto_direto(b,c,a,f):b.equipes[a].nome_popular.localeCompare(b.equipes[f].nome_popular):e[f]?1:e[a]?-1:b.equipes[a].nome_popular.localeCompare(b.equipes[f].nome_popular)});for(var i="",j="",k=1,l=0,m=this.equipes.length;l<m;l++){l>0&&e[this.equipes[l]]&&e[this.equipes[l-1]]&&(e[this.equipes[l]].pontos!=e[this.equipes[l-1]].pontos||e[this.equipes[l]].saldoGols!=e[this.equipes[l-1]].saldoGols||e[this.equipes[l]].gols!=e[this.equipes[l-1]].gols||d.gol_fora&&e[this.equipes[l]].golsFora!=e[this.equipes[l-1]].golsFora||e[this.equipes[l]].v!=e[this.equipes[l-1]].v)&&(k=l+1);var n="";if(l<d.faixa1&&e[this.equipes[l]]?n='style="color:#0000ff;"':l<d.faixa1+d.faixa2&&e[this.equipes[l]]?n='style="color:#00ffff;"':l>=m-d.rebaixados&&e[this.equipes[l]]&&(n='style="color:#ff0000;"'),i+='<tr class="tabela-body-linha"><td class="tabela-times-posicao"'+n+' data-simulador-rebaixa="'+this.equipes[l]+'">'+(e[this.equipes[l]]?k:"-")+'</td><td class="tabela-times-time"><strong class="tabela-times-time-nome">'+b.equipes[this.equipes[l]].nome_popular+'</strong><span class="tabela-times-time-sigla">'+b.equipes[this.equipes[l]].sigla+'</span></td><td class="tabela-times-variacao"><span></span></td></tr>',j+='<tr class="tabela-body-linha"><td class="tabela-pontos-ponto">'+(e[this.equipes[l]]?e[this.equipes[l]].pontos:"-")+"</td><td>"+(e[this.equipes[l]]?e[this.equipes[l]].jogos:"-")+"</td><td>"+(e[this.equipes[l]]?e[this.equipes[l]].v:"-")+"</td><td>"+(e[this.equipes[l]]?e[this.equipes[l]].e:"-")+"</td><td>"+(e[this.equipes[l]]?e[this.equipes[l]].d:"-")+"</td><td>"+(e[this.equipes[l]]?e[this.equipes[l]].gols:"-")+"</td><td>"+(e[this.equipes[l]]?Math.abs(e[this.equipes[l]].saldoGols-e[this.equipes[l]].gols):"-")+"</td><td>"+(e[this.equipes[l]]?e[this.equipes[l]].saldoGols:"-")+"</td><td>"+(e[this.equipes[l]]?gecom.numero(100*e[this.equipes[l]].pontos/(3*e[this.equipes[l]].jogos),1)+"":"-")+'</td><td class="tabela-pontos-ultimos-jogos">',e[this.equipes[l]]){e[this.equipes[l]].sequencia.sort(function(a,c){return new Date(b.jogos[c.jogo].data_realizacao).getTime()-new Date(b.jogos[a.jogo].data_realizacao).getTime()});for(var o=e[this.equipes[l]].sequencia.length>5?e[this.equipes[l]].sequencia.length-5:0,p=e[this.equipes[l]].sequencia.length;o<p;o++)j+='<span class="tabela-icone tabela-icone-circulo tabela-icone-'+e[this.equipes[l]].sequencia[o].resultado+'"></span>'}j+="</td></tr>",l<d.faixa1+d.faixa2&&e[this.equipes[l]]?f.push(this.equipes[l]):l<d.faixa1+d.faixa2&&f.push(null)}a('[simulador-grupo-equipes="'+g+'"]').html(i),a('[simulador-grupo-valores="'+g+'"]').html(j)}),f},confronto_direto:function(b,c,d,e,f){var g={};return g[d]={equipe_id:d,pontos:0,saldoGols:0,gols:0,golsFora:0,penaltis:0,jogos:0,v:0,e:0,d:0,sequencia:[]},g[e]={equipe_id:e,pontos:0,saldoGols:0,gols:0,golsFora:0,penaltis:0,jogos:0,v:0,e:0,d:0,sequencia:[]},a.each(b.jogos,function(a,b){c&&b.fase_id!=c||b.equipe_mandante_id!=d&&b.equipe_mandante_id!=e||b.equipe_visitante_id!=d&&b.equipe_visitante_id!=e||null===b.placar_oficial_mandante||null===b.placar_oficial_visitante||null===b.equipe_mandante_id||null===b.equipe_visitante_id||(b.placar_oficial_mandante>b.placar_oficial_visitante?(g[b.equipe_mandante_id].pontos+=3,g[b.equipe_mandante_id].v++,g[b.equipe_visitante_id].d++,g[b.equipe_mandante_id].sequencia.push({resultado:"v",jogo:this.jogo_id}),g[b.equipe_visitante_id].sequencia.push({resultado:"d",jogo:this.jogo_id})):b.placar_oficial_mandante<b.placar_oficial_visitante?(g[b.equipe_visitante_id].pontos+=3,g[b.equipe_visitante_id].v++,g[b.equipe_mandante_id].d++,g[b.equipe_mandante_id].sequencia.push({resultado:"d",jogo:this.jogo_id}),g[b.equipe_visitante_id].sequencia.push({resultado:"v",jogo:this.jogo_id})):(g[b.equipe_mandante_id].pontos+=1,g[b.equipe_visitante_id].pontos+=1,g[b.equipe_visitante_id].e++,g[b.equipe_mandante_id].e++,g[b.equipe_mandante_id].sequencia.push({resultado:"e",jogo:this.jogo_id}),g[b.equipe_visitante_id].sequencia.push({resultado:"e",jogo:this.jogo_id})),g[b.equipe_mandante_id].gols+=b.placar_oficial_mandante,g[b.equipe_mandante_id].saldoGols+=b.placar_oficial_mandante-b.placar_oficial_visitante,g[b.equipe_mandante_id].penaltis+=b.placar_penaltis_mandante,g[b.equipe_mandante_id].jogos++,g[b.equipe_visitante_id].gols+=b.placar_oficial_visitante,g[b.equipe_visitante_id].golsFora+=b.placar_oficial_visitante,g[b.equipe_visitante_id].saldoGols+=b.placar_oficial_visitante-b.placar_oficial_mandante,g[b.equipe_visitante_id].penaltis+=b.placar_penaltis_visitante,g[b.equipe_visitante_id].jogos++)}),g[e].pontos!=g[d].pontos?g[e].pontos-g[d].pontos:g[e].v!=g[d].v?g[e].v-g[d].v:g[e].saldoGols!=g[d].saldoGols?g[e].saldoGols-g[d].saldoGols:g[e].gols!=g[d].gols?g[e].gols-g[d].gols:f&&g[e].golsFora!=g[d].golsFora?g[e].golsFora-g[d].golsFora:b.equipes[d].nome_popular.localeCompare(b.equipes[e].nome_popular)},simula_pontos:function(b,c,d){var e=gecom.simulador.tabela(b,c),f=[];d=d||{},d.faixa1||(d.faixa1=0),d.faixa2||(d.faixa2=0),d.rebaixados||(d.rebaixados=0),void 0===d.vitorias&&(d.vitorias=!0),b.fases[c].equipes.sort(function(a,f){return e[f]&&e[a]?e[f].pontos!=e[a].pontos?e[f].pontos-e[a].pontos:d.vitorias&&e[f].v!=e[a].v?e[f].v-e[a].v:e[f].saldoGols!=e[a].saldoGols?e[f].saldoGols-e[a].saldoGols:d.gol_fora&&e[f].golsFora!=e[a].golsFora?e[f].saldoGols-e[a].saldoGols:e[f].gols!=e[a].gols?e[f].gols-e[a].gols:d.confronto_direto?gecom.simulador.confronto_direto(b,c,a,f,d.gol_fora_confronto_direto||d.gol_fora):b.equipes[a].nome_popular.localeCompare(b.equipes[f].nome_popular):e[f]?1:e[a]?-1:b.equipes[a].nome_popular.localeCompare(b.equipes[f].nome_popular)});for(var g="",h="",i=1,j=0,k=b.fases[c].equipes.length;j<k;j++){j>0&&e[b.fases[c].equipes[j]]&&e[b.fases[c].equipes[j-1]]&&(e[b.fases[c].equipes[j]].pontos!=e[b.fases[c].equipes[j-1]].pontos||e[b.fases[c].equipes[j]].saldoGols!=e[b.fases[c].equipes[j-1]].saldoGols||e[b.fases[c].equipes[j]].gols!=e[b.fases[c].equipes[j-1]].gols||d.gol_fora&&e[b.fases[c].equipes[j]].golsFora!=e[b.fases[c].equipes[j-1]].golsFora||e[b.fases[c].equipes[j]].v!=e[b.fases[c].equipes[j-1]].v)&&(i=j+1);var l="";if(j<d.faixa1&&e[b.fases[c].equipes[j]]?l='style="color:#0000ff;"':j<d.faixa1+d.faixa2&&e[b.fases[c].equipes[j]]?l='style="color:#00ffff;"':j>=k-d.rebaixados&&e[b.fases[c].equipes[j]]&&(l='style="color:#ff0000;"'),g+='<tr class="tabela-body-linha"><td class="tabela-times-posicao"'+l+">"+(e[b.fases[c].equipes[j]]?i:"-")+'</td><td class="tabela-times-time"><strong class="tabela-times-time-nome">'+b.equipes[b.fases[c].equipes[j]].nome_popular+'</strong><span class="tabela-times-time-sigla">'+b.equipes[b.fases[c].equipes[j]].sigla+'</span></td><td class="tabela-times-variacao"><span></span></td></tr>',h+='<tr class="tabela-body-linha"><td class="tabela-pontos-ponto">'+(e[b.fases[c].equipes[j]]?e[b.fases[c].equipes[j]].pontos:"-")+"</td><td>"+(e[b.fases[c].equipes[j]]?e[b.fases[c].equipes[j]].jogos:"-")+"</td><td>"+(e[b.fases[c].equipes[j]]?e[b.fases[c].equipes[j]].v:"-")+"</td><td>"+(e[b.fases[c].equipes[j]]?e[b.fases[c].equipes[j]].e:"-")+"</td><td>"+(e[b.fases[c].equipes[j]]?e[b.fases[c].equipes[j]].d:"-")+"</td><td>"+(e[b.fases[c].equipes[j]]?e[b.fases[c].equipes[j]].gols:"-")+"</td><td>"+(e[b.fases[c].equipes[j]]?Math.abs(e[b.fases[c].equipes[j]].saldoGols-e[b.fases[c].equipes[j]].gols):"-")+"</td><td>"+(e[b.fases[c].equipes[j]]?e[b.fases[c].equipes[j]].saldoGols:"-")+"</td><td>"+(e[b.fases[c].equipes[j]]?gecom.numero(100*e[b.fases[c].equipes[j]].pontos/(3*e[b.fases[c].equipes[j]].jogos),1)+"":"-")+'</td><td class="tabela-pontos-ultimos-jogos">',e[b.fases[c].equipes[j]]){e[b.fases[c].equipes[j]].sequencia.sort(function(a,c){return new Date(b.jogos[a.jogo].data_realizacao).getTime()-new Date(b.jogos[c.jogo].data_realizacao).getTime()})
;for(var m=e[b.fases[c].equipes[j]].sequencia.length>5?e[b.fases[c].equipes[j]].sequencia.length-5:0,n=e[b.fases[c].equipes[j]].sequencia.length;m<n;m++)h+='<span class="tabela-icone tabela-icone-circulo tabela-icone-'+e[b.fases[c].equipes[j]].sequencia[m].resultado+'"></span>'}h+="</td></tr>",j<d.faixa1+d.faixa2&&e[b.fases[c].equipes[j]]?f.push(b.fases[c].equipes[j]):j<d.faixa1+d.faixa2&&f.push(null)}return a('[simulador-pontos-corridos-equipes="'+b.fases[c].fase_id+'"]').html(g),a('[simulador-pontos-corridos-valores="'+b.fases[c].fase_id+'"]').html(h),f},digita_placar:function(b,c,d){var e=a(b).attr("simulador-placar-mando"),f=isNaN(a(b).attr("min"))?0:a(b).attr("min"),g=isNaN(a(b).attr("max"))?0:a(b).attr("max"),h=a(b).val();""===a(b).val()?(a(b).attr("value",""),d[e]=null):isNaN(h)||(a(b).attr("value",Math.min(g,Math.max(Number(h),f))),d[e]=Number(h)>=Number(f)?Number(h):Number(f))}}}(jQuery);